/* @license MIT https://raw.githubusercontent.com/jquery/jquery/3.7.1/LICENSE.txt */
/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(ie,e){"use strict";var oe=[],r=Object.getPrototypeOf,ae=oe.slice,g=oe.flat?function(e){return oe.flat.call(e)}:function(e){return oe.concat.apply([],e)},s=oe.push,se=oe.indexOf,n={},i=n.toString,ue=n.hasOwnProperty,o=ue.toString,a=o.call(Object),le={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},C=ie.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||C).createElement("script");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var t="3.7.1",l=/HTML$/i,ce=function(e,t){return new ce.fn.init(e,t)};function c(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function fe(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ce.fn=ce.prototype={jquery:t,constructor:ce,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(n){return this.pushStack(ce.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:oe.sort,splice:oe.splice},ce.extend=ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||ce.isPlainObject(n)?n:{},i=!1,a[t]=ce.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ce.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e))&&(!(t=r(e))||"function"==typeof(n=ue.call(t,"constructor")&&t.constructor)&&o.call(n)===a)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)while(t=e[r++])n+=ce.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?ce.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!l.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(c(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:le}),"function"==typeof Symbol&&(ce.fn[Symbol.iterator]=oe[Symbol.iterator]),ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var pe=oe.pop,de=oe.sort,he=oe.splice,ge="[\\x20\\t\\r\\n\\f]",ve=new RegExp("^"+ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ge+"+$","g");ce.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var f=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function p(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}ce.escapeSelector=function(e){return(e+"").replace(f,p)};var ye=C,me=s;!function(){var e,b,w,o,a,T,r,C,d,i,k=me,S=ce.expando,E=0,n=0,s=W(),c=W(),u=W(),h=W(),l=function(e,t){return e===t&&(a=!0),0},f="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",p="\\["+ge+"*("+t+")(?:"+ge+"*([*^$|!~]?=)"+ge+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+ge+"*\\]",g=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+p+")*)|.*)\\)|)",v=new RegExp(ge+"+","g"),y=new RegExp("^"+ge+"*,"+ge+"*"),m=new RegExp("^"+ge+"*([>+~]|"+ge+")"+ge+"*"),x=new RegExp(ge+"|>"),j=new RegExp(g),A=new RegExp("^"+t+"$"),D={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+p),PSEUDO:new RegExp("^"+g),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ge+"*(even|odd|(([+-]|)(\\d*)n|)"+ge+"*(?:([+-]|)"+ge+"*(\\d+)|))"+ge+"*\\)|)","i"),bool:new RegExp("^(?:"+f+")$","i"),needsContext:new RegExp("^"+ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ge+"*((?:-\\d)?\\d*)"+ge+"*\\)|)(?=[^-]|$)","i")},N=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,L=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,H=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\([^\\r\\n\\f])","g"),P=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},M=function(){V()},R=J(function(e){return!0===e.disabled&&fe(e,"fieldset")},{dir:"parentNode",next:"legend"});try{k.apply(oe=ae.call(ye.childNodes),ye.childNodes),oe[ye.childNodes.length].nodeType}catch(e){k={apply:function(e,t){me.apply(e,ae.call(t))},call:function(e){me.apply(e,ae.call(arguments,1))}}}function I(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(V(e),e=e||T,C)){if(11!==p&&(u=L.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return k.call(n,a),n}else if(f&&(a=f.getElementById(i))&&I.contains(e,a)&&a.id===i)return k.call(n,a),n}else{if(u[2])return k.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return k.apply(n,e.getElementsByClassName(i)),n}if(!(h[t+" "]||d&&d.test(t))){if(c=t,f=e,1===p&&(x.test(t)||m.test(t))){(f=H.test(t)&&U(e.parentNode)||e)==e&&le.scope||((s=e.getAttribute("id"))?s=ce.escapeSelector(s):e.setAttribute("id",s=S)),o=(l=Y(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+Q(l[o]);c=l.join(",")}try{return k.apply(n,f.querySelectorAll(c)),n}catch(e){h(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return re(t.replace(ve,"$1"),e,n,r)}function W(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function F(e){return e[S]=!0,e}function $(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function B(t){return function(e){return fe(e,"input")&&e.type===t}}function _(t){return function(e){return(fe(e,"input")||fe(e,"button"))&&e.type===t}}function z(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&R(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function X(a){return F(function(o){return o=+o,F(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function U(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function V(e){var t,n=e?e.ownerDocument||e:ye;return n!=T&&9===n.nodeType&&n.documentElement&&(r=(T=n).documentElement,C=!ce.isXMLDoc(T),i=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,r.msMatchesSelector&&ye!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener("unload",M),le.getById=$(function(e){return r.appendChild(e).id=ce.expando,!T.getElementsByName||!T.getElementsByName(ce.expando).length}),le.disconnectedMatch=$(function(e){return i.call(e,"*")}),le.scope=$(function(){return T.querySelectorAll(":scope")}),le.cssHas=$(function(){try{return T.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),le.getById?(b.filter.ID=function(e){var t=e.replace(O,P);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(O,P);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if("undefined"!=typeof t.getElementsByClassName&&C)return t.getElementsByClassName(e)},d=[],$(function(e){var t;r.appendChild(e).innerHTML="<a id='"+S+"' href='' disabled='disabled'></a><select id='"+S+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+ge+"*(?:value|"+f+")"),e.querySelectorAll("[id~="+S+"-]").length||d.push("~="),e.querySelectorAll("a#"+S+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=T.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+ge+"*name"+ge+"*="+ge+"*(?:''|\"\")")}),le.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),l=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==ye&&I.contains(ye,e)?-1:t===T||t.ownerDocument==ye&&I.contains(ye,t)?1:o?se.call(o,e)-se.call(o,t):0:4&n?-1:1)}),T}for(e in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(V(e),C&&!h[t+" "]&&(!d||!d.test(t)))try{var n=i.call(e,t);if(n||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){h(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&V(e),ce.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&V(e);var n=b.attrHandle[t.toLowerCase()],r=n&&ue.call(b.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==r?r:e.getAttribute(t)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,n=[],r=0,i=0;if(a=!le.sortStable,o=!le.sortStable&&ae.call(e,0),de.call(e,l),a){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)he.call(e,n[r],1)}return o=null,e},ce.fn.uniqueSort=function(){return this.pushStack(ce.uniqueSort(ae.apply(this)))},(b=ce.expr={cacheLength:50,createPseudo:F,match:D,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,P),e[3]=(e[3]||e[4]||e[5]||"").replace(O,P),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&j.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,P).toLowerCase();return"*"===e?function(){return!0}:function(e){return fe(e,t)}},CLASS:function(e){var t=s[e+" "];return t||(t=new RegExp("(^|"+ge+")"+e+"("+ge+"|$)"))&&s(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=I.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(v," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(d,e,t,h,g){var v="nth"!==d.slice(0,3),y="last"!==d.slice(-4),m="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!==y?"nextSibling":"previousSibling",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){while(u){o=e;while(o=o[u])if(m?fe(o,c):1===o.nodeType)return!1;s=u="only"===d&&!s&&"nextSibling"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){p=(a=(r=(i=l[S]||(l[S]={}))[d]||[])[0]===E&&r[1])&&r[2],o=a&&l.childNodes[a];while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if(1===o.nodeType&&++p&&o===e){i[d]=[E,a,p];break}}else if(f&&(p=a=(r=(i=e[S]||(e[S]={}))[d]||[])[0]===E&&r[1]),!1===p)while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if((m?fe(o,c):1===o.nodeType)&&++p&&(f&&((i=o[S]||(o[S]={}))[d]=[E,p]),o===e))break;return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=se.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:F(function(e){var r=[],i=[],s=ne(e.replace(ve,"$1"));return s[S]?F(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:F(function(t){return function(e){return 0<I(t,e).length}}),contains:F(function(t){return t=t.replace(O,P),function(e){return-1<(e.textContent||ce.text(e)).indexOf(t)}}),lang:F(function(n){return A.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(O,P).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=ie.location&&ie.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:z(!1),disabled:z(!0),checked:function(e){return fe(e,"input")&&!!e.checked||fe(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return fe(e,"input")&&"button"===e.type||fe(e,"button")},text:function(e){var t;return fe(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:X(function(){return[0]}),last:X(function(e,t){return[t-1]}),eq:X(function(e,t,n){return[n<0?n+t:n]}),even:X(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:X(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:X(function(e,t,n){var r;for(r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:X(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=B(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=_(e);function G(){}function Y(e,t){var n,r,i,o,a,s,u,l=c[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=m.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ve," ")}),a=a.slice(n.length)),b.filter)!(r=D[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):c(e,s).slice(0)}function Q(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function J(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,f=n++;return e.first?function(e,t,n){while(e=e[s])if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,f];if(n){while(e=e[s])if((1===e.nodeType||c)&&a(e,t,n))return!0}else while(e=e[s])if(1===e.nodeType||c)if(i=e[S]||(e[S]={}),u&&fe(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===E&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function K(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Z(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ee(d,h,g,v,y,e){return v&&!v[S]&&(v=ee(v)),y&&!y[S]&&(y=ee(y,e)),F(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)I(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Z(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v){i=Z(s,l),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a))}if(e){if(y||d){if(y){i=[],o=s.length;while(o--)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}o=s.length;while(o--)(a=s[o])&&-1<(i=y?se.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Z(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):k.apply(t,s)})}function te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=J(function(e){return e===i},a,!0),l=J(function(e){return-1<se.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!=w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[J(K(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return ee(1<s&&K(c),1<s&&Q(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ve,"$1"),t,s<n&&te(e.slice(s,n)),n<r&&te(e=e.slice(n)),n<r&&Q(e))}c.push(t)}return K(c)}function ne(e,t){var n,v,y,m,x,r,i=[],o=[],a=u[e+" "];if(!a){t||(t=Y(e)),n=t.length;while(n--)(a=te(t[n]))[S]?i.push(a):o.push(a);(a=u(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=E+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==T||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==T||(V(o),n=!C);while(s=v[a++])if(s(o,t||T,n)){k.call(r,o);break}i&&(E=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=pe.call(r));f=Z(f)}k.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&ce.uniqueSort(r)}return i&&(E=h,w=p),c},m?F(r):r))).selector=e}return a}function re(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&Y(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&C&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,P),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=D.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(O,P),H.test(o[0].type)&&U(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Q(o)))return k.apply(n,r),n;break}}}return(l||ne(e,c))(r,t,!C,n,!t||H.test(e)&&U(t.parentNode)||t),n}G.prototype=b.filters=b.pseudos,b.setFilters=new G,le.sortStable=S.split("").sort(l).join("")===S,V(),le.sortDetached=$(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ce.find=I,ce.expr[":"]=ce.expr.pseudos,ce.unique=ce.uniqueSort,I.compile=ne,I.select=re,I.setDocument=V,I.tokenize=Y,I.escape=ce.escapeSelector,I.getText=ce.text,I.isXML=ce.isXMLDoc,I.selectors=ce.expr,I.support=ce.support,I.uniqueSort=ce.uniqueSort}();var d=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&ce(e).is(n))break;r.push(e)}return r},h=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=ce.expr.match.needsContext,w=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,n,r){return v(n)?ce.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ce.grep(e,function(e){return e===n!==r}):"string"!=typeof n?ce.grep(e,function(e){return-1<se.call(n,e)!==r}):ce.filter(n,e,r)}ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ce.find(e,i[t],n);return 1<r?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&b.test(e)?ce(e):e||[],!1).length}});var k,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),w.test(r[1])&&ce.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this)}).prototype=ce.fn,k=ce(C);var E=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){while((e=e[t])&&1!==e.nodeType);return e}ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ce(e);if(!b.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(ce(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,n){return d(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,n){return d(e,"nextSibling",n)},prevUntil:function(e,t,n){return d(e,"previousSibling",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(fe(e,"template")&&(e=e.content||e),ce.merge([],e.childNodes))}},function(r,i){ce.fn[r]=function(e,t){var n=ce.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ce.filter(t,n)),1<this.length&&(j[r]||ce.uniqueSort(n),E.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;function N(e){return e}function q(e){throw e}function L(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ce.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},ce.each(e.match(D)||[],function(e,t){n[t]=!0}),n):ce.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ce.each(e,function(e,t){v(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ce.each(arguments,function(e,t){var n;while(-1<(n=ce.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ce.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(e){var o=[["notify","progress",ce.Callbacks("memory"),ce.Callbacks("memory"),2],["resolve","done",ce.Callbacks("once memory"),ce.Callbacks("once memory"),0,"resolved"],["reject","fail",ce.Callbacks("once memory"),ce.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ce.Deferred(function(r){ce.each(o,function(e,t){var n=v(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,o,N,s),l(u,o,q,s)):(u++,t.call(e,l(u,o,N,s),l(u,o,q,s),l(u,o,N,o.notifyWith))):(a!==N&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(e,t.error),u<=i+1&&(a!==q&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ce.Deferred.getErrorHook?t.error=ce.Deferred.getErrorHook():ce.Deferred.getStackHook&&(t.error=ce.Deferred.getStackHook()),ie.setTimeout(t))}}return ce.Deferred(function(e){o[0][3].add(l(0,e,v(r)?r:N,e.notifyWith)),o[1][3].add(l(0,e,v(t)?t:N)),o[2][3].add(l(0,e,v(n)?n:q))}).promise()},promise:function(e){return null!=e?ce.extend(e,a):a}},s={};return ce.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=ae.call(arguments),o=ce.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?ae.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(L(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||v(i[t]&&i[t].then)))return o.then();while(t--)L(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ce.Deferred.exceptionHook=function(e,t){ie.console&&ie.console.warn&&e&&H.test(e.name)&&ie.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ce.readyException=function(e){ie.setTimeout(function(){throw e})};var O=ce.Deferred();function P(){C.removeEventListener("DOMContentLoaded",P),ie.removeEventListener("load",P),ce.ready()}ce.fn.ready=function(e){return O.then(e)["catch"](function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0)!==e&&0<--ce.readyWait||O.resolveWith(C,[ce])}}),ce.ready.then=O.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?ie.setTimeout(ce.ready):(C.addEventListener("DOMContentLoaded",P),ie.addEventListener("load",P));var M=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n))for(s in i=!0,n)M(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},R=/^-ms-/,I=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function F(e){return e.replace(R,"ms-").replace(I,W)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=ce.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[F(t)]=n;else for(r in t)i[F(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][F(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(F):(t=F(t))in r?[t]:t.match(D)||[]).length;while(n--)delete r[t[n]]}(void 0===t||ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var _=new B,z=new B,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/[A-Z]/g;function V(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(U,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:X.test(i)?JSON.parse(i):i)}catch(e){}z.set(e,t,n)}else n=void 0;return n}ce.extend({hasData:function(e){return z.hasData(e)||_.hasData(e)},data:function(e,t,n){return z.access(e,t,n)},removeData:function(e,t){z.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),ce.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=z.get(o),1===o.nodeType&&!_.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=F(r.slice(5)),V(o,r,i[r]));_.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){z.set(this,n)}):M(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=z.get(o,n))?t:void 0!==(t=V(o,n))?t:void 0;this.each(function(){z.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){z.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_.get(e,t),n&&(!r||Array.isArray(n)?r=_.access(e,t,ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ce.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _.get(e,n)||_.access(e,n,{empty:ce.Callbacks("once memory").add(function(){_.remove(e,[t+"queue",n])})})}}),ce.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ce.queue(this[0],t):void 0===n?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=_.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+G+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],J=C.documentElement,K=function(e){return ce.contains(e.ownerDocument,e)},Z={composed:!0};J.getRootNode&&(K=function(e){return ce.contains(e.ownerDocument,e)||e.getRootNode(Z)===e.ownerDocument});var ee=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&K(e)&&"none"===ce.css(e,"display")};function te(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ce.css(e,t,"")},u=s(),l=n&&n[3]||(ce.cssNumber[t]?"":"px"),c=e.nodeType&&(ce.cssNumber[t]||"px"!==l&&+u)&&Y.exec(ce.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,ce.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=_.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ee(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ne[s])||(o=a.body.appendChild(a.createElement(s)),u=ce.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ne[s]=u)))):"none"!==n&&(l[c]="none",_.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ce.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?ce(this).show():ce(this).hide()})}});var xe,be,we=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;xe=C.createDocumentFragment().appendChild(C.createElement("div")),(be=C.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),xe.appendChild(be),le.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",le.option=!!xe.lastChild;var ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&fe(e,t)?ce.merge([e],n):n}function Ee(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],"globalEval",!t||_.get(t[n],"globalEval"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,le.option||(ke.optgroup=ke.option=[1,"<select multiple='multiple'>","</select>"]);var je=/<|&#?\w+;/;function Ae(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))ce.merge(p,o.nodeType?[o]:o);else if(je.test(o)){a=a||f.appendChild(t.createElement("div")),s=(Te.exec(o)||["",""])[1].toLowerCase(),u=ke[s]||ke._default,a.innerHTML=u[1]+ce.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;ce.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<ce.inArray(o,r))i&&i.push(o);else if(l=K(o),a=Se(f.appendChild(o),"script"),l&&Ee(a),n){c=0;while(o=a[c++])Ce.test(o.type||"")&&n.push(o)}return f}var De=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function qe(){return!1}function Le(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ce().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,r,n)})}function He(e,r,t){t?(_.set(e,r,!1),ce.event.add(e,r,{namespace:!1,handler:function(e){var t,n=_.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(ce.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=ae.call(arguments),_.set(this,r,n),this[r](),t=_.get(this,r),_.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(_.set(this,r,ce.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===_.get(e,r)&&ce.event.add(e,r,Ne)}ce.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.get(t);if($(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&ce.find.matchesSelector(J,i),n.guid||(n.guid=ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof ce&&ce.event.triggered!==e.type?ce.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(D)||[""]).length;while(l--)d=g=(s=De.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ce.event.special[d]||{},c=ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ce.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.hasData(e)&&_.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(D)||[""]).length;while(l--)if(d=g=(s=De.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=ce.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[l],n,r,!0);ce.isEmptyObject(u)&&_.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=ce.event.fix(e),l=(_.get(this,"events")||Object.create(null))[u.type]||[],c=ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=ce.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<ce(i,this).index(l):ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ce.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&fe(t,"input")&&_.get(t,"click")||fe(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ce.event.addProp),ce.each({focus:"focusin",blur:"focusout"},function(r,i){function o(e){if(C.documentMode){var t=_.get(this,"handle"),n=ce.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)}else ce.event.simulate(i,e.target,ce.event.fix(e))}ce.event.special[r]={setup:function(){var e;if(He(this,r,!0),!C.documentMode)return!1;(e=_.get(this,i))||this.addEventListener(i,o),_.set(this,i,(e||0)+1)},trigger:function(){return He(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=_.get(this,i)-1)?_.set(this,i,e):(this.removeEventListener(i,o),_.remove(this,i))},_default:function(e){return _.get(e.target,r)},delegateType:i},ce.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),_.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i)-1;n?_.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),_.remove(t,i))}}}),ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){ce.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ce.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ce.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=qe),this.each(function(){ce.event.remove(this,e,n,t)})}});var Oe=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Re(e,t){return fe(e,"table")&&fe(11!==t.nodeType?t:t.firstChild,"tr")&&ce(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function We(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(_.hasData(e)&&(s=_.get(e).events))for(i in _.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)ce.event.add(t,i,s[i][n]);z.hasData(e)&&(o=z.access(e),a=ce.extend({},o),z.set(t,a))}}function $e(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=v(d);if(h||1<f&&"string"==typeof d&&!le.checkClone&&Pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$e(t,r,i,o)});if(f&&(t=(e=Ae(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ce.map(Se(e,"script"),Ie)).length;c<f;c++)u=e,c!==p&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,Se(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ce.map(a,We),c=0;c<s;c++)u=a[c],Ce.test(u.type||"")&&!_.access(u,"globalEval")&&ce.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?ce._evalUrl&&!u.noModule&&ce._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):m(u.textContent.replace(Me,""),u,l))}return n}function Be(e,t,n){for(var r,i=t?ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ce.cleanData(Se(r)),r.parentNode&&(n&&K(r)&&Ee(Se(r,"script")),r.parentNode.removeChild(r));return e}ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=K(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=Se(c),r=0,i=(o=Se(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(c),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,c);return 0<(a=Se(c,"script")).length&&Ee(a,!f&&Se(e,"script")),c},cleanData:function(e){for(var t,n,r,i=ce.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?ce.event.remove(n,r):ce.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[z.expando]&&(n[z.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return M(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!ke[(Te.exec(e)||["",""])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;ce.inArray(this,n)<0&&(ce.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ce.fn[e]=function(e){for(var t,n=[],r=ce(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ce(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var _e=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),ze=/^--/,Xe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=ie),t.getComputedStyle(e)},Ue=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ve=new RegExp(Q.join("|"),"i");function Ge(e,t,n){var r,i,o,a,s=ze.test(t),u=e.style;return(n=n||Xe(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(ve,"$1")||void 0),""!==a||K(e)||(a=ce.style(e,t)),!le.pixelBoxStyles()&&_e.test(a)&&Ve.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",J.appendChild(u).appendChild(l);var e=ie.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),J.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===l.style.backgroundClip,ce.extend(le,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",J.appendChild(e).appendChild(t).appendChild(n),r=ie.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,J.removeChild(e)),a}}))}();var Qe=["Webkit","Moz","ms"],Je=C.createElement("div").style,Ke={};function Ze(e){var t=ce.cssProps[e]||Ke[e];return t||(e in Je?e:Ke[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Je)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=ce.css(e,n+Q[a],!0,i)),r?("content"===n&&(u-=ce.css(e,"padding"+Q[a],!0,i)),"margin"!==n&&(u-=ce.css(e,"border"+Q[a]+"Width",!0,i))):(u+=ce.css(e,"padding"+Q[a],!0,i),"padding"!==n?u+=ce.css(e,"border"+Q[a]+"Width",!0,i):s+=ce.css(e,"border"+Q[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ot(e,t,n){var r=Xe(e),i=(!le.boxSizingReliable()||n)&&"border-box"===ce.css(e,"boxSizing",!1,r),o=i,a=Ge(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a="auto"}return(!le.boxSizingReliable()&&i||!le.reliableTrDimensions()&&fe(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===ce.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===ce.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=F(t),u=ze.test(t),l=e.style;if(u||(t=Ze(s)),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=te(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(ce.cssNumber[s]?"":"px")),le.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=F(t);return ze.test(t)||(t=Ze(s)),(a=ce.cssHooks[t]||ce.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ce.each(["height","width"],function(e,u){ce.cssHooks[u]={get:function(e,t,n){if(t)return!et.test(ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,u,n):Ue(e,tt,function(){return ot(e,u,n)})},set:function(e,t,n){var r,i=Xe(e),o=!le.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===ce.css(e,"boxSizing",!1,i),s=n?it(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-it(e,u,"border",!1,i)-.5)),s&&(r=Y.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=ce.css(e,u)),rt(0,t,s)}}}),ce.cssHooks.marginLeft=Ye(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ce.each({margin:"",padding:"",border:"Width"},function(i,o){ce.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Q[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(ce.cssHooks[i+o].set=rt)}),ce.fn.extend({css:function(e,t){return M(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Xe(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,r);return o}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,1<arguments.length)}}),((ce.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||!ce.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ce.fx=at.prototype.init,ce.fx.step={};var st,ut,lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&ie.requestAnimationFrame?ie.requestAnimationFrame(dt):ie.setTimeout(dt,ce.fx.interval),ce.fx.tick())}function ht(){return ie.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Q[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ce.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=F(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ce.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return v(n.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ce.map(c,vt,l),v(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ce.fx.timer(ce.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ce.Animation=ce.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(D);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ee(e),v=_.get(e,"fxshow");for(r in n.queue||(null==(a=ce._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ce.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ce.style(e,r)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=_.get(e,"display")),"none"===(c=ce.css(e,"display"))&&(l?c=l:(re([e],!0),l=e.style.display||l,c=ce.css(e,"display"),re([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ce.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=_.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&re([e],!0),p.done(function(){for(r in g||re([e]),_.remove(e,"fxshow"),d)ce.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ce.speed=function(e,t,n){var r=e&&"object"==typeof e?ce.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ce.fx.speeds?r.duration=ce.fx.speeds[r.duration]:r.duration=ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ee).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ce.isEmptyObject(t),o=ce.speed(e,n,r),a=function(){var e=yt(this,ce.extend({},t),o);(i||_.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ce.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ce.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=_.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=ce.timers,o=n?n.length:0;for(t.finish=!0,ce.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ce.each(["toggle","show","hide"],function(e,r){var i=ce.fn[r];ce.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),ce.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ce.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),st=void 0},ce.fx.timer=function(e){ce.timers.push(e),ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ut||(ut=!0,dt())},ce.fx.stop=function(){ut=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(r,e){return r=ce.fx&&ce.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=ie.setTimeout(e,r);t.stop=function(){ie.clearTimeout(n)}})},lt=C.createElement("input"),ct=C.createElement("select").appendChild(C.createElement("option")),lt.type="checkbox",le.checkOn=""!==lt.value,le.optSelected=ct.selected,(lt=C.createElement("input")).value="t",lt.type="radio",le.radioValue="t"===lt.value;var mt,xt=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return M(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(i=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=ce.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&"radio"===t&&fe(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var a=xt[t]||ce.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(D)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}ce.fn.extend({prop:function(e,t){return M(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).addClass(t.call(this,e,Ct(this)))}):(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).removeClass(t.call(this,e,Ct(this)))}):arguments.length?(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return v(t)?this.each(function(e){ce(this).toggleClass(t.call(this,e,Ct(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=kt(t),this.each(function(){if(s)for(o=ce(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=Ct(this))&&_.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":_.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+Tt(Ct(n))+" ").indexOf(t))return!0;return!1}});var St=/\r/g;ce.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=v(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ce(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=ce.map(t,function(e){return null==e?"":e+""})),(r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(St,""):null==e?"":e:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:Tt(ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe(n.parentNode,"optgroup"))){if(t=ce(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=ce.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<ce.inArray(ce.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=ie.location,jt={guid:Date.now()},At=/\?/;ce.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new ie.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||ce.error("Invalid XML: "+(n?ce.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};ce.extend(ce.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||C],d=ue.call(e,"type")?e.type:e,h=ue.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ce.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[ce.expando]?e:new ce.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),c=ce.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!y(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||ie)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(_.get(o,"events")||Object.create(null))[e.type]&&_.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&v(n[d])&&!y(n)&&((a=n[u])&&(n[u]=null),ce.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Nt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Nt),ce.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(r,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}});var qt=/\[\]$/,Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))ce.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==x(e))i(n,e);else for(t in e)Pt(n+"["+t+"]",e[t],r,i)}ce.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(n in e)Pt(n,e[n],t,i);return r.join("&")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:Array.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Mt=/%20/g,Rt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\/\//,Bt={},_t={},zt="*/".concat("*"),Xt=C.createElement("a");function Ut(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(D)||[];if(v(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,ce.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Gt(e,t){var n,r,i=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ce.extend(!0,e,r),e}Xt.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,ce.ajaxSettings),t):Gt(ce.ajaxSettings,e)},ajaxPrefilter:Ut(Bt),ajaxTransport:Ut(_t),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=ce.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ce(y):ce.event,x=ce.Deferred(),b=ce.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Wt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace($t,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(D)||[""],null==v.crossDomain){r=C.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Xt.protocol+"//"+Xt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=ce.param(v.data,v.traditional)),Vt(Bt,v,t,T),h)return T;for(i in(g=ce.event&&v.global)&&0==ce.active++&&ce.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ft.test(v.type),f=v.url.replace(Rt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Mt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(At.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,"$1"),o=(At.test(f)?"&":"?")+"_="+jt.guid+++o),v.url=f+o),v.ifModified&&(ce.lastModified[f]&&T.setRequestHeader("If-Modified-Since",ce.lastModified[f]),ce.etag[f]&&T.setRequestHeader("If-None-Match",ce.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+zt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=ie.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&ie.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ce.inArray("script",v.dataTypes)&&ce.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(ce.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(ce.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--ce.active||ce.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return ce.get(e,t,n,"json")},getScript:function(e,t){return ce.get(e,void 0,t,"script")}}),ce.each(["get","post"],function(e,i){ce[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),ce.ajax(ce.extend({url:e,type:i,dataType:r,data:t,success:n},ce.isPlainObject(e)&&e))}}),ce.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),ce._evalUrl=function(e,t,n){return ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ce.globalEval(e,t,n)}})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){ce(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ce(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){ce(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new ie.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=ce.ajaxSettings.xhr();le.cors=!!Qt&&"withCredentials"in Qt,le.ajax=Qt=!!Qt,ce.ajaxTransport(function(i){var o,a;if(le.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&ie.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ce.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ce("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Jt,Kt=[],Zt=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||ce.expando+"_"+jt.guid++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ce.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=ie[r],ie[r]=function(){o=arguments},n.always(function(){void 0===i?ce(ie).removeProp(r):ie[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&v(i)&&i(o[0]),o=i=void 0}),"script"}),le.createHTMLDocument=((Jt=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Jt.childNodes.length),ce.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(le.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),o=!n&&[],(i=w.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,o),o&&o.length&&ce(o).remove(),ce.merge([],i.childNodes)));var r,i,o},ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ce("<div>").append(ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ce.expr.pseudos.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length},ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=ce.css(e,"position"),c=ce(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=ce.css(e,"top"),u=ce.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,ce.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},ce.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===ce.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===ce.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ce(e).offset()).top+=ce.css(e,"borderTopWidth",!0),i.left+=ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-ce.css(r,"marginTop",!0),left:t.left-i.left-ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===ce.css(e,"position"))e=e.offsetParent;return e||J})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;ce.fn[t]=function(e){return M(this,function(e,t,n){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ce.each(["top","left"],function(e,n){ce.cssHooks[n]=Ye(le.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?ce(e).position()[n]+"px":t})}),ce.each({Height:"height",Width:"width"},function(a,s){ce.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){ce.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return M(this,function(e,t,n){var r;return y(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?ce.css(e,t,i):ce.style(e,t,n,i)},s,n?e:void 0,n)}})}),ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ce.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;ce.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=ae.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(ae.call(arguments)))}).guid=e.guid=e.guid||ce.guid++,i},ce.holdReady=function(e){e?ce.readyWait++:ce.ready(!0)},ce.isArray=Array.isArray,ce.parseJSON=JSON.parse,ce.nodeName=fe,ce.isFunction=v,ce.isWindow=y,ce.camelCase=F,ce.type=x,ce.now=Date.now,ce.isNumeric=function(e){var t=ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},ce.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce});var tn=ie.jQuery,nn=ie.$;return ce.noConflict=function(e){return ie.$===ce&&(ie.$=nn),e&&ie.jQuery===ce&&(ie.jQuery=tn),ce},"undefined"==typeof e&&(ie.jQuery=ie.$=ce),ce});
;
/* @license GPL-2.0-or-later https://git.drupalcode.org/project/once/-/raw/v1.0.1/LICENSE.md */
/*! @drupal/once - v1.0.1 - 2021-06-12 */
var once=function(){"use strict";var n=/[\11\12\14\15\40]+/,e="data-once",t=document;function r(n,t,r){return n[t+"Attribute"](e,r)}function o(e){if("string"!=typeof e)throw new TypeError("once ID must be a string");if(""===e||n.test(e))throw new RangeError("once ID must not be empty or contain spaces");return'[data-once~="'+e+'"]'}function u(n){if(!(n instanceof Element))throw new TypeError("The element must be an instance of Element");return!0}function i(n,e){void 0===e&&(e=t);var r=n;if(null===n)r=[];else{if(!n)throw new TypeError("Selector must not be empty");"string"!=typeof n||e!==t&&!u(e)?n instanceof Element&&(r=[n]):r=e.querySelectorAll(n)}return Array.prototype.slice.call(r)}function c(n,e,t){return e.filter((function(e){var r=u(e)&&e.matches(n);return r&&t&&t(e),r}))}function f(e,t){var o=t.add,u=t.remove,i=[];r(e,"has")&&r(e,"get").trim().split(n).forEach((function(n){i.indexOf(n)<0&&n!==u&&i.push(n)})),o&&i.push(o);var c=i.join(" ");r(e,""===c?"remove":"set",c)}function a(n,e,t){return c(":not("+o(n)+")",i(e,t),(function(e){return f(e,{add:n})}))}return a.remove=function(n,e,t){return c(o(n),i(e,t),(function(e){return f(e,{remove:n})}))},a.filter=function(n,e,t){return c(o(n),i(e,t))},a.find=function(n,e){return i(n?o(n):"[data-once]",e)},a}();

;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
window.Drupal={behaviors:{},locale:{}};(function(Drupal,drupalSettings,drupalTranslations,console,Proxy,Reflect){Drupal.throwError=function(error){setTimeout(()=>{throw error;},0);};Drupal.attachBehaviors=function(context,settings){context=context||document;settings=settings||drupalSettings;const behaviors=Drupal.behaviors;Object.keys(behaviors||{}).forEach((i)=>{if(typeof behaviors[i].attach==='function')try{behaviors[i].attach(context,settings);}catch(e){Drupal.throwError(e);}});};Drupal.detachBehaviors=function(context,settings,trigger){context=context||document;settings=settings||drupalSettings;trigger=trigger||'unload';const behaviors=Drupal.behaviors;Object.keys(behaviors||{}).forEach((i)=>{if(typeof behaviors[i].detach==='function')try{behaviors[i].detach(context,settings,trigger);}catch(e){Drupal.throwError(e);}});};Drupal.checkPlain=function(str){str=str.toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');return str;};Drupal.formatString=function(str,args){const processedArgs={};Object.keys(args||{}).forEach((key)=>{switch(key.charAt(0)){case '@':processedArgs[key]=Drupal.checkPlain(args[key]);break;case '!':processedArgs[key]=args[key];break;default:processedArgs[key]=Drupal.theme('placeholder',args[key]);break;}});return Drupal.stringReplace(str,processedArgs,null);};Drupal.stringReplace=function(str,args,keys){if(str.length===0)return str;if(!Array.isArray(keys)){keys=Object.keys(args||{});keys.sort((a,b)=>a.length-b.length);}if(keys.length===0)return str;const key=keys.pop();const fragments=str.split(key);if(keys.length){for(let i=0;i<fragments.length;i++)fragments[i]=Drupal.stringReplace(fragments[i],args,keys.slice(0));}return fragments.join(args[key]);};Drupal.t=function(str,args,options){options=options||{};options.context=options.context||'';if(typeof drupalTranslations!=='undefined'&&drupalTranslations.strings&&drupalTranslations.strings[options.context]&&drupalTranslations.strings[options.context][str])str=drupalTranslations.strings[options.context][str];if(args)str=Drupal.formatString(str,args);return str;};Drupal.url=function(path){return drupalSettings.path.baseUrl+drupalSettings.path.pathPrefix+path;};Drupal.url.toAbsolute=function(url){const urlParsingNode=document.createElement('a');try{url=decodeURIComponent(url);}catch(e){}urlParsingNode.setAttribute('href',url);return urlParsingNode.cloneNode(false).href;};Drupal.url.isLocal=function(url){let absoluteUrl=Drupal.url.toAbsolute(url);let {protocol}=window.location;if(protocol==='http:'&&absoluteUrl.startsWith('https:'))protocol='https:';let baseUrl=`${protocol}//${window.location.host}${drupalSettings.path.baseUrl.slice(0,-1)}`;try{absoluteUrl=decodeURIComponent(absoluteUrl);}catch(e){}try{baseUrl=decodeURIComponent(baseUrl);}catch(e){}return absoluteUrl===baseUrl||absoluteUrl.startsWith(`${baseUrl}/`);};Drupal.formatPlural=function(count,singular,plural,args,options){args=args||{};args['@count']=count;const pluralDelimiter=drupalSettings.pluralDelimiter;const translations=Drupal.t(singular+pluralDelimiter+plural,args,options).split(pluralDelimiter);let index=0;if(typeof drupalTranslations!=='undefined'&&drupalTranslations.pluralFormula)index=count in drupalTranslations.pluralFormula?drupalTranslations.pluralFormula[count]:drupalTranslations.pluralFormula.default;else{if(args['@count']!==1)index=1;}return translations[index];};Drupal.encodePath=function(item){return window.encodeURIComponent(item).replace(/%2F/g,'/');};Drupal.deprecationError=({message})=>{if(drupalSettings.suppressDeprecationErrors===false&&typeof console!=='undefined'&&console.warn)console.warn(`[Deprecation] ${message}`);};Drupal.deprecatedProperty=({target,deprecatedProperty,message})=>{if(!Proxy||!Reflect)return target;return new Proxy(target,{get:(target,key,...rest)=>{if(key===deprecatedProperty)Drupal.deprecationError({message});return Reflect.get(target,key,...rest);}});};Drupal.theme=function(func,...args){if(func in Drupal.theme)return Drupal.theme[func](...args);};Drupal.theme.placeholder=function(str){return `<em class="placeholder">${Drupal.checkPlain(str)}</em>`;};Drupal.elementIsVisible=function(elem){return !!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length);};Drupal.elementIsHidden=function(elem){return !Drupal.elementIsVisible(elem);};})(Drupal,window.drupalSettings,window.drupalTranslations,window.console,window.Proxy,window.Reflect);;
if(window.jQuery)jQuery.noConflict();document.documentElement.className+=' js';(function(Drupal,drupalSettings){const domReady=(callback)=>{const listener=()=>{callback();document.removeEventListener('DOMContentLoaded',listener);};if(document.readyState!=='loading')setTimeout(callback,0);else document.addEventListener('DOMContentLoaded',listener);};domReady(()=>{Drupal.attachBehaviors(document,drupalSettings);});})(Drupal,window.drupalSettings);;
!function(){const a={NODE_ENV:"production"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,a);}catch(a){}globalThis.process={env:a};}(),((a,t,e)=>{let s=new IntersectionObserver(((a)=>{a.forEach(((a)=>{if(a.isIntersecting){let e=a.target;e.dataset.ajaxScroll&&fetch(e.dataset.ajaxScroll).then(((a)=>a.text())).then(((a)=>{if(e.innerHTML=a,e.classList.add("loaded"),t.attachBehaviors(e),e.dataset.ajaxEvent){const a=new Event(e.dataset.ajaxEvent);window.dispatchEvent(a);}})),e.dataset.ajaxCommands&&t.ajax({url:e.dataset.ajaxCommands,httpMethod:"GET"}).execute(),s.unobserve(e);}}));}),{root:null,rootMargin:"0px",threshold:1});t.behaviors.customAjaxContent={attach:function(a,e){a.querySelectorAll("[data-ajax-scroll]:not(.observing)").forEach(((a)=>{s.observe(a),a.classList.add("observing");}));a.querySelectorAll("[data-ajax-commands]:not(.observing)").forEach(((a)=>{s.observe(a),a.classList.add("observing");}));a.querySelectorAll("[data-ajax-trigger]:not(.observing)").forEach(((a)=>{a.classList.add("observing"),a.addEventListener("trigger-ajax",((e)=>{t.ajax({url:a.dataset.ajaxTrigger,httpMethod:"GET"}).execute();}));}));const o=document.querySelectorAll("[data-ajax-now]");let r={};o.forEach(((a)=>{r[a.dataset.ajaxNow]||(r[a.dataset.ajaxNow]=[]),r[a.dataset.ajaxNow].push(a);}));for(const [a,t] of Object.entries(r))fetch(a).then(((a)=>a.text())).then(((a)=>{t.forEach(((t)=>{t.innerHTML=a,t.removeAttribute("data-ajax-now"),t.classList.add("ajax-now--loaded");}));}));}};})(jQuery,Drupal,drupalSettings);;
/* @license MIT https://raw.githubusercontent.com/focus-trap/tabbable/v6.2.0/LICENSE */
/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):(t="undefined"!=typeof globalThis?globalThis:t||self,function(){var n=t.tabbable,o=t.tabbable={};e(o),o.noConflict=function(){return t.tabbable=n,o}}())}(this,(function(t){"use strict";var e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],n=e.join(","),o="undefined"==typeof Element,r=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,i=!o&&Element.prototype.getRootNode?function(t){var e;return null==t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}:function(t){return null==t?void 0:t.ownerDocument},a=function t(e,n){var o;void 0===n&&(n=!0);var r=null==e||null===(o=e.getAttribute)||void 0===o?void 0:o.call(e,"inert");return""===r||"true"===r||n&&e&&t(e.parentNode)},l=function(t,e,o){if(a(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(n));return e&&r.call(t,n)&&i.unshift(t),i=i.filter(o)},u=function t(e,o,i){for(var l=[],u=Array.from(e);u.length;){var d=u.shift();if(!a(d,!1))if("SLOT"===d.tagName){var c=d.assignedElements(),f=t(c.length?c:d.children,!0,i);i.flatten?l.push.apply(l,f):l.push({scopeParent:d,candidates:f})}else{r.call(d,n)&&i.filter(d)&&(o||!e.includes(d))&&l.push(d);var s=d.shadowRoot||"function"==typeof i.getShadowRoot&&i.getShadowRoot(d),p=!a(s,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(d));if(s&&p){var h=t(!0===s?d.children:s.children,!0,i);i.flatten?l.push.apply(l,h):l.push({scopeParent:d,candidates:h})}else u.unshift.apply(u,d.children)}}return l},d=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},c=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||function(t){var e,n=null==t||null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"contenteditable");return""===n||"true"===n}(t))&&!d(t)?0:t.tabIndex},f=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},s=function(t){return"INPUT"===t.tagName},p=function(t){return function(t){return s(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||i(t),o=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=o(window.CSS.escape(t.name));else try{e=o(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var r=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!r||r===t}(t)},h=function(t){var e=t.getBoundingClientRect(),n=e.width,o=e.height;return 0===n&&0===o},v=function(t,e){var n=e.displayCheck,o=e.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var a=r.call(t,"details>summary:first-of-type")?t.parentElement:t;if(r.call(a,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return h(t)}else{if("function"==typeof o){for(var l=t;t;){var u=t.parentElement,d=i(t);if(u&&!u.shadowRoot&&!0===o(u))return h(t);t=t.assignedSlot?t.assignedSlot:u||d===t.ownerDocument?u:d.host}t=l}if(function(t){var e,n,o,r,a=t&&i(t),l=null===(e=a)||void 0===e?void 0:e.host,u=!1;if(a&&a!==t)for(u=!!(null!==(n=l)&&void 0!==n&&null!==(o=n.ownerDocument)&&void 0!==o&&o.contains(l)||null!=t&&null!==(r=t.ownerDocument)&&void 0!==r&&r.contains(t));!u&&l;){var d,c,f;u=!(null===(c=l=null===(d=a=i(l))||void 0===d?void 0:d.host)||void 0===c||null===(f=c.ownerDocument)||void 0===f||!f.contains(l))}return u}(t))return!t.getClientRects().length;if("legacy-full"!==n)return!0}return!1},b=function(t,e){return!(e.disabled||a(e)||function(t){return s(t)&&"hidden"===t.type}(e)||v(e,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var o=e.children.item(n);if("LEGEND"===o.tagName)return!!r.call(e,"fieldset[disabled] *")||!o.contains(t)}return!0}e=e.parentElement}return!1}(e))},m=function(t,e){return!(p(e)||c(e)<0||!b(t,e))},g=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},y=function t(e){var n=[],o=[];return e.forEach((function(e,r){var i=!!e.scopeParent,a=i?e.scopeParent:e,l=function(t,e){var n=c(t);return n<0&&e&&!d(t)?0:n}(a,i),u=i?t(e.candidates):a;0===l?i?n.push.apply(n,u):n.push(a):o.push({documentOrder:r,tabIndex:l,item:e,isScope:i,content:u})})),o.sort(f).reduce((function(t,e){return e.isScope?t.push.apply(t,e.content):t.push(e.content),t}),[]).concat(n)},w=e.concat("iframe").join(",");t.focusable=function(t,e){return(e=e||{}).getShadowRoot?u([t],e.includeContainer,{filter:b.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):l(t,e.includeContainer,b.bind(null,e))},t.getTabIndex=c,t.isFocusable=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==r.call(t,w)&&b(e,t)},t.isTabbable=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==r.call(t,n)&&m(e,t)},t.tabbable=function(t,e){var n;return n=(e=e||{}).getShadowRoot?u([t],e.includeContainer,{filter:m.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:g}):l(t,e.includeContainer,m.bind(null,e)),y(n)},Object.defineProperty(t,"__esModule",{value:!0})}));

;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal){Drupal.theme.progressBar=function(id){const escapedId=Drupal.checkPlain(id);return (`<div id="${escapedId}" class="progress" aria-live="polite">`+'<div class="progress__label">&nbsp;</div>'+'<div class="progress__track"><div class="progress__bar"></div></div>'+'<div class="progress__percentage"></div>'+'<div class="progress__description">&nbsp;</div>'+'</div>');};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id));};$.extend(Drupal.ProgressBar.prototype,{setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').each(function(){this.style.width=`${percentage}%`;});$(this.element).find('div.progress__percentage').html(`${percentage}%`);}$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback)this.updateCallback(percentage,message,this);},startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();},stopMonitoring(){clearTimeout(this.timer);this.uri=null;},sendPing(){if(this.timer)clearTimeout(this.timer);if(this.uri){const pb=this;let uri=this.uri;if(!uri.includes('?'))uri+='?';else uri+='&';uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success(progress){if(progress.status===0){pb.displayError(progress.data);return;}pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(()=>{pb.sendPing();},pb.delay);},error(xmlhttp){const e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError(`<pre>${e.message}</pre>`);}});}},displayError(string){const error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback)this.errorCallback(this);}});})(jQuery,Drupal);;
/* @license MIT https://raw.githubusercontent.com/muicss/loadjs/4.3.0/LICENSE.txt */
loadjs=function(){var h=function(){},o={},c={},f={};function u(e,n){if(e){var t=f[e];if(c[e]=n,t)for(;t.length;)t[0](e,n),t.splice(0,1)}}function l(e,n){e.call&&(e={success:e}),n.length?(e.error||h)(n):(e.success||h)(e)}function p(t,r,i,s){var o,e,u,n=document,c=i.async,f=(i.numRetries||0)+1,l=i.before||h,a=t.replace(/[\?|#].*$/,""),d=t.replace(/^(css|img|module|nomodule)!/,"");if(s=s||0,/(^css!|\.css$)/.test(a))(u=n.createElement("link")).rel="stylesheet",u.href=d,(o="hideFocus"in u)&&u.relList&&(o=0,u.rel="preload",u.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(a))(u=n.createElement("img")).src=d;else if((u=n.createElement("script")).src=d,u.async=void 0===c||c,e="noModule"in u,/^module!/.test(a)){if(!e)return r(t,"l");u.type="module"}else if(/^nomodule!/.test(a)&&e)return r(t,"l");!(u.onload=u.onerror=u.onbeforeload=function(e){var n=e.type[0];if(o)try{u.sheet.cssText.length||(n="e")}catch(e){18!=e.code&&(n="e")}if("e"==n){if((s+=1)<f)return p(t,r,i,s)}else if("preload"==u.rel&&"style"==u.as)return u.rel="stylesheet";r(t,n,e.defaultPrevented)})!==l(t,u)&&n.head.appendChild(u)}function t(e,n,t){var r,i;if(n&&n.trim&&(r=n),i=(r?t:n)||{},r){if(r in o)throw"LoadJS";o[r]=!0}function s(n,t){!function(e,r,n){var t,i,s=(e=e.push?e:[e]).length,o=s,u=[];for(t=function(e,n,t){if("e"==n&&u.push(e),"b"==n){if(!t)return;u.push(e)}--s||r(u)},i=0;i<o;i++)p(e[i],t,n)}(e,function(e){l(i,e),n&&l({success:n,error:t},e),u(r,e)},i)}if(i.returnPromise)return new Promise(s);s()}return t.ready=function(e,n){return function(e,t){e=e.push?e:[e];var n,r,i,s=[],o=e.length,u=o;for(n=function(e,n){n.length&&s.push(e),--u||t(s)};o--;)r=e[o],(i=c[r])?n(r,i):(f[r]=f[r]||[]).push(n)}(e,function(e){l(n,e)}),t},t.done=function(e){u(e,[])},t.reset=function(){o={},c={},f={}},t.isDefined=function(e){return e in o},t}();;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
Drupal.debounce=function(func,wait,immediate){let timeout;let result;return function(...args){const context=this;const later=function(){timeout=null;if(!immediate)result=func.apply(context,args);};const callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)result=func.apply(context,args);return result;};};;
(function(Drupal,debounce){let liveElement;const announcements=[];Drupal.behaviors.drupalAnnounce={attach(context){if(!liveElement){liveElement=document.createElement('div');liveElement.id='drupal-live-announce';liveElement.className='visually-hidden';liveElement.setAttribute('aria-live','polite');liveElement.setAttribute('aria-busy','false');document.body.appendChild(liveElement);}}};function announce(){const text=[];let priority='polite';let announcement;const il=announcements.length;for(let i=0;i<il;i++){announcement=announcements.pop();text.unshift(announcement.text);if(announcement.priority==='assertive')priority='assertive';}if(text.length){liveElement.innerHTML='';liveElement.setAttribute('aria-busy','true');liveElement.setAttribute('aria-live',priority);liveElement.innerHTML=text.join('\n');liveElement.setAttribute('aria-busy','false');}}Drupal.announce=function(text,priority){announcements.push({text,priority});return debounce(announce,200)();};})(Drupal,Drupal.debounce);;
((Drupal)=>{Drupal.Message=class{constructor(messageWrapper=null){if(!messageWrapper)this.messageWrapper=Drupal.Message.defaultWrapper();else this.messageWrapper=messageWrapper;}static defaultWrapper(){let wrapper=document.querySelector('[data-drupal-messages]')||document.querySelector('[data-drupal-messages-fallback]');if(!wrapper){wrapper=document.createElement('div');document.body.appendChild(wrapper);}if(wrapper.hasAttribute('data-drupal-messages-fallback')){wrapper.removeAttribute('data-drupal-messages-fallback');wrapper.classList.remove('hidden');}wrapper.setAttribute('data-drupal-messages','');return wrapper.innerHTML===''?Drupal.Message.messageInternalWrapper(wrapper):wrapper.firstElementChild;}static getMessageTypeLabels(){return {status:Drupal.t('Status message'),error:Drupal.t('Error message'),warning:Drupal.t('Warning message')};}add(message,options={}){if(!options.hasOwnProperty('type'))options.type='status';if(typeof message!=='string')throw new Error('Message must be a string.');Drupal.Message.announce(message,options);options.id=options.id?String(options.id):`${options.type}-${Math.random().toFixed(15).replace('0.','')}`;if(!Drupal.Message.getMessageTypeLabels().hasOwnProperty(options.type)){const {type}=options;throw new Error(`The message type, ${type}, is not present in Drupal.Message.getMessageTypeLabels().`);}this.messageWrapper.appendChild(Drupal.theme('message',{text:message},options));return options.id;}select(id){return this.messageWrapper.querySelector(`[data-drupal-message-id^="${id}"]`);}remove(id){return this.messageWrapper.removeChild(this.select(id));}clear(){Array.prototype.forEach.call(this.messageWrapper.querySelectorAll('[data-drupal-message-id]'),(message)=>{this.messageWrapper.removeChild(message);});}static announce(message,options){if(!options.priority&&(options.type==='warning'||options.type==='error'))options.priority='assertive';if(options.announce!=='')Drupal.announce(options.announce||message,options.priority);}static messageInternalWrapper(messageWrapper){const innerWrapper=document.createElement('div');innerWrapper.setAttribute('class','messages__wrapper');messageWrapper.insertAdjacentElement('afterbegin',innerWrapper);return innerWrapper;}};Drupal.theme.message=({text},{type,id})=>{const messagesTypes=Drupal.Message.getMessageTypeLabels();const messageWrapper=document.createElement('div');messageWrapper.setAttribute('class',`messages messages--${type}`);messageWrapper.setAttribute('role',type==='error'||type==='warning'?'alert':'status');messageWrapper.setAttribute('data-drupal-message-id',id);messageWrapper.setAttribute('data-drupal-message-type',type);messageWrapper.setAttribute('aria-label',messagesTypes[type]);messageWrapper.innerHTML=`${text}`;return messageWrapper;};})(Drupal);;
(function($,window,Drupal,drupalSettings,loadjs,{isFocusable,tabbable}){Drupal.behaviors.AJAX={attach(context,settings){function loadAjaxBehavior(base){const elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined')elementSettings.selector=`#${base}`;once('drupal-ajax',$(elementSettings.selector)).forEach((el)=>{elementSettings.element=el;elementSettings.base=base;Drupal.ajax(elementSettings);});}Object.keys(settings.ajax||{}).forEach(loadAjaxBehavior);Drupal.ajax.bindAjaxLinks(document.body);once('ajax','.use-ajax-submit').forEach((el)=>{const elementSettings={};elementSettings.url=$(el.form).attr('action');elementSettings.setClick=true;elementSettings.event='click';elementSettings.progress={type:'throbber'};elementSettings.base=el.id;elementSettings.element=el;Drupal.ajax(elementSettings);});},detach(context,settings,trigger){if(trigger==='unload')Drupal.ajax.expired().forEach((instance)=>{Drupal.ajax.instances[instance.instanceIndex]=null;});}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){let statusCode;let statusText;let responseText;if(xmlhttp.status)statusCode=`\n${Drupal.t('An AJAX HTTP error occurred.')}\n${Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status})}`;else statusCode=`\n${Drupal.t('An AJAX HTTP request terminated abnormally.')}`;statusCode+=`\n${Drupal.t('Debugging information follows.')}`;const pathText=`\n${Drupal.t('Path: !uri',{'!uri':uri})}`;statusText='';try{statusText=`\n${Drupal.t('StatusText: !statusText',{'!statusText':xmlhttp.statusText.trim()})}`;}catch(e){}responseText='';try{responseText=`\n${Drupal.t('ResponseText: !responseText',{'!responseText':xmlhttp.responseText.trim()})}`;}catch(e){}responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');const readyStateText=xmlhttp.status===0?`\n${Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState})}`:'';customMessage=customMessage?`\n${Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage})}`:'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError';if(!Drupal.AjaxError.messages)Drupal.AjaxError.messages=new Drupal.Message();Drupal.AjaxError.messages.add(Drupal.t("Oops, something went wrong. Check your browser's developer console for more details."),{type:'error'});};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1)throw new Error('Drupal.ajax() function must be called with one configuration object only');const base=settings.base||false;const element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element)settings.progress=false;const ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax;};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter((instance)=>instance&&instance.element!==false&&!document.body.contains(instance.element));};Drupal.ajax.bindAjaxLinks=(element)=>{once('ajax','.use-ajax',element).forEach((ajaxLink)=>{const $linkElement=$(ajaxLink);const elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};const href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}const httpMethod=$linkElement.data('ajax-http-method');if(httpMethod)elementSettings.httpMethod=httpMethod;Drupal.ajax(elementSettings);});};Drupal.Ajax=function(base,element,elementSettings){const defaults={httpMethod:'POST',event:element?'mousedown':null,keypress:true,selector:base?`#${base}`:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Processing...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper)this.wrapper=`#${this.wrapper}`;this.element=element;this.preCommandsFocusedElementSelector=null;this.elementSettings=elementSettings;if(this.element&&this.element.form)this.$form=$(this.element.form);if(!this.url){const $element=$(this.element);if(this.element.tagName==='A')this.url=$element.attr('href');else{if(this.element&&element.form)this.url=this.$form.attr('action');}}const originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl])drupalSettings.ajaxTrustedUrl[this.url]=true;const ajax=this;ajax.options={url:ajax.url,data:ajax.submit,isInProgress(){return ajax.ajaxing;},beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options);},beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;ajax.preCommandsFocusedElementSelector=null;return ajax.beforeSubmit(formValues,elementSettings,options);},beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success(response,status,xmlhttprequest){ajax.preCommandsFocusedElementSelector=document.activeElement.getAttribute('data-drupal-selector');if(typeof response==='string')response=$.parseJSON(response);if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url])if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){const customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage);}return (Promise.resolve(ajax.success(response,status)).then(()=>{ajax.ajaxing=false;$(document).trigger('ajaxSuccess',[xmlhttprequest,this]);$(document).trigger('ajaxComplete',[xmlhttprequest,this]);if(--$.active===0)$(document).trigger('ajaxStop');}));},error(xmlhttprequest,status,error){ajax.ajaxing=false;},complete(xmlhttprequest,status){if(status==='error'||status==='parsererror')return ajax.error(xmlhttprequest,ajax.url);},dataType:'json',jsonp:false,method:ajax.httpMethod};if(elementSettings.dialog)ajax.options.data.dialogOptions=elementSettings.dialog;if(!ajax.options.url.includes('?'))ajax.options.url+='?';else ajax.options.url+='&';let wrapper=`drupal_${elementSettings.dialogType||'ajax'}`;if(elementSettings.dialogRenderer)wrapper+=`.${elementSettings.dialogRenderer}`;ajax.options.url+=`${Drupal.ajax.WRAPPER_FORMAT}=${wrapper}`;$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url))throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));return ajax.eventResponse(this,event);});if(elementSettings.keypress)$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event);});if(elementSettings.prevent)$(ajax.element).on(elementSettings.prevent,false);};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing)return;try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options);}catch(e){this.ajaxing=false;window.alert(`An error occurred while attempting to process ${this.options.url}: ${e.message}`);return $.Deferred().reject();}};Drupal.Ajax.prototype.keypressResponse=function(element,event){const ajax=this;if(event.which===13||(event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number')){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event);}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();const ajax=this;if(ajax.ajaxing)return;try{if(ajax.$form){if(ajax.setClick)element.form.clk=element;ajax.$form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;window.alert(`An error occurred while attempting to process ${ajax.options.url}: ${e.message}`);}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize');}options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;const pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries;};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';const v=$.fieldValue(this.element);if(v!==null)options.extraData[this.element.name]=v;}$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type)return;const progressIndicatorMethod=`setProgressIndicator${this.progress.type.slice(0,1).toUpperCase()}${this.progress.type.slice(1).toLowerCase()}`;if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function')this[progressIndicatorMethod].call(this);};Drupal.theme.ajaxProgressThrobber=(message)=>{const messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';const throbber='<div class="throbber">&nbsp;</div>';return `<div class="ajax-progress ajax-progress-throbber">${throbber}${messageMarkup}</div>`;};Drupal.theme.ajaxProgressIndicatorFullscreen=()=>'<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>';Drupal.theme.ajaxProgressMessage=(message)=>`<div class="message">${message}</div>`;Drupal.theme.ajaxProgressBar=($element)=>$('<div class="ajax-progress ajax-progress-bar"></div>').append($element);Drupal.Ajax.prototype.setProgressIndicatorBar=function(){const progressBar=new Drupal.ProgressBar(`ajax-progress-${this.element.id}`,$.noop,this.progress.method,$.noop);if(this.progress.message)progressBar.setProgress(-1,this.progress.message);if(this.progress.url)progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));if($(this.element).closest('[data-drupal-ajax-container]').length)$(this.element).closest('[data-drupal-ajax-container]').after(this.progress.element);else $(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element);};Drupal.Ajax.prototype.commandExecutionQueue=function(response,status){const ajaxCommands=this.commands;return Object.keys(response||{}).reduce((executionQueue,key)=>executionQueue.then(()=>{const {command}=response[key];if(command&&ajaxCommands[command])return ajaxCommands[command](this,response[key],status);}),Promise.resolve());};Drupal.Ajax.prototype.success=function(response,status){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.element).prop('disabled',false);const elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();const focusChanged=Object.keys(response||{}).some((key)=>{const {command,method}=response[key];return (command==='focusFirst'||command==='openDialog'||(command==='invoke'&&method==='focus'));});return (this.commandExecutionQueue(response,status).then(()=>{if(!focusChanged){let target=false;if(this.element){if($(this.element).data('refocus-blur')&&this.preCommandsFocusedElementSelector)target=document.querySelector(`[data-drupal-selector="${this.preCommandsFocusedElementSelector}"]`);if(!target&&!$(this.element).data('disable-refocus')){for(let n=elementParents.length-1;!target&&n>=0;n--)target=document.querySelector(`[data-drupal-selector="${elementParents[n].getAttribute('data-drupal-selector')}"]`);}}if(target)$(target).trigger('focus');}if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}this.settings=null;}).catch((error)=>console.error(Drupal.t('An error occurred during the execution of the Ajax response: !error',{'!error':error}))));};Drupal.Ajax.prototype.getEffect=function(response){const type=response.effect||this.effect;const speed=response.speed||this.speed;const effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect=`${type}Toggle`;effect.hideEffect=`${type}Toggle`;effect.showSpeed=speed;}return effect;};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element)$(this.progress.element).remove();if(this.progress.object)this.progress.object.stopMonitoring();$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){const settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage);};Drupal.theme.ajaxWrapperNewContent=($newContent,ajax,response)=>(response.effect||ajax.effect)!=='none'&&$newContent.filter((i)=>!(($newContent[i].nodeName==='#comment'||($newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent))))).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent;Drupal.theme.ajaxWrapperMultipleRootElements=($elements)=>$('<div></div>').append($elements);Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert(ajax,response){const $wrapper=response.selector?$(response.selector):$(ajax.wrapper);const method=response.method||ajax.method;const effect=ajax.getEffect(response);const settings=response.settings||ajax.settings||drupalSettings;const parseHTML=(htmlString)=>{const fragment=document.createDocumentFragment();const tempDiv=fragment.appendChild(document.createElement('div'));tempDiv.innerHTML=htmlString;return tempDiv.childNodes;};let $newContent=$(parseHTML(response.data));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case 'html':case 'replaceWith':case 'replaceAll':case 'empty':case 'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break;}$wrapper[method]($newContent);if(effect.showEffect!=='show')$newContent.hide();const $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed);}else{if(effect.showEffect!=='show')$newContent[effect.showEffect](effect.showSpeed);}$newContent.each((index,element)=>{if(element.nodeType===Node.ELEMENT_NODE&&document.documentElement.contains(element))Drupal.attachBehaviors(element,settings);});},remove(ajax,response,status){const settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings);}).remove();},changed(ajax,response,status){const $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk)$element.find(response.asterisk).append(` <abbr class="ajax-changed" title="${Drupal.t('Changed')}">*</abbr> `);}},alert(ajax,response,status){window.alert(response.text);},announce(ajax,response){if(response.priority)Drupal.announce(response.text,response.priority);else Drupal.announce(response.text);},redirect(ajax,response,status){window.location=response.url;},css(ajax,response,status){$(response.selector).css(response.argument);},settings(ajax,response,status){const ajaxSettings=drupalSettings.ajax;if(ajaxSettings)Drupal.ajax.expired().forEach((instance)=>{if(instance.selector){const selector=instance.selector.replace('#','');if(selector in ajaxSettings)delete ajaxSettings[selector];}});if(response.merge)$.extend(true,drupalSettings,response.settings);else ajax.settings=response.settings;},data(ajax,response,status){$(response.selector).data(response.name,response.value);},focusFirst(ajax,response,status){let focusChanged=false;const container=document.querySelector(response.selector);if(container){const tabbableElements=tabbable(container);if(tabbableElements.length){tabbableElements[0].focus();focusChanged=true;}else{if(isFocusable(container)){container.focus();focusChanged=true;}}}if(ajax.hasOwnProperty('element')&&!focusChanged)ajax.element.focus();},invoke(ajax,response,status){const $element=$(response.selector);$element[response.method](...response.args);},restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},update_build_id(ajax,response,status){document.querySelectorAll(`input[name="form_build_id"][value="${response.old}"]`).forEach((item)=>{item.value=response.new;});},add_css(ajax,response,status){if(typeof response.data==='string'){Drupal.deprecationError({message:'Passing a string to the Drupal.ajax.add_css() method is deprecated in 10.1.0 and is removed from drupal:11.0.0. See https://www.drupal.org/node/3154948.'});$('head').prepend(response.data);return;}const allUniqueBundleIds=response.data.map(function(style){const uniqueBundleId=style.href;if(!loadjs.isDefined(uniqueBundleId))loadjs(`css!${style.href}`,uniqueBundleId,{before(path,styleEl){Object.keys(style).forEach((attributeKey)=>{styleEl.setAttribute(attributeKey,style[attributeKey]);});}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},message(ajax,response){const messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious)messages.clear();messages.add(response.message,response.messageOptions);},add_js(ajax,response,status){const parentEl=document.querySelector(response.selector||'body');const settings=ajax.settings||drupalSettings;const allUniqueBundleIds=response.data.map((script)=>{const uniqueBundleId=script.src;if(!loadjs.isDefined(uniqueBundleId))loadjs(script.src,uniqueBundleId,{async:false,before(path,scriptEl){Object.keys(script).forEach((attributeKey)=>{scriptEl.setAttribute(attributeKey,script[attributeKey]);});parentEl.appendChild(scriptEl);return false;}});return uniqueBundleId;});return new Promise((resolve,reject)=>{loadjs.ready(allUniqueBundleIds,{success(){Drupal.attachBehaviors(parentEl,settings);resolve();},error(depsNotFound){const message=Drupal.t(`The following files could not be loaded: @dependencies`,{'@dependencies':depsNotFound.join(', ')});reject(message);}});});},scrollTop(ajax,response){const offset=$(response.selector).offset();let scrollTarget=response.selector;while($(scrollTarget).scrollTop()===0&&$(scrollTarget).parent())scrollTarget=$(scrollTarget).parent();if(offset.top-10<$(scrollTarget).scrollTop())scrollTarget.get(0).scrollTo({top:offset.top-10,behavior:'smooth'});}};const stopEvent=(xhr,settings)=>{return (xhr.getResponseHeader('X-Drupal-Ajax-Token')==='1'&&settings.isInProgress&&settings.isInProgress());};$.extend(true,$.event.special,{ajaxSuccess:{trigger(event,xhr,settings){if(stopEvent(xhr,settings))return false;}},ajaxComplete:{trigger(event,xhr,settings){if(stopEvent(xhr,settings)){$.active++;return false;}}}});})(jQuery,window,Drupal,drupalSettings,loadjs,window.tabbable);;
(function(Drupal){Drupal.AjaxCommands.prototype.gtagEvent=function(ajax,response){gtag('event',response.event_name,response.data);};})(Drupal);;
!function(){"use strict";!function(){const e={NODE_ENV:"production"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,e)}catch(e){}globalThis.process={env:e}}();const e=e=>e;let t=e;function i(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class s{constructor(){this.subscriptions=[]}add(e){var t,s;return t=this.subscriptions,s=e,-1===t.indexOf(s)&&t.push(s),()=>i(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](e,t,i);else for(let n=0;n<s;n++){const s=this.subscriptions[n];s&&s(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function n(e,t){return t?e*(1e3/t):0}const r=!1;const o=["read","resolveKeyframes","update","preRender","render","postRender"];const{schedule:a,cancel:l,state:c,steps:u}=function(e,t){let i=!1,s=!0;const n={delta:0,timestamp:0,isProcessing:!1},r=()=>i=!0,a=o.reduce(((e,t)=>(e[t]=function(e){let t=new Set,i=new Set,s=!1,n=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){r.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:(e,n=!1,o=!1)=>{const a=o&&s?t:i;return n&&r.add(e),a.has(e)||a.add(e),e},cancel:e=>{i.delete(e),r.delete(e)},process:e=>{o=e,s?n=!0:(s=!0,[t,i]=[i,t],i.clear(),t.forEach(a),s=!1,n&&(n=!1,l.process(e)))}};return l}(r),e)),{}),{read:l,resolveKeyframes:c,update:u,preRender:h,render:d,postRender:p}=a,m=()=>{const r=performance.now();i=!1,n.delta=s?1e3/60:Math.max(Math.min(r-n.timestamp,40),1),n.timestamp=r,n.isProcessing=!0,l.process(n),c.process(n),u.process(n),h.process(n),d.process(n),p.process(n),n.isProcessing=!1,i&&t&&(s=!1,e(m))};return{schedule:o.reduce(((t,r)=>{const o=a[r];return t[r]=(t,r=!1,a=!1)=>(i||(i=!0,s=!0,n.isProcessing||e(m)),o.schedule(t,r,a)),t}),{}),cancel:e=>{for(let t=0;t<o.length;t++)a[o[t]].cancel(e)},state:n,steps:a}}("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:e,!0);let h;function d(){h=void 0}const p={now:()=>(void 0===h&&p.set(c.isProcessing||r?c.timestamp:performance.now()),h),set:e=>{h=e,queueMicrotask(d)}};class m{constructor(e,t={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const i=p.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=p.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new s);const i=this.events[e].add(t);return"change"===e?()=>{i(),a.read((()=>{this.events.change.getSize()||this.stop()}))}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=p.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return n(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function g(e,t){return new m(e,t)}function f(e){let t;return()=>(void 0===t&&(t=e()),t)}const v=f((()=>void 0!==window.ScrollTimeline));class y{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map((i=>v()&&i.attachTimeline?i.attachTimeline(e):t(i)));return()=>{i.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const w=(e,t,i)=>{const s=t-e;return 0===s?1:(i-e)/s},b=(e,t,i=10)=>{let s="";const n=Math.max(Math.round(t/i),2);for(let t=0;t<n;t++)s+=e(w(0,n-1,t))+", ";return`linear(${s.substring(0,s.length-2)})`},T=e=>1e3*e,S=e=>e/1e3,x=5;function E(e,t,i){const s=Math.max(t-x,0);return n(i-e(s),t-s)}const C=(e,t,i)=>i>t?t:i<e?e:i,k={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_=.001;function D({duration:e=k.duration,bounce:t=k.bounce,velocity:i=k.velocity,mass:s=k.mass}){let n,r,o=1-t;o=C(k.minDamping,k.maxDamping,o),e=C(k.minDuration,k.maxDuration,S(e)),o<1?(n=t=>{const s=t*o,n=s*e,r=s-i,a=A(t,o),l=Math.exp(-n);return _-r/a*l},r=t=>{const s=t*o*e,r=s*i+i,a=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-s),c=A(Math.pow(t,2),o);return(-n(t)+_>0?-1:1)*((r-a)*l)/c}):(n=t=>Math.exp(-t*e)*((t-i)*e+1)-_,r=t=>Math.exp(-t*e)*(e*e*(i-t)));const a=function(e,t,i){let s=i;for(let i=1;i<P;i++)s-=e(s)/t(s);return s}(n,r,5/e);if(e=T(e),isNaN(a))return{stiffness:k.stiffness,damping:k.damping,duration:e};{const t=Math.pow(a,2)*s;return{stiffness:t,damping:2*o*Math.sqrt(s*t),duration:e}}}const P=12;function A(e,t){return e*Math.sqrt(1-t*t)}const M=2e4;function L(e){let t=0;let i=e.next(t);for(;!i.done&&t<M;)t+=50,i=e.next(t);return t>=M?1/0:t}const R=["duration","bounce"],I=["stiffness","damping","mass"];function O(e,t){return t.some((t=>void 0!==e[t]))}function N(e=k.visualDuration,t=k.bounce){const i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:n}=i;const r=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:p}=function(e){let t={velocity:k.velocity,stiffness:k.stiffness,damping:k.damping,mass:k.mass,isResolvedFromDuration:!1,...e};if(!O(e,I)&&O(e,R))if(e.visualDuration){const i=e.visualDuration,s=2*Math.PI/(1.2*i),n=s*s,r=2*C(.05,1,1-e.bounce)*Math.sqrt(n);t={...t,mass:k.mass,stiffness:n,damping:r}}else{const i=D(e);t={...t,...i,mass:k.mass},t.isResolvedFromDuration=!0}return t}({...i,velocity:-S(i.velocity||0)}),m=d||0,g=c/(2*Math.sqrt(l*u)),f=o-r,v=S(Math.sqrt(l/u)),y=Math.abs(f)<5;let w;if(s||(s=y?k.restSpeed.granular:k.restSpeed.default),n||(n=y?k.restDelta.granular:k.restDelta.default),g<1){const e=A(v,g);w=t=>{const i=Math.exp(-g*v*t);return o-i*((m+g*v*f)/e*Math.sin(e*t)+f*Math.cos(e*t))}}else if(1===g)w=e=>o-Math.exp(-v*e)*(f+(m+v*f)*e);else{const e=v*Math.sqrt(g*g-1);w=t=>{const i=Math.exp(-g*v*t),s=Math.min(e*t,300);return o-i*((m+g*v*f)*Math.sinh(s)+e*f*Math.cosh(s))/e}}const x={calculatedDuration:p&&h||null,next:e=>{const t=w(e);if(p)a.done=e>=h;else{let i=0;g<1&&(i=0===e?T(m):E(w,e,t));const r=Math.abs(i)<=s,l=Math.abs(o-t)<=n;a.done=r&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(L(x),M),t=b((t=>x.next(e*t).value),e,30);return e+"ms "+t}};return x}function B(e,t=100,i){const s=i({...e,keyframes:[0,t]}),n=Math.min(L(s),M);return{type:"keyframes",ease:e=>s.next(n*e).value/t,duration:S(n)}}const H=(e,t,i)=>e+(t-e)*i;function F(e,t){const i=e[e.length-1];for(let s=1;s<=t;s++){const n=w(0,t,s);e.push(H(i,1,n))}}function q(e){const t=[0];return F(t,e.length-1),t}const z=e=>Boolean(e&&e.getVelocity);function V(e,t,i){var s;if(e instanceof Element)return[e];if("string"==typeof e){let t=document;const n=null!==(s=null==i?void 0:i[e])&&void 0!==s?s:t.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}function j(e){return"object"==typeof e&&!Array.isArray(e)}function U(e,t,i,s){return"string"==typeof e&&j(t)?V(e,0,s):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function G(e){return"function"==typeof e}function W(e,t,i,s){var n;return"number"==typeof t?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):"<"===t?i:null!==(n=s.get(t))&&void 0!==n?n:e}const Y=(e,t,i)=>{const s=t-e;return((i-e)%s+s)%s+e},$=e=>Array.isArray(e)&&"number"!=typeof e[0];function Z(e,t){return $(e)?e[Y(0,e.length,t)]:e}function X(e,t,s,n,r,o){!function(e,t,s){for(let n=0;n<e.length;n++){const r=e[n];r.at>t&&r.at<s&&(i(e,r),n--)}}(e,r,o);for(let i=0;i<t.length;i++)e.push({value:t[i],at:H(r,o,n[i]),easing:Z(s,i)})}function K(e,t){return e.at===t.at?null===e.value?1:null===t.value?-1:0:e.at-t.at}const J="easeInOut";function Q(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function ee(e,t){return t[e]||(t[e]=[]),t[e]}function te(e){return Array.isArray(e)?e:[e]}function ie(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const se=e=>"number"==typeof e,ne=e=>e.every(se),re=new WeakMap,oe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ae=new Set(oe),le={type:"spring",stiffness:500,damping:25,restSpeed:10},ce={type:"keyframes",duration:.8},ue={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},he=(e,{keyframes:t})=>t.length>2?ce:ae.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:le:ue;function de(e,t){return e?e[t]||e.default||e:void 0}const pe=e=>null!==e;function me(e,{repeat:t,repeatType:i="loop"},s){const n=e.filter(pe),r=t&&"loop"!==i&&t%2==1?0:n.length-1;return r&&void 0!==s?s:n[r]}const ge=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,fe=1e-7,ve=12;function ye(t,i,s,n){if(t===i&&s===n)return e;const r=e=>function(e,t,i,s,n){let r,o,a=0;do{o=t+(i-t)/2,r=ge(o,s,n)-e,r>0?i=o:t=o}while(Math.abs(r)>fe&&++a<ve);return o}(e,0,1,t,s);return e=>0===e||1===e?e:ge(r(e),i,n)}const we=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,be=e=>t=>1-e(1-t),Te=ye(.33,1.53,.69,.99),Se=be(Te),xe=we(Se),Ee=e=>(e*=2)<1?.5*Se(e):.5*(2-Math.pow(2,-10*(e-1))),Ce=e=>1-Math.sin(Math.acos(e)),ke=be(Ce),_e=we(Ce),De=e=>/^0[^.\s]+$/u.test(e);const Pe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Ae=e=>t=>"string"==typeof t&&t.startsWith(e),Me=Ae("--"),Le=Ae("var(--"),Re=e=>!!Le(e)&&Ie.test(e.split("/*")[0].trim()),Ie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ne(e,t,i=1){const[s,n]=function(e){const t=Oe.exec(e);if(!t)return[,];const[,i,s,n]=t;return[`--${null!=i?i:s}`,n]}(e);if(!s)return;const r=window.getComputedStyle(t).getPropertyValue(s);if(r){const e=r.trim();return Pe(e)?parseFloat(e):e}return Re(n)?Ne(n,t,i+1):n}const Be={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},He={...Be,transform:e=>C(0,1,e)},Fe={...Be,default:1},qe=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ze=qe("deg"),Ve=qe("%"),je=qe("px"),Ue=qe("vh"),Ge=qe("vw"),We={...Ve,parse:e=>Ve.parse(e)/100,transform:e=>Ve.transform(100*e)},Ye=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$e=e=>e===Be||e===je,Ze=(e,t)=>parseFloat(e.split(", ")[t]),Xe=(e,t)=>(i,{transform:s})=>{if("none"===s||!s)return 0;const n=s.match(/^matrix3d\((.+)\)$/u);if(n)return Ze(n[1],t);{const t=s.match(/^matrix\((.+)\)$/u);return t?Ze(t[1],e):0}},Ke=new Set(["x","y","z"]),Je=oe.filter((e=>!Ke.has(e)));const Qe={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Xe(4,13),y:Xe(5,14)};Qe.translateX=Qe.x,Qe.translateY=Qe.y;const et=e=>t=>t.test(e),tt=[Be,je,Ve,ze,Ge,Ue,{test:e=>"auto"===e,parse:e=>e}],it=e=>tt.find(et(e)),st=new Set;let nt=!1,rt=!1;function ot(){if(rt){const e=Array.from(st).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),i=new Map;t.forEach((e=>{const t=function(e){const t=[];return Je.forEach((i=>{const s=e.getValue(i);void 0!==s&&(t.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))})),t}(e);t.length&&(i.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=i.get(e);t&&t.forEach((([t,i])=>{var s;null===(s=e.getValue(t))||void 0===s||s.set(i)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}rt=!1,nt=!1,st.forEach((e=>e.complete())),st.clear()}function at(){st.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(rt=!0)}))}class lt{constructor(e,t,i,s,n,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=n,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(st.add(this),nt||(nt=!0,a.read(at),a.resolveKeyframes(ot))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;for(let n=0;n<e.length;n++)if(null===e[n])if(0===n){const n=null==s?void 0:s.get(),r=e[e.length-1];if(void 0!==n)e[0]=n;else if(i&&t){const s=i.readValue(t,r);null!=s&&(e[0]=s)}void 0===e[0]&&(e[0]=r),s&&void 0===n&&s.set(e[0])}else e[n]=e[n-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),st.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,st.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ct=e=>Math.round(1e5*e)/1e5,ut=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const ht=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dt=(e,t)=>i=>Boolean("string"==typeof i&&ht.test(i)&&i.startsWith(e)||t&&!function(e){return null==e}(i)&&Object.prototype.hasOwnProperty.call(i,t)),pt=(e,t,i)=>s=>{if("string"!=typeof s)return s;const[n,r,o,a]=s.match(ut);return{[e]:parseFloat(n),[t]:parseFloat(r),[i]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},mt={...Be,transform:e=>Math.round((e=>C(0,255,e))(e))},gt={test:dt("rgb","red"),parse:pt("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:s=1})=>"rgba("+mt.transform(e)+", "+mt.transform(t)+", "+mt.transform(i)+", "+ct(He.transform(s))+")"};const ft={test:dt("#"),parse:function(e){let t="",i="",s="",n="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),s=e.substring(3,4),n=e.substring(4,5),t+=t,i+=i,s+=s,n+=n),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}},transform:gt.transform},vt={test:dt("hsl","hue"),parse:pt("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ve.transform(ct(t))+", "+Ve.transform(ct(i))+", "+ct(He.transform(s))+")"},yt={test:e=>gt.test(e)||ft.test(e)||vt.test(e),parse:e=>gt.test(e)?gt.parse(e):vt.test(e)?vt.parse(e):ft.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?gt.transform(e):vt.transform(e)},wt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const bt="number",Tt="color",St="var",xt="var(",Et="${}",Ct=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kt(e){const t=e.toString(),i=[],s={color:[],number:[],var:[]},n=[];let r=0;const o=t.replace(Ct,(e=>(yt.test(e)?(s.color.push(r),n.push(Tt),i.push(yt.parse(e))):e.startsWith(xt)?(s.var.push(r),n.push(St),i.push(e)):(s.number.push(r),n.push(bt),i.push(parseFloat(e))),++r,Et))).split(Et);return{values:i,split:o,indexes:s,types:n}}function _t(e){return kt(e).values}function Dt(e){const{split:t,types:i}=kt(e),s=t.length;return e=>{let n="";for(let r=0;r<s;r++)if(n+=t[r],void 0!==e[r]){const t=i[r];n+=t===bt?ct(e[r]):t===Tt?yt.transform(e[r]):e[r]}return n}}const Pt=e=>"number"==typeof e?0:e;const At={test:function(e){var t,i;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(ut))||void 0===t?void 0:t.length)||0)+((null===(i=e.match(wt))||void 0===i?void 0:i.length)||0)>0},parse:_t,createTransformer:Dt,getAnimatableNone:function(e){const t=_t(e);return Dt(e)(t.map(Pt))}},Mt=new Set(["brightness","contrast","saturate","opacity"]);function Lt(e){const[t,i]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[s]=i.match(ut)||[];if(!s)return e;const n=i.replace(s,"");let r=Mt.has(t)?1:0;return s!==i&&(r*=100),t+"("+r+n+")"}const Rt=/\b([a-z-]*)\(.*?\)/gu,It={...At,getAnimatableNone:e=>{const t=e.match(Rt);return t?t.map(Lt).join(" "):e}},Ot={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je},Nt={rotate:ze,rotateX:ze,rotateY:ze,rotateZ:ze,scale:Fe,scaleX:Fe,scaleY:Fe,scaleZ:Fe,skew:ze,skewX:ze,skewY:ze,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:He,originX:We,originY:We,originZ:je},Bt={...Be,transform:Math.round},Ht={...Ot,...Nt,zIndex:Bt,size:je,fillOpacity:He,strokeOpacity:He,numOctaves:Bt},Ft={...Ht,color:yt,backgroundColor:yt,outlineColor:yt,fill:yt,stroke:yt,borderColor:yt,borderTopColor:yt,borderRightColor:yt,borderBottomColor:yt,borderLeftColor:yt,filter:It,WebkitFilter:It},qt=e=>Ft[e];function zt(e,t){let i=qt(e);return i!==It&&(i=At),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const Vt=new Set(["auto","none","0"]);class jt extends lt{constructor(e,t,i,s,n){super(e,t,i,s,n,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let i=0;i<e.length;i++){let s=e[i];if("string"==typeof s&&(s=s.trim(),Re(s))){const n=Ne(s,t.current);void 0!==n&&(e[i]=n),i===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!Ye.has(i)||2!==e.length)return;const[s,n]=e,r=it(s),o=it(n);if(r!==o)if($e(r)&&$e(o))for(let t=0;t<e.length;t++){const i=e[t];"string"==typeof i&&(e[t]=parseFloat(i))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let t=0;t<e.length;t++)("number"==typeof(s=e[t])?0===s:null===s||"none"===s||"0"===s||De(s))&&i.push(t);var s;i.length&&function(e,t,i){let s,n=0;for(;n<e.length&&!s;){const t=e[n];"string"==typeof t&&!Vt.has(t)&&kt(t).values.length&&(s=e[n]),n++}if(s&&i)for(const n of t)e[n]=zt(i,s)}(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;"height"===i&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qe[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];void 0!==s&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const n=t.getValue(i);n&&n.jump(this.measuredOrigin,!1);const r=s.length-1,o=s[r];s[r]=Qe[i](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((([e,i])=>{t.getValue(e).set(i)})),this.resolveNoneKeyframes()}}const Ut=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!At.test(e)&&"0"!==e||e.startsWith("url(")));function Gt(e,t,i,s){const n=e[0];if(null===n)return!1;if("display"===t||"visibility"===t)return!0;const r=e[e.length-1],o=Ut(n,t),a=Ut(r,t);return!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}(e)||("spring"===i||G(i))&&s)}class Wt{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:n=0,repeatType:r="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=p.now(),this.options={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:n,repeatType:r,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(at(),ot()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=p.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:n,delay:r,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!Gt(e,i,s,n)){if(!r)return null==a||a(me(e,this.options,t)),null==o||o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}function Yt({keyframes:e,velocity:t=0,power:i=.8,timeConstant:s=325,bounceDamping:n=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],d={done:!1,value:h},p=e=>void 0===a?l:void 0===l||Math.abs(a-e)<Math.abs(l-e)?a:l;let m=i*t;const g=h+m,f=void 0===o?g:o(g);f!==g&&(m=f-h);const v=e=>-m*Math.exp(-e/s),y=e=>f+v(e),w=e=>{const t=v(e),i=y(e);d.done=Math.abs(t)<=c,d.value=d.done?f:i};let b,T;const S=e=>{var t;(t=d.value,void 0!==a&&t<a||void 0!==l&&t>l)&&(b=e,T=N({keyframes:[d.value,p(d.value)],velocity:E(y,e,d.value),damping:n,stiffness:r,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return T||void 0!==b||(t=!0,w(e),S(e)),void 0!==b&&e>=b?T.next(e-b):(!t&&w(e),d)}}}const $t=ye(.42,0,1,1),Zt=ye(0,0,.58,1),Xt=ye(.42,0,.58,1),Kt=e=>Array.isArray(e)&&"number"==typeof e[0],Jt={linear:e,easeIn:$t,easeInOut:Xt,easeOut:Zt,circIn:Ce,circInOut:_e,circOut:ke,backIn:Se,backInOut:xe,backOut:Te,anticipate:Ee},Qt=e=>{if(Kt(e)){t(4===e.length);const[i,s,n,r]=e;return ye(i,s,n,r)}return"string"==typeof e?(t(void 0!==Jt[e]),Jt[e]):e},ei=(e,t)=>i=>t(e(i)),ti=(...e)=>e.reduce(ei);function ii(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function si(e,t){return i=>i>0?t:e}const ni=(e,t,i)=>{const s=e*e,n=i*(t*t-s)+s;return n<0?0:Math.sqrt(n)},ri=[ft,gt,vt];function oi(e){const t=(i=e,ri.find((e=>e.test(i))));var i;if(!Boolean(t))return!1;let s=t.parse(e);return t===vt&&(s=function({hue:e,saturation:t,lightness:i,alpha:s}){e/=360,i/=100;let n=0,r=0,o=0;if(t/=100){const s=i<.5?i*(1+t):i+t-i*t,a=2*i-s;n=ii(a,s,e+1/3),r=ii(a,s,e),o=ii(a,s,e-1/3)}else n=r=o=i;return{red:Math.round(255*n),green:Math.round(255*r),blue:Math.round(255*o),alpha:s}}(s)),s}const ai=(e,t)=>{const i=oi(e),s=oi(t);if(!i||!s)return si(e,t);const n={...i};return e=>(n.red=ni(i.red,s.red,e),n.green=ni(i.green,s.green,e),n.blue=ni(i.blue,s.blue,e),n.alpha=H(i.alpha,s.alpha,e),gt.transform(n))},li=new Set(["none","hidden"]);function ci(e,t){return i=>H(e,t,i)}function ui(e){return"number"==typeof e?ci:"string"==typeof e?Re(e)?si:yt.test(e)?ai:pi:Array.isArray(e)?hi:"object"==typeof e?yt.test(e)?ai:di:si}function hi(e,t){const i=[...e],s=i.length,n=e.map(((e,i)=>ui(e)(e,t[i])));return e=>{for(let t=0;t<s;t++)i[t]=n[t](e);return i}}function di(e,t){const i={...e,...t},s={};for(const n in i)void 0!==e[n]&&void 0!==t[n]&&(s[n]=ui(e[n])(e[n],t[n]));return e=>{for(const t in s)i[t]=s[t](e);return i}}const pi=(e,t)=>{const i=At.createTransformer(t),s=kt(e),n=kt(t);return s.indexes.var.length===n.indexes.var.length&&s.indexes.color.length===n.indexes.color.length&&s.indexes.number.length>=n.indexes.number.length?li.has(e)&&!n.values.length||li.has(t)&&!s.values.length?function(e,t){return li.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}(e,t):ti(hi(function(e,t){var i;const s=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const o=t.types[r],a=e.indexes[o][n[o]],l=null!==(i=e.values[a])&&void 0!==i?i:0;s[r]=l,n[o]++}return s}(s,n),n.values),i):si(e,t)};function mi(e,t,i){if("number"==typeof e&&"number"==typeof t&&"number"==typeof i)return H(e,t,i);return ui(e)(e,t)}function gi(i,s,{clamp:n=!0,ease:r,mixer:o}={}){const a=i.length;if(t(a===s.length),1===a)return()=>s[0];if(2===a&&i[0]===i[1])return()=>s[1];i[0]>i[a-1]&&(i=[...i].reverse(),s=[...s].reverse());const l=function(t,i,s){const n=[],r=s||mi,o=t.length-1;for(let s=0;s<o;s++){let o=r(t[s],t[s+1]);if(i){const t=Array.isArray(i)?i[s]||e:i;o=ti(t,o)}n.push(o)}return n}(s,r,o),c=l.length,u=e=>{let t=0;if(c>1)for(;t<i.length-2&&!(e<i[t+1]);t++);const s=w(i[t],i[t+1],e);return l[t](s)};return n?e=>u(C(i[0],i[a-1],e)):u}function fi({duration:e=300,keyframes:t,times:i,ease:s="easeInOut"}){const n=$(s)?s.map(Qt):Qt(s),r={done:!1,value:t[0]},o=function(e,t){return e.map((e=>e*t))}(i&&i.length===t.length?i:q(t),e),a=gi(o,t,{ease:Array.isArray(n)?n:(l=t,c=n,l.map((()=>c||Xt)).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(r.value=a(t),r.done=t>=e,r)}}const vi=e=>{const t=({timestamp:t})=>e(t);return{start:()=>a.update(t,!0),stop:()=>l(t),now:()=>c.isProcessing?c.timestamp:p.now()}},yi={decay:Yt,inertia:Yt,tween:fi,keyframes:fi,spring:N},wi=e=>e/100;class bi extends Wt{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:i,element:s,keyframes:n}=this.options,r=(null==s?void 0:s.KeyframeResolver)||lt;this.resolver=new r(n,((e,t)=>this.onKeyframesResolved(e,t)),t,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:n,velocity:r=0}=this.options,o=G(t)?t:yi[t]||fi;let a,l;o!==fi&&"number"!=typeof e[0]&&(a=ti(wi,mi(e[0],e[1])),e=[0,100]);const c=o({...this.options,keyframes:e});"mirror"===n&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-r})),null===c.calculatedDuration&&(c.calculatedDuration=L(c));const{calculatedDuration:u}=c,h=u+s;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(i+1)-s}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:s,generator:n,mirroredGenerator:r,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=i;if(null===this.startTime)return n.next(0);const{delay:h,repeat:d,repeatType:p,repeatDelay:m,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const f=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?f<0:f>c;this.currentTime=Math.max(f,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,w=n;if(d){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),i=e%1;!i&&e>=1&&(i=1),1===i&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===p?(i=1-i,m&&(i-=m/u)):"mirror"===p&&(w=r)),y=C(0,1,i)*u}const b=v?{done:!1,value:a[0]}:w.next(y);o&&(b.value=o(b.value));let{done:T}=b;v||null===l||(T=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&T);return S&&void 0!==s&&(b.value=me(a,this.options,s)),g&&g(b.value),S&&this.finish(),b}get duration(){const{resolved:e}=this;return e?S(e.calculatedDuration):0}get time(){return S(this.currentTime)}set time(e){e=T(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=S(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=vi,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const s=this.driver.now();null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=s):this.startTime=null!=i?i:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Ti=new Set(["opacity","clipPath","filter","transform"]),Si={linearEasing:void 0};function xi(e,t){const i=f(e);return()=>{var e;return null!==(e=Si[t])&&void 0!==e?e:i()}}const Ei=xi((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing");function Ci(e){return Boolean("function"==typeof e&&Ei()||!e||"string"==typeof e&&(e in _i||Ei())||Kt(e)||Array.isArray(e)&&e.every(Ci))}const ki=([e,t,i,s])=>`cubic-bezier(${e}, ${t}, ${i}, ${s})`,_i={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ki([0,.65,.55,1]),circOut:ki([.55,0,1,.45]),backIn:ki([.31,.01,.66,-.59]),backOut:ki([.33,1.53,.69,.99])};function Di(e,t){return e?"function"==typeof e&&Ei()?b(e,t):Kt(e)?ki(e):Array.isArray(e)?e.map((e=>Di(e,t)||_i.easeOut)):_i[e]:void 0}function Pi(e,t,i,{delay:s=0,duration:n=300,repeat:r=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:i};l&&(c.offset=l);const u=Di(a,n);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:s,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:"reverse"===o?"alternate":"normal"})}function Ai(e,t){e.timeline=t,e.onfinish=null}const Mi=f((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Li={anticipate:Ee,backInOut:xe,circInOut:_e};class Ri extends Wt{constructor(e){super(e);const{name:t,motionValue:i,element:s,keyframes:n}=this.options;this.resolver=new jt(n,((e,t)=>this.onKeyframesResolved(e,t)),t,i,s),this.resolver.scheduleResolve()}initPlayback(e,t){var i;let{duration:s=300,times:n,ease:r,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!(null===(i=a.owner)||void 0===i?void 0:i.current))return!1;var u;if("string"==typeof r&&Ei()&&r in Li&&(r=Li[r]),G((u=this.options).type)||"spring"===u.type||!Ci(u.ease)){const{onComplete:t,onUpdate:i,motionValue:a,element:l,...c}=this.options,u=function(e,t){const i=new bi({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const n=[];let r=0;for(;!s.done&&r<2e4;)s=i.sample(r),n.push(s.value),r+=10;return{times:void 0,keyframes:n,duration:r-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),s=u.duration,n=u.times,r=u.ease,o="keyframes"}const h=Pi(a.owner.current,l,e,{...this.options,duration:s,times:n,ease:r});return h.startTime=null!=c?c:this.calcStartTime(),this.pendingTimeline?(Ai(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:i}=this.options;a.set(me(e,this.options,t)),i&&i(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:n,type:o,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return S(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return S(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=T(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(t){if(this._resolved){const{resolved:i}=this;if(!i)return e;const{animation:s}=i;Ai(s,t)}else this.pendingTimeline=t;return e}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:s,type:n,ease:r,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:a,element:l,...c}=this.options,u=new bi({...c,keyframes:i,duration:s,type:n,ease:r,times:o,isGenerator:!0}),h=T(this.time);e.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:s,repeatType:n,damping:r,type:o}=e;return Mi()&&i&&Ti.has(i)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!s&&"mirror"!==n&&0!==r&&"inertia"!==o}}const Ii=(e,t,i,s={},n,r)=>o=>{const l=de(s,e)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u-=T(c);let h={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:r?void 0:n};(function({when:e,delay:t,delayChildren:i,staggerChildren:s,staggerDirection:n,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(l)||(h={...h,...he(e,h)}),h.duration&&(h.duration=T(h.duration)),h.repeatDelay&&(h.repeatDelay=T(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let d=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(h.duration=0,0===h.delay&&(d=!0)),d&&!r&&void 0!==t.get()){const e=me(h.keyframes,l);if(void 0!==e)return a.update((()=>{h.onUpdate(e),h.onComplete()})),new y([])}return!r&&Ri.supports(h)?new Ri(h):new bi(h)},Oi=e=>(e=>Array.isArray(e))(e)?e[e.length-1]||0:e;function Ni(e){const t=[{},{}];return null==e||e.values.forEach(((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()})),t}function Bi(e,t,i,s){if("function"==typeof t){const[n,r]=Ni(s);t=t(void 0!==i?i:e.custom,n,r)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[n,r]=Ni(s);t=t(void 0!==i?i:e.custom,n,r)}return t}function Hi(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,g(i))}function Fi(e,t){const i=function(e,t,i){const s=e.getProps();return Bi(s,t,s.custom,e)}(e,t);let{transitionEnd:s={},transition:n={},...r}=i||{};r={...r,...s};for(const t in r){Hi(e,t,Oi(r[t]))}}const qi=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zi="data-"+qi("framerAppearId");function Vi(e){return e.props[zi]}function ji(e,t){const i=e.getValue("willChange");if(s=i,Boolean(z(s)&&s.add))return i.add(t);var s}function Ui({protectedKeys:e,needsAnimating:t},i){const s=e.hasOwnProperty(i)&&!0!==t[i];return t[i]=!1,s}function Gi(e,t,{delay:i=0,transitionOverride:s,type:n}={}){var r;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;s&&(o=s);const u=[],h=n&&e.animationState&&e.animationState.getState()[n];for(const t in c){const s=e.getValue(t,null!==(r=e.latestValues[t])&&void 0!==r?r:null),n=c[t];if(void 0===n||h&&Ui(h,t))continue;const l={delay:i,...de(o||{},t)};let d=!1;if(window.MotionHandoffAnimation){const i=Vi(e);if(i){const e=window.MotionHandoffAnimation(i,t,a);null!==e&&(l.startTime=e,d=!0)}}ji(e,t),s.start(Ii(t,s,n,e.shouldReduceMotion&&ae.has(t)?{type:!1}:l,e,d));const p=s.animation;p&&u.push(p)}return l&&Promise.all(u).then((()=>{a.update((()=>{l&&Fi(e,l)}))})),u}const Wi={};function Yi(e,{layout:t,layoutId:i}){return ae.has(e)||e.startsWith("origin")||(t||void 0!==i)&&(!!Wi[e]||"opacity"===e)}function $i(e,t,i){var s;const{style:n}=e,r={};for(const o in n)(z(n[o])||t.style&&z(t.style[o])||Yi(o,e)||void 0!==(null===(s=null==i?void 0:i.getValue(o))||void 0===s?void 0:s.liveStyle))&&(r[o]=n[o]);return r}const Zi="undefined"!=typeof window,Xi={current:null},Ki={current:!1};const Ji=["initial","animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"];function Qi(e){return null!==(t=e.animate)&&"object"==typeof t&&"function"==typeof t.start||Ji.some((t=>function(e){return"string"==typeof e||Array.isArray(e)}(e[t])));var t}const es={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ts={};for(const e in es)ts[e]={isEnabled:t=>es[e].some((e=>!!t[e]))};const is=[...tt,yt,At],ss=()=>({x:{min:0,max:0},y:{min:0,max:0}}),ns=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rs{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:n,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=p.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,a.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=r;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=Boolean(n),this.isControllingVariants=Qi(t),this.isVariantNode=function(e){return Boolean(Qi(e)||e.variants)}(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in h){const t=h[e];void 0!==l[e]&&z(t)&&t.set(l[e],!1)}}mount(e){this.current=e,re.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Ki.current||function(){if(Ki.current=!0,Zi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xi.current=e.matches;e.addListener(t),t()}else Xi.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Xi.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){re.delete(this.current),this.projection&&this.projection.unmount(),l(this.notifyUpdate),l(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ae.has(e),s=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&a.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)})),n=t.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{s(),n(),r&&r(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in ts){const t=ts[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<ns.length;t++){const i=ns[t];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=function(e,t,i){for(const s in t){const n=t[s],r=i[s];if(z(n))e.addValue(s,n);else if(z(r))e.addValue(s,g(n,{owner:e}));else if(r!==n)if(e.hasValue(s)){const t=e.getValue(s);!0===t.liveStyle?t.jump(n):t.hasAnimated||t.set(n)}else{const t=e.getStaticValue(s);e.addValue(s,g(void 0!==t?t:n,{owner:e}))}}for(const s in i)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return void 0===i&&void 0!==t&&(i=g(null===t?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let s=void 0===this.latestValues[e]&&this.current?null!==(i=this.getBaseTargetFromProps(this.props,e))&&void 0!==i?i:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var n;return null!=s&&("string"==typeof s&&(Pe(s)||De(s))?s=parseFloat(s):(n=s,!is.find(et(n))&&At.test(t)&&(s=zt(e,t))),this.setBaseTarget(e,z(s)?s.get():s)),z(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let s;if("string"==typeof i||"object"==typeof i){const n=Bi(this.props,i,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);n&&(s=n[e])}if(i&&void 0!==s)return s;const n=this.getBaseTargetFromProps(this.props,e);return void 0===n||z(n)?void 0!==this.initialValues[e]&&void 0===s?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new s),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class os extends rs{constructor(){super(...arguments),this.KeyframeResolver=jt}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;z(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}const as=(e,t)=>t&&"number"==typeof e?t.transform(e):e,ls={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cs=oe.length;function us(e,t,i){const{style:s,vars:n,transformOrigin:r}=e;let o=!1,a=!1;for(const e in t){const i=t[e];if(ae.has(e))o=!0;else if(Me(e))n[e]=i;else{const t=as(i,Ht[e]);e.startsWith("origin")?(a=!0,r[e]=t):s[e]=t}}if(t.transform||(o||i?s.transform=function(e,t,i){let s="",n=!0;for(let r=0;r<cs;r++){const o=oe[r],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"==typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||i){const e=as(a,Ht[o]);l||(n=!1,s+=`${ls[o]||o}(${e}) `),i&&(t[o]=e)}}return s=s.trim(),i?s=i(t,n?"":s):n&&(s="none"),s}(t,e.transform,i):s.transform&&(s.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:i=0}=r;s.transformOrigin=`${e} ${t} ${i}`}}function hs(e,t,i){return"string"==typeof e?e:je.transform(t+i*e)}const ds={offset:"stroke-dashoffset",array:"stroke-dasharray"},ps={offset:"strokeDashoffset",array:"strokeDasharray"};function ms(e,{attrX:t,attrY:i,attrScale:s,originX:n,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(us(e,c,h),u)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:p,dimensions:m}=e;d.transform&&(m&&(p.transform=d.transform),delete d.transform),m&&(void 0!==n||void 0!==r||p.transform)&&(p.transformOrigin=function(e,t,i){return`${hs(t,e.x,e.width)} ${hs(i,e.y,e.height)}`}(m,void 0!==n?n:.5,void 0!==r?r:.5)),void 0!==t&&(d.x=t),void 0!==i&&(d.y=i),void 0!==s&&(d.scale=s),void 0!==o&&function(e,t,i=1,s=0,n=!0){e.pathLength=1;const r=n?ds:ps;e[r.offset]=je.transform(-s);const o=je.transform(t),a=je.transform(i);e[r.array]=`${o} ${a}`}(d,o,a,l,!1)}const gs=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fs(e,{style:t,vars:i},s,n){Object.assign(e.style,t,n&&n.getProjectionStyles(s));for(const t in i)e.style.setProperty(t,i[t])}class vs extends os{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ss}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ae.has(t)){const e=qt(t);return e&&e.default||0}return t=gs.has(t)?t:qi(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return function(e,t,i){const s=$i(e,t,i);for(const i in e)(z(e[i])||z(t[i]))&&(s[-1!==oe.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return s}(e,t,i)}build(e,t,i){ms(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,s){!function(e,t,i,s){fs(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(gs.has(i)?i:qi(i),t.attrs[i])}(e,t,0,s)}mount(e){var t;this.isSVGTag="string"==typeof(t=e.tagName)&&"svg"===t.toLowerCase(),super.mount(e)}}class ys extends os{constructor(){super(...arguments),this.type="html",this.renderInstance=fs}readValueFromInstance(e,t){if(ae.has(t)){const e=qt(t);return e&&e.default||0}{const s=(i=e,window.getComputedStyle(i)),n=(Me(t)?s.getPropertyValue(t):s[t])||0;return"string"==typeof n?n.trim():n}var i}measureInstanceViewportBox(e,{transformPagePoint:t}){return function(e,t){return function({top:e,left:t,right:i,bottom:s}){return{x:{min:t,max:i},y:{min:e,max:s}}}(function(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}(e,t)}build(e,t,i){us(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return $i(e,t,i)}}class ws extends rs{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,t){if(function(e,t){return e in t}(t,e)){const i=e[t];if("string"==typeof i||"number"==typeof i)return i}}getBaseTargetFromProps(){}removeValueFromRenderState(e,t){delete t.output[e]}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}build(e,t){Object.assign(e.output,t)}renderInstance(e,{output:t}){Object.assign(e,t)}sortInstanceNodePosition(){return 0}}function bs(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},i=function(e){return e instanceof SVGElement&&"svg"!==e.tagName}(e)?new vs(t):new ys(t);i.mount(e),re.set(e,i)}function Ts(e){const t=new ws({presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}});t.mount(e),re.set(e,t)}function Ss(e,t,i,s){const n=[];if(function(e,t){return z(e)||"number"==typeof e||"string"==typeof e&&!j(t)}(e,t))n.push(function(e,t,i){const s=z(e)?e:g(e);return s.start(Ii("",s,t,i)),s.animation}(e,j(t)&&t.default||t,i&&i.default||i));else{const s=U(e,t),r=s.length;for(let e=0;e<r;e++){const o=s[e],a=o instanceof Element?bs:Ts;re.has(o)||a(o);const l=re.get(o),c={...i};"delay"in c&&"function"==typeof c.delay&&(c.delay=c.delay(e,r)),n.push(...Gi(l,{...t,transition:c},{}))}}return n}function xs(e,t,i){const s=[],n=function(e,{defaultTransition:t={},...i}={},s,n){const r=t.duration||.3,o=new Map,a=new Map,l={},c=new Map;let u=0,h=0,d=0;for(let i=0;i<e.length;i++){const s=e[i];if("string"==typeof s){c.set(s,h);continue}if(!Array.isArray(s)){c.set(s.name,W(h,s.at,u,c));continue}let[o,p,m={}]=s;void 0!==m.at&&(h=W(h,m.at,u,c));let g=0;const f=(e,i,s,o=0,a=0)=>{const l=te(e),{delay:c=0,times:u=q(l),type:p="keyframes",...m}=i;let{ease:f=t.ease||"easeOut",duration:v}=i;const y="function"==typeof c?c(o,a):c,w=l.length,b=G(p)?p:null==n?void 0:n[p];if(w<=2&&b){let e=100;if(2===w&&ne(l)){const t=l[1]-l[0];e=Math.abs(t)}const t={...m};void 0!==v&&(t.duration=T(v));const i=B(t,e,b);f=i.ease,v=i.duration}null!=v||(v=r);const S=h+y,x=S+v;1===u.length&&0===u[0]&&(u[1]=1);const E=u.length-l.length;E>0&&F(u,E),1===l.length&&l.unshift(null),X(s,l,f,u,S,x),g=Math.max(y+v,g),d=Math.max(x,d)};if(z(o))f(p,m,ee("default",Q(o,a)));else{const e=U(o,p,0,l),t=e.length;for(let i=0;i<t;i++){const s=Q(e[i],a);for(const e in p)f(p[e],ie(m,e),ee(e,s),i,t)}}u=h,h+=g}return a.forEach(((e,s)=>{for(const n in e){const r=e[n];r.sort(K);const a=[],l=[],c=[];for(let e=0;e<r.length;e++){const{at:t,value:i,easing:s}=r[e];a.push(i),l.push(w(0,d,t)),c.push(s||"easeOut")}0!==l[0]&&(l.unshift(0),a.unshift(a[0]),c.unshift(J)),1!==l[l.length-1]&&(l.push(1),a.push(null)),o.has(s)||o.set(s,{keyframes:{},transition:{}});const u=o.get(s);u.keyframes[n]=a,u.transition[n]={...t,duration:d,ease:c,times:l,...i}}})),o}(e,t,0,{spring:N});return n.forEach((({keyframes:e,transition:t},i)=>{s.push(...Ss(i,e,t))})),s}const Es=function(e,t,i){let s=[];var n;return n=e,s=Array.isArray(n)&&Array.isArray(n[0])?xs(e,t):Ss(e,t,i),new y(s)},Cs=new WeakMap;let ks;function _s({target:e,contentRect:t,borderBoxSize:i}){var s;null===(s=Cs.get(e))||void 0===s||s.forEach((s=>{s({target:e,contentSize:t,get size(){return function(e,t){if(t){const{inlineSize:e,blockSize:i}=t[0];return{width:e,height:i}}return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}(e,i)}})}))}function Ds(e){e.forEach(_s)}function Ps(e,t){ks||"undefined"!=typeof ResizeObserver&&(ks=new ResizeObserver(Ds));const i=V(e);return i.forEach((e=>{let i=Cs.get(e);i||(i=new Set,Cs.set(e,i)),i.add(t),null==ks||ks.observe(e)})),()=>{i.forEach((e=>{const i=Cs.get(e);null==i||i.delete(t),(null==i?void 0:i.size)||null==ks||ks.unobserve(e)}))}}const As=new Set;let Ms;function Ls(e){return As.add(e),Ms||(Ms=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};As.forEach((e=>e(t)))},window.addEventListener("resize",Ms)),()=>{As.delete(e),!As.size&&Ms&&(Ms=void 0)}}const Rs=50,Is=()=>({time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}}),Os={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Ns(e,t,i,s){const r=i[t],{length:o,position:a}=Os[t],l=r.current,c=i.time;r.current=e[`scroll${a}`],r.scrollLength=e[`scroll${o}`]-e[`client${o}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=w(0,r.scrollLength,r.current);const u=s-c;r.velocity=u>Rs?0:n(r.current-l,u)}const Bs={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Hs={start:0,center:.5,end:1};function Fs(e,t,i=0){let s=0;if(e in Hs&&(e=Hs[e]),"string"==typeof e){const t=parseFloat(e);e.endsWith("px")?s=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?s=t/100*document.documentElement.clientWidth:e.endsWith("vh")?s=t/100*document.documentElement.clientHeight:e=t}return"number"==typeof e&&(s=t*e),i+s}const qs=[0,0];function zs(e,t,i,s){let n=Array.isArray(e)?e:qs,r=0,o=0;return"number"==typeof e?n=[e,e]:"string"==typeof e&&(n=(e=e.trim()).includes(" ")?e.split(" "):[e,Hs[e]?e:"0"]),r=Fs(n[0],i,s),o=Fs(n[1],t),r-o}const Vs={x:0,y:0};function js(e,t,i){const{offset:s=Bs.All}=i,{target:n=e,axis:r="y"}=i,o="y"===r?"height":"width",a=n!==e?function(e,t){const i={x:0,y:0};let s=e;for(;s&&s!==t;)if(s instanceof HTMLElement)i.x+=s.offsetLeft,i.y+=s.offsetTop,s=s.offsetParent;else if("svg"===s.tagName){const e=s.getBoundingClientRect();s=s.parentElement;const t=s.getBoundingClientRect();i.x+=e.left-t.left,i.y+=e.top-t.top}else{if(!(s instanceof SVGGraphicsElement))break;{const{x:e,y:t}=s.getBBox();i.x+=e,i.y+=t;let n=null,r=s.parentNode;for(;!n;)"svg"===r.tagName&&(n=r),r=s.parentNode;s=n}}return i}(n,e):Vs,l=n===e?{width:e.scrollWidth,height:e.scrollHeight}:function(e){return"getBBox"in e&&"svg"!==e.tagName?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}(n),c={width:e.clientWidth,height:e.clientHeight};t[r].offset.length=0;let u=!t[r].interpolate;const h=s.length;for(let e=0;e<h;e++){const i=zs(s[e],c[o],l[o],a[r]);u||i===t[r].interpolatorOffsets[e]||(u=!0),t[r].offset[e]=i}u&&(t[r].interpolate=gi(t[r].offset,q(s)),t[r].interpolatorOffsets=[...t[r].offset]),t[r].progress=t[r].interpolate(t[r].current)}function Us(e,t,i,s={}){return{measure:()=>function(e,t=e,i){if(i.x.targetOffset=0,i.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)i.x.targetOffset+=s.offsetLeft,i.y.targetOffset+=s.offsetTop,s=s.offsetParent}i.x.targetLength=t===e?t.scrollWidth:t.clientWidth,i.y.targetLength=t===e?t.scrollHeight:t.clientHeight,i.x.containerLength=e.clientWidth,i.y.containerLength=e.clientHeight}(e,s.target,i),update:t=>{!function(e,t,i){Ns(e,"x",t,i),Ns(e,"y",t,i),t.time=i}(e,i,t),(s.offset||s.target)&&js(e,i,s)},notify:()=>t(i)}}const Gs=new WeakMap,Ws=new WeakMap,Ys=new WeakMap,$s=e=>e===document.documentElement?window:e;function Zs(e,{container:t=document.documentElement,...i}={}){let s=Ys.get(t);s||(s=new Set,Ys.set(t,s));const n=Is(),r=Us(t,e,n,i);if(s.add(r),!Gs.has(t)){const e=()=>{for(const e of s)e.measure()},i=()=>{for(const e of s)e.update(c.timestamp)},n=()=>{for(const e of s)e.notify()},r=()=>{a.read(e,!1,!0),a.read(i,!1,!0),a.update(n,!1,!0)};Gs.set(t,r);const l=$s(t);window.addEventListener("resize",r,{passive:!0}),t!==document.documentElement&&Ws.set(t,(u=r,"function"==typeof(o=t)?Ls(o):Ps(o,u))),l.addEventListener("scroll",r,{passive:!0})}var o,u;const h=Gs.get(t);return a.read(h,!1,!0),()=>{var e;l(h);const i=Ys.get(t);if(!i)return;if(i.delete(r),i.size)return;const s=Gs.get(t);Gs.delete(t),s&&($s(t).removeEventListener("scroll",s),null===(e=Ws.get(t))||void 0===e||e(),window.removeEventListener("resize",s))}}function Xs(e,t){let i;const s=()=>{const{currentTime:s}=t,n=(null===s?0:s.value)/100;i!==n&&e(n),i=n};return a.update(s,!0),()=>l(s)}const Ks=new Map;function Js({source:e,container:t=document.documentElement,axis:i="y"}={}){e&&(t=e),Ks.has(t)||Ks.set(t,{});const s=Ks.get(t);return s[i]||(s[i]=v()?new ScrollTimeline({source:t,axis:i}):function({source:e,container:t,axis:i="y"}){e&&(t=e);const s={value:0},n=Zs((e=>{s.value=100*e[i].progress}),{container:t,axis:i});return{currentTime:s,cancel:n}}({source:t,axis:i})),s[i]}function Qs(e){return e&&(e.target||e.offset)}function en(t,{axis:i="y",...s}={}){const n={axis:i,...s};return"function"==typeof t?function(e,t){return function(e){return 2===e.length}(e)||Qs(t)?Zs((i=>{e(i[t.axis].progress,i)}),t):Xs(e,Js(t))}(t,n):function(t,i){if(t.flatten(),Qs(i))return t.pause(),Zs((e=>{t.time=t.duration*e[i.axis].progress}),i);{const s=Js(i);return t.attachTimeline?t.attachTimeline(s,(e=>(e.pause(),Xs((t=>{e.time=e.duration*t}),s)))):e}}(t,n)}const tn={some:0,all:1};function sn(e=.1,{startDelay:t=0,from:i=0,ease:s}={}){return(n,r)=>{const o="number"==typeof i?i:function(e,t){if("first"===e)return 0;{const i=t-1;return"last"===e?i:i/2}}(i,r),a=Math.abs(o-n);let l=e*a;if(s){const t=r*e;l=Qt(s)(l/t)*t}return t+l}}class nn{static#e;#t="bc-reduced-motion";#i;#s=new Set;#n=null;constructor(){this.#i=window.matchMedia("(prefers-reduced-motion: reduce)"),this.#i.addEventListener("change",this.#r.bind(this));const e=localStorage.getItem(this.#t);null!==e&&(this.#n="true"===e,this.#o())}static getInstance(){return nn.#e||(nn.#e=new nn),nn.#e}get reducedMotion(){return this.#n??this.#i.matches}static get reducedMotion(){return nn.getInstance().reducedMotion}setReducedMotion(e){this.#n=e,localStorage.setItem(this.#t,String(e)),this.#o(),this.#a()}resetToSystemPreference(){this.#n=null,localStorage.removeItem(this.#t),this.#a()}subscribe(e,t={}){const{immediate:i=!1,signal:s}=t;return this.#s.add(e),i&&e(this.reducedMotion),s&&s.addEventListener("abort",(()=>{this.#s.delete(e)}),{once:!0}),()=>{this.#s.delete(e)}}static subscribe(e,t){return nn.getInstance().subscribe(e,t)}#r=()=>{null===this.#n&&this.#a()};#a(){const e=this.reducedMotion;this.#s.forEach((t=>t(e)))}#o(){if(null!==this.#n){const e=document.documentElement;this.#n?(e.classList.add("force-reduced-motion"),e.classList.remove("force-no-reduced-motion")):(e.classList.add("force-no-reduced-motion"),e.classList.remove("force-reduced-motion"))}}}class rn extends HTMLElement{#l;connectedCallback(){const e=nn.getInstance(),t=this.querySelector('input[type="checkbox"]');this.#l=new AbortController,t&&(t.checked=!e.reducedMotion,t.addEventListener("change",(()=>{e.setReducedMotion(!t.checked)}),{signal:this.#l.signal}),e.subscribe((e=>{t.checked=!e}),{signal:this.#l.signal}))}disconnectedCallback(){this.#l.abort()}}window.customElements.get("motion-toggle")||customElements.define("motion-toggle",rn);class on{#c;#u;#h;#d;constructor(e){this.wrapper=e,this.stage=e.querySelector('[data-part="stage"]'),this.image=e.querySelector('[data-part="image"]'),this.content=e.querySelectorAll('[data-part="content"]'),this.disableFocus=e.querySelectorAll("[data-disable-focus]"),this.isPageHeader=e.hasAttribute("data-pageheader"),this.disableFocus&&this.#p(),this.#m(),window.addEventListener("resize",(()=>{this.#m()})),nn.subscribe(this.#g.bind(this),{immediate:!0})}#p(){this.disableFocus.forEach((e=>{e.querySelectorAll("a, button, input, select, textarea, [tabindex], [contenteditable]").forEach((e=>{e.setAttribute("tabindex","-1")}))}))}#m(){const e=this.content[0].offsetHeight/this.stage.offsetHeight*100;this.clip=100-e}#g(e){this.#c?.(),this.#c=null,this.#u?.(),this.#u=null,this.#h?.(),this.#h=null,this.#d?.(),this.#d=null,e?(Es(this.stage,{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0% 100%)"},{duration:0}),Es(this.image,{transform:"translateY(0)"},{duration:0}),Es(this.content,{opacity:1,transform:"translateY(0)"},{duration:0})):this.#f()}#f(){this.isPageHeader?(this.clipPathOffset=["start start","end 0.4"],this.imageTransform=["translateY(0px)","translateY(100px)"],this.imageOffset=["start start","end start"],this.target=this.stage):(this.clipPathOffset=["start start","end 0.7"],this.imageTransform=["translateY(-100px)","translateY(100px)"],this.imageOffset=["start end","end start"],this.target=this.stage),this.#c=en(Es(this.stage,{clipPath:["polygon(0 0, 100% 0, 100% 100%, 0% 100%)",`polygon(0 0, 100% 0, 100% ${this.clip}%, 0 ${this.clip}%)`]}),{target:this.stage,offset:this.clipPathOffset}),this.#u=en(Es(this.image,{transform:this.imageTransform}),{target:this.stage,offset:this.imageOffset}),this.isPageHeader||(this.#h=en(Es(this.content,{bottom:[170,0]}),{target:this.stage,offset:["end end","end 0.7"]}),this.#d=en(Es(this.content,{opacity:[0,1]}),{target:this.stage,offset:["start 0.5","end end"]}))}}function an(e,t,i){return Math.max(e,Math.min(t,i))}class ln{constructor(){this.isRunning=!1,this.value=0,this.from=0,this.to=0,this.currentTime=0}advance(e){var t;if(!this.isRunning)return;let i=!1;if(this.duration&&this.easing){this.currentTime+=e;const t=an(0,this.currentTime/this.duration,1);i=t>=1;const s=i?1:this.easing(t);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=function(e,t,i,s){return function(e,t,i){return(1-i)*e+i*t}(e,t,1-Math.exp(-i*s))}(this.value,this.to,60*this.lerp,e),Math.round(this.value)===this.to&&(this.value=this.to,i=!0)):(this.value=this.to,i=!0);i&&this.stop(),null===(t=this.onUpdate)||void 0===t||t.call(this,this.value,i)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:i,duration:s,easing:n,onStart:r,onUpdate:o}){this.from=this.value=e,this.to=t,this.lerp=i,this.duration=s,this.easing=n,this.currentTime=0,this.isRunning=!0,null==r||r(),this.onUpdate=o}}class cn{constructor(e,t,{autoResize:i=!0,debounce:s=250}={}){this.wrapper=e,this.content=t,this.width=0,this.height=0,this.scrollHeight=0,this.scrollWidth=0,this.resize=()=>{this.onWrapperResize(),this.onContentResize()},this.onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)},this.onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)},i&&(this.debouncedResize=function(e,t){let i;return function(...s){let n=this;clearTimeout(i),i=setTimeout((()=>{i=void 0,e.apply(n,s)}),t)}}(this.resize,s),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,t;null===(e=this.wrapperResizeObserver)||void 0===e||e.disconnect(),null===(t=this.contentResizeObserver)||void 0===t||t.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class un{constructor(){this.events={}}emit(e,...t){var i;let s=this.events[e]||[];for(let e=0,n=s.length;e<n;e++)null===(i=s[e])||void 0===i||i.call(s,...t)}on(e,t){var i;return(null===(i=this.events[e])||void 0===i?void 0:i.push(t))||(this.events[e]=[t]),()=>{var i;this.events[e]=null===(i=this.events[e])||void 0===i?void 0:i.filter((e=>t!==e))}}off(e,t){var i;this.events[e]=null===(i=this.events[e])||void 0===i?void 0:i.filter((e=>t!==e))}destroy(){this.events={}}}const hn=100/6,dn={passive:!1};class pn{constructor(e,t={wheelMultiplier:1,touchMultiplier:1}){this.element=e,this.options=t,this.touchStart={x:0,y:0},this.lastDelta={x:0,y:0},this.window={width:0,height:0},this.emitter=new un,this.onTouchStart=e=>{const{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})},this.onTouchMove=e=>{const{clientX:t,clientY:i}=e.targetTouches?e.targetTouches[0]:e,s=-(t-this.touchStart.x)*this.options.touchMultiplier,n=-(i-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=i,this.lastDelta={x:s,y:n},this.emitter.emit("scroll",{deltaX:s,deltaY:n,event:e})},this.onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})},this.onWheel=e=>{let{deltaX:t,deltaY:i,deltaMode:s}=e;t*=1===s?hn:2===s?this.window.width:1,i*=1===s?hn:2===s?this.window.height:1,t*=this.options.wheelMultiplier,i*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:i,event:e})},this.onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}},window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,dn),this.element.addEventListener("touchstart",this.onTouchStart,dn),this.element.addEventListener("touchmove",this.onTouchMove,dn),this.element.addEventListener("touchend",this.onTouchEnd,dn)}on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,dn),this.element.removeEventListener("touchstart",this.onTouchStart,dn),this.element.removeEventListener("touchmove",this.onTouchMove,dn),this.element.removeEventListener("touchend",this.onTouchEnd,dn)}}class mn{constructor({wrapper:e=window,content:t=document.documentElement,eventsTarget:i=e,smoothWheel:s=!0,syncTouch:n=!1,syncTouchLerp:r=.075,touchInertiaMultiplier:o=35,duration:a,easing:l=(e=>Math.min(1,1.001-Math.pow(2,-10*e))),lerp:c=.1,infinite:u=!1,orientation:h="vertical",gestureOrientation:d="vertical",touchMultiplier:p=1,wheelMultiplier:m=1,autoResize:g=!0,prevent:f,virtualScroll:v,__experimental__naiveDimensions:y=!1}={}){this._isScrolling=!1,this._isStopped=!1,this._isLocked=!1,this._preventNextNativeScrollEvent=!1,this._resetVelocityTimeout=null,this.time=0,this.userData={},this.lastVelocity=0,this.velocity=0,this.direction=0,this.animate=new ln,this.emitter=new un,this.onPointerDown=e=>{1===e.button&&this.reset()},this.onVirtualScroll=e=>{if("function"==typeof this.options.virtualScroll&&!1===this.options.virtualScroll(e))return;const{deltaX:t,deltaY:i,event:s}=e;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:i,event:s}),s.ctrlKey)return;const n=s.type.includes("touch"),r=s.type.includes("wheel");if(this.isTouching="touchstart"===s.type||"touchmove"===s.type,this.options.syncTouch&&n&&"touchstart"===s.type&&!this.isStopped&&!this.isLocked)return void this.reset();const o=0===t&&0===i,a="vertical"===this.options.gestureOrientation&&0===i||"horizontal"===this.options.gestureOrientation&&0===t;if(o||a)return;let l=s.composedPath();l=l.slice(0,l.indexOf(this.rootElement));const c=this.options.prevent;if(l.find((e=>{var t,i,s,o,a;return e instanceof HTMLElement&&("function"==typeof c&&(null==c?void 0:c(e))||(null===(t=e.hasAttribute)||void 0===t?void 0:t.call(e,"data-lenis-prevent"))||n&&(null===(i=e.hasAttribute)||void 0===i?void 0:i.call(e,"data-lenis-prevent-touch"))||r&&(null===(s=e.hasAttribute)||void 0===s?void 0:s.call(e,"data-lenis-prevent-wheel"))||(null===(o=e.classList)||void 0===o?void 0:o.contains("lenis"))&&!(null===(a=e.classList)||void 0===a?void 0:a.contains("lenis-stopped")))})))return;if(this.isStopped||this.isLocked)return void s.preventDefault();if(!(this.options.syncTouch&&n||this.options.smoothWheel&&r))return this.isScrolling="native",void this.animate.stop();s.preventDefault();let u=i;"both"===this.options.gestureOrientation?u=Math.abs(i)>Math.abs(t)?i:t:"horizontal"===this.options.gestureOrientation&&(u=t);const h=n&&this.options.syncTouch,d=n&&"touchend"===s.type&&Math.abs(u)>5;d&&(u=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+u,Object.assign({programmatic:!1},h?{lerp:d?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(null!==this._resetVelocityTimeout&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent)this._preventNextNativeScrollEvent=!1;else if(!1===this.isScrolling||"native"===this.isScrolling){const e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isScrolling="native",this.emit(),0!==this.velocity&&(this._resetVelocityTimeout=setTimeout((()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()}),400))}},window.lenisVersion="1.1.13",e&&e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:t,eventsTarget:i,smoothWheel:s,syncTouch:n,syncTouchLerp:r,touchInertiaMultiplier:o,duration:a,easing:l,lerp:c,infinite:u,gestureOrientation:d,orientation:h,touchMultiplier:p,wheelMultiplier:m,autoResize:g,prevent:f,virtualScroll:v,__experimental__naiveDimensions:y},this.dimensions=new cn(e,t,{autoResize:g}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new pn(i,{touchMultiplier:p,wheelMultiplier:m}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName()}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t)}scrollTo(e,{offset:t=0,immediate:i=!1,lock:s=!1,duration:n=this.options.duration,easing:r=this.options.easing,lerp:o=this.options.lerp,onStart:a,onComplete:l,force:c=!1,programmatic:u=!0,userData:h}={}){if(!this.isStopped&&!this.isLocked||c){if("string"==typeof e&&["top","left","start"].includes(e))e=0;else if("string"==typeof e&&["bottom","right","end"].includes(e))e=this.limit;else{let i;if("string"==typeof e?i=document.querySelector(e):e instanceof HTMLElement&&(null==e?void 0:e.nodeType)&&(i=e),i){if(this.options.wrapper!==window){const e=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?e.left:e.top}const s=i.getBoundingClientRect();e=(this.isHorizontal?s.left:s.top)+this.animatedScroll}}if("number"==typeof e){if(e+=t,e=Math.round(e),this.options.infinite?u&&(this.targetScroll=this.animatedScroll=this.scroll):e=an(0,e,this.limit),e===this.targetScroll)return null==a||a(this),void(null==l||l(this));if(this.userData=null!=h?h:{},i)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),null==l||l(this),void(this.userData={});u||(this.targetScroll=e),this.animate.fromTo(this.animatedScroll,e,{duration:n,easing:r,lerp:o,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",null==a||a(this)},onUpdate:(e,t)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=e-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=e,this.setScroll(this.scroll),u&&(this.targetScroll=e),t||this.emit(),t&&(this.reset(),this.emit(),null==l||l(this),this.userData={},this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame((()=>{this._preventNextNativeScrollEvent=!1}))}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?function(e,t){return(e%t+t)%t}(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return"smooth"===this.isScrolling}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),"smooth"===this.isScrolling&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}}class gn{#v=null;constructor(){this.raf=this.raf.bind(this),this.onModalClose=this.onModalClose.bind(this),this.onModalOpen=this.onModalOpen.bind(this),nn.subscribe((e=>{e&&this.lenis?this.destroyLenis():e||this.lenis||this.createLenis()}),{immediate:!0})}createLenis(){this.lenis=new mn({lerp:.1}),window.addEventListener("open-a11y-modal",this.onModalOpen),window.addEventListener("close-a11y-modal",this.onModalClose),this.#v=requestAnimationFrame(this.raf)}destroyLenis(){this.lenis.destroy(),this.lenis=null,cancelAnimationFrame(this.#v),window.removeEventListener("open-a11y-modal",this.onModalOpen),window.removeEventListener("close-a11y-modal",this.onModalClose)}raf(e){this.lenis.raf(e),this.#v=requestAnimationFrame(this.raf)}onModalOpen(){this.lenis.stop()}onModalClose(){this.lenis.start()}}class fn{constructor(){nn.getInstance(),this.els=document.querySelectorAll("[data-watchinview]"),this.els.length>0&&this.init()}init(){const e=new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("is-in-view"),t.unobserve(e.target))}))}),{rootMargin:"0px 0px -100px"});this.els.forEach((t=>{e.observe(t)}))}}!function(e,t,i,s){t.behaviors.nga_in_view={attach:function(){new fn}}}(jQuery,Drupal,once);class vn{constructor(){this.els=document.querySelectorAll('[data-component="read-more"]'),this.els.length>0&&(this.settings={content:this.els,originalContentArr:[],truncatedContentArr:[],moreLink:"Expand",lessLink:"Condense"},this.init())}init(){const e=this.settings;function t(e){return e.split(/\s+/).length}function i(e,t){return e.split(/\s+/).slice(0,t).join(" ")+"..."}function s(t){const i=document.createElement("span");i.className="c-read-more__link-wrap",i.innerHTML=`<a id="c-read-more_${t}" class="f-text--cta-m c-read-more__link" style="cursor:pointer;">${e.moreLink}</a>`,e.content[t].parentNode.insertBefore(i,e.content[t].nextSibling)}!function(){for(let n=0;n<e.content.length;n++){const r=e.content[n].innerHTML,o=e.content[n].dataset.rmWords,a=i(r,o),l=t(r);e.originalContentArr.push(r),e.truncatedContentArr.push(a),o<l&&(e.content[n].innerHTML=e.truncatedContentArr[n],s(n))}!function(t){const i=document.querySelectorAll(".c-read-more__link");for(let s=0,n=i.length;s<n;s++)i[s].addEventListener("click",(function(){let i=this.getAttribute("id").split("_")[1];t[i].classList.toggle("is-expanded"),"true"!==this.dataset.clicked?(t[i].innerHTML=e.originalContentArr[i],this.innerHTML=e.lessLink,this.dataset.clicked=!0):(t[i].innerHTML=e.truncatedContentArr[i],this.innerHTML=e.moreLink,this.dataset.clicked=!1)}))}(e.content)}()}}class yn{#y;#w;#b;#T;#S;#x;#E=!1;#C;#k;constructor(e){this.wrapper=e,this.#w=e.querySelector('[data-part="input"]'),this.#y=e.querySelector('[data-part="clipped-image"]'),this.#b=e.querySelector('[data-part="control"]'),this.#T=e.querySelector('[data-part="control-left"]'),this.#S=e.querySelector('[data-part="control-right"]'),this.#C=parseInt(this.#w?.value),this.#_()}#D(e){const t=this.wrapper.getBoundingClientRect().width,i=this.#b.getBoundingClientRect().width,s=t/i*parseInt(e),n=t/i*.5*100;this.#b.style.setProperty("--thumb-position",`${s}%`),this.#b.style.setProperty("--thumb-offset",`${n}%`)}#P(){new ResizeObserver((e=>{for(const t of e)t.contentBoxSize&&this.#E&&this.#D(this.#w.value)})).observe(this.wrapper),this.#w.addEventListener("mouseup",(()=>{this.#b.classList.remove("active","active--left","active--right")})),this.#w.addEventListener("input",(e=>{this.#k=parseInt(e.target.value),this.#E||(this.#E=!0),this.#b.classList.add("active"),this.#C>this.#k&&this.#b.classList.contains("active")?(this.#b.classList.add("active--left"),this.#b.classList.remove("active--right")):this.#C<this.#k&&this.#b.classList.contains("active")&&(this.#b.classList.remove("active--left"),this.#b.classList.add("active--right")),a.read((()=>{this.#C=this.#k,this.#D(this.#k)})),a.render((()=>{this.#y.style.setProperty("--exposure",`${this.#k}%`)}))}))}#_(){this.#P()}}class wn{#A;#M;constructor(e){this.#A=e,this.#M=e.querySelector("video"),this.#M&&this.#L()}#L(){this.#A.addEventListener("mouseenter",(()=>{nn.reducedMotion||this.#R()})),this.#A.addEventListener("mouseleave",(()=>{this.#I()}))}#R(){this.#M.play()}#I(){this.#M.pause()}}function bn(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Tn(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Sn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function En(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(i),!0).forEach((function(t){Sn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Cn={addCSS:!0,thumbWidth:15,watch:!0};var kn=function(e){return null!=e?e.constructor:null},_n=function(e,t){return!!(e&&t&&e instanceof t)},Dn=function(e){return null==e},Pn=function(e){return kn(e)===Object},An=function(e){return kn(e)===String},Mn=function(e){return Array.isArray(e)},Ln=function(e){return _n(e,NodeList)},Rn=An,In=Mn,On=Ln,Nn=function(e){return _n(e,Element)},Bn=function(e){return _n(e,Event)},Hn=function(e){return Dn(e)||(An(e)||Mn(e)||Ln(e))&&!e.length||Pn(e)&&!Object.keys(e).length};function Fn(e,t){if(1>t){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}var qn=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Nn(t)?this.element=t:Rn(t)&&(this.element=document.querySelector(t)),Nn(this.element)&&Hn(this.element.rangeTouch)&&(this.config=En({},Cn,{},i),this.init())}return function(e,t,i){t&&Tn(e.prototype,t),i&&Tn(e,i)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[i](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!Bn(t))return null;var i,s=t.target,n=t.changedTouches[0],r=parseFloat(s.getAttribute("min"))||0,o=parseFloat(s.getAttribute("max"))||100,a=parseFloat(s.getAttribute("step"))||1,l=s.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(i=100/l.width*(n.clientX-l.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*c:50<i&&(i+=2*(i-50)*c),r+Fn(i/100*(o-r),a)}},{key:"set",value:function(t){e.enabled&&Bn(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=null;if(Hn(t)||Rn(t)?s=Array.from(document.querySelectorAll(Rn(t)?t:'input[type="range"]')):Nn(t)?s=[t]:On(t)?s=Array.from(t):In(t)&&(s=t.filter(Nn)),Hn(s))return null;var n=En({},Cn,{},i);if(Rn(t)&&n.watch){var r=new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){Nn(i)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(i,t)&&new e(i,n)}))}))}));r.observe(document.body,{childList:!0,subtree:!0})}return s.map((function(t){return new e(t,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const zn=e=>null!=e?e.constructor:null,Vn=(e,t)=>Boolean(e&&t&&e instanceof t),jn=e=>null==e,Un=e=>zn(e)===Object,Gn=e=>zn(e)===String,Wn=e=>"function"==typeof e,Yn=e=>Array.isArray(e),$n=e=>Vn(e,NodeList),Zn=e=>jn(e)||(Gn(e)||Yn(e)||$n(e))&&!e.length||Un(e)&&!Object.keys(e).length;var Xn={nullOrUndefined:jn,object:Un,number:e=>zn(e)===Number&&!Number.isNaN(e),string:Gn,boolean:e=>zn(e)===Boolean,function:Wn,array:Yn,weakMap:e=>Vn(e,WeakMap),nodeList:$n,element:e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,textNode:e=>zn(e)===Text,event:e=>Vn(e,Event),keyboardEvent:e=>Vn(e,KeyboardEvent),cue:e=>Vn(e,window.TextTrackCue)||Vn(e,window.VTTCue),track:e=>Vn(e,TextTrack)||!jn(e)&&Gn(e.kind),promise:e=>Vn(e,Promise)&&Wn(e.then),url:e=>{if(Vn(e,window.URL))return!0;if(!Gn(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!Zn(new URL(t).hostname)}catch(e){return!1}},empty:Zn};const Kn=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find((t=>void 0!==e.style[t]));return!!Xn.string(i)&&t[i]})();function Jn(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var Qn={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function er(e,t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}function tr(e={},...t){if(!t.length)return e;const i=t.shift();return Xn.object(i)?(Object.keys(i).forEach((t=>{Xn.object(i[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),tr(e[t],i[t])):Object.assign(e,{[t]:i[t]})})),tr(e,...t)):e}function ir(e,t){const i=e.length?e:[e];Array.from(i).reverse().forEach(((e,i)=>{const s=i>0?t.cloneNode(!0):t,n=e.parentNode,r=e.nextSibling;s.appendChild(e),r?n.insertBefore(s,r):n.appendChild(s)}))}function sr(e,t){Xn.element(e)&&!Xn.empty(t)&&Object.entries(t).filter((([,e])=>!Xn.nullOrUndefined(e))).forEach((([t,i])=>e.setAttribute(t,i)))}function nr(e,t,i){const s=document.createElement(e);return Xn.object(t)&&sr(s,t),Xn.string(i)&&(s.innerText=i),s}function rr(e,t,i,s){Xn.element(t)&&t.appendChild(nr(e,i,s))}function or(e){Xn.nodeList(e)||Xn.array(e)?Array.from(e).forEach(or):Xn.element(e)&&Xn.element(e.parentNode)&&e.parentNode.removeChild(e)}function ar(e){if(!Xn.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function lr(e,t){return Xn.element(t)&&Xn.element(t.parentNode)&&Xn.element(e)?(t.parentNode.replaceChild(e,t),e):null}function cr(e,t){if(!Xn.string(e)||Xn.empty(e))return{};const i={},s=tr({},t);return e.split(",").forEach((e=>{const t=e.trim(),n=t.replace(".",""),r=t.replace(/[[\]]/g,"").split("="),[o]=r,a=r.length>1?r[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":Xn.string(s.class)?i.class=`${s.class} ${n}`:i.class=n;break;case"#":i.id=t.replace("#","");break;case"[":i[o]=a}})),tr(s,i)}function ur(e,t){if(!Xn.element(e))return;let i=t;Xn.boolean(i)||(i=!e.hidden),e.hidden=i}function hr(e,t,i){if(Xn.nodeList(e))return Array.from(e).map((e=>hr(e,t,i)));if(Xn.element(e)){let s="toggle";return void 0!==i&&(s=i?"add":"remove"),e.classList[s](t),e.classList.contains(t)}return!1}function dr(e,t){return Xn.element(e)&&e.classList.contains(t)}function pr(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function mr(e){return this.elements.container.querySelectorAll(e)}function gr(e){return this.elements.container.querySelector(e)}function fr(e=null,t=!1){Xn.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const vr={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},yr={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const i=yr[e]||"html5"!==t;return{api:i,ui:i&&yr.rangeInput}},pip:!(Qn.isIPhone||!Xn.function(nr("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||nr("video").disablePictureInPicture)),airplay:Xn.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(Xn.empty(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(vr).includes(i)&&(i+=`; codecs="${vr[e]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==Kn,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},wr=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function br(e,t,i,s=!1,n=!0,r=!1){if(!e||!("addEventListener"in e)||Xn.empty(t)||!Xn.function(i))return;const o=t.split(" ");let a=r;wr&&(a={passive:n,capture:r}),o.forEach((t=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:e,type:t,callback:i,options:a}),e[s?"addEventListener":"removeEventListener"](t,i,a)}))}function Tr(e,t="",i,s=!0,n=!1){br.call(this,e,t,i,!0,s,n)}function Sr(e,t="",i,s=!0,n=!1){br.call(this,e,t,i,!1,s,n)}function xr(e,t="",i,s=!0,n=!1){const r=(...o)=>{Sr(e,t,r,s,n),i.apply(this,o)};br.call(this,e,t,r,!0,s,n)}function Er(e,t="",i=!1,s={}){if(!Xn.element(e)||Xn.empty(t))return;const n=new CustomEvent(t,{bubbles:i,detail:{...s,plyr:this}});e.dispatchEvent(n)}function Cr(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:i,callback:s,options:n}=e;t.removeEventListener(i,s,n)})),this.eventListeners=[])}function kr(){return new Promise((e=>this.ready?setTimeout(e,0):Tr.call(this,this.elements.container,"ready",e))).then((()=>{}))}function _r(e){Xn.promise(e)&&e.then(null,(()=>{}))}function Dr(e){return Xn.array(e)?e.filter(((t,i)=>e.indexOf(t)===i)):e}function Pr(e,t){return Xn.array(e)&&e.length?e.reduce(((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e)):null}function Ar(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const Mr=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,i])=>({...e,[t/i]:[t,i]})),{});function Lr(e){return!!(Xn.array(e)||Xn.string(e)&&e.includes(":"))&&(Xn.array(e)?e:e.split(":")).map(Number).every(Xn.number)}function Rr(e){if(!Xn.array(e)||!e.every(Xn.number))return null;const[t,i]=e,s=(e,t)=>0===t?e:s(t,e%t),n=s(t,i);return[t/n,i/n]}function Ir(e){const t=e=>Lr(e)?e.split(":").map(Number):null;let i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!Xn.empty(this.embed)&&Xn.array(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;i=[e,t]}return Rr(i)}function Or(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=Ir.call(this,e);if(!Xn.array(i))return{};const[s,n]=Rr(i),r=100/s*n;if(Ar(`aspect-ratio: ${s}/${n}`)?t.style.aspectRatio=`${s}/${n}`:t.style.paddingBottom=`${r}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(e-r)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:r,ratio:i}}function Nr(e,t,i=.05){const s=e/t,n=Pr(Object.keys(Mr),s);return Math.abs(n-s)<=i?Mr[n]:[e,t]}const Br={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!Xn.empty(t)||yr.mime.call(this,t)})):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Br.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,Xn.empty(this.config.ratio)||Or.call(e),Object.defineProperty(e.media,"quality",{get(){const t=Br.getSources.call(e).find((t=>t.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&Xn.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const i=Br.getSources.call(e).find((e=>Number(e.getAttribute("size"))===t));if(!i)return;const{currentTime:s,paused:n,preload:r,readyState:o,playbackRate:a}=e.media;e.media.src=i.getAttribute("src"),("none"!==r||o)&&(e.once("loadedmetadata",(()=>{e.speed=a,e.currentTime=s,n||_r(e.play())})),e.media.load())}Er.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(or(Br.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Hr(e){return`${e}-${Math.floor(1e4*Math.random())}`}function Fr(e,...t){return Xn.empty(e)?e:e.toString().replace(/{(\d+)}/g,((e,i)=>t[i].toString()))}const qr=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),zr=(e="")=>e.toString().replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()));function Vr(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=qr(t,"-"," "),t=qr(t,"_"," "),t=zr(t),qr(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}function jr(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const Ur={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Gr={get(e="",t={}){if(Xn.empty(e)||Xn.empty(t))return"";let i=er(t.i18n,e);if(Xn.empty(i))return Object.keys(Ur).includes(e)?Ur[e]:"";const s={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(s).forEach((([e,t])=>{i=qr(i,e,t)})),i}};class Wr{constructor(e){bn(this,"get",(e=>{if(!Wr.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(Xn.empty(t))return null;const i=JSON.parse(t);return Xn.string(e)&&e.length?i[e]:i})),bn(this,"set",(e=>{if(!Wr.supported||!this.enabled)return;if(!Xn.object(e))return;let t=this.get();Xn.empty(t)&&(t={}),tr(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}})),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function Yr(e,t="text"){return new Promise(((i,s)=>{try{const s=new XMLHttpRequest;if(!("withCredentials"in s))return;s.addEventListener("load",(()=>{if("text"===t)try{i(JSON.parse(s.responseText))}catch(e){i(s.responseText)}else i(s.response)})),s.addEventListener("error",(()=>{throw new Error(s.status)})),s.open("GET",e,!0),s.responseType=t,s.send()}catch(e){s(e)}}))}function $r(e,t){if(!Xn.string(e))return;const i="cache",s=Xn.string(t);let n=!1;const r=()=>null!==document.getElementById(t),o=(e,t)=>{e.innerHTML=t,s&&r()||document.body.insertAdjacentElement("afterbegin",e)};if(!s||!r()){const r=Wr.supported,a=document.createElement("div");if(a.setAttribute("hidden",""),s&&a.setAttribute("id",t),r){const e=window.localStorage.getItem(`${i}-${t}`);if(n=null!==e,n){const t=JSON.parse(e);o(a,t.content)}}Yr(e).then((e=>{if(!Xn.empty(e)){if(r)try{window.localStorage.setItem(`${i}-${t}`,JSON.stringify({content:e}))}catch(e){}o(a,e)}})).catch((()=>{}))}}const Zr=e=>Math.trunc(e/60/60%60,10);function Xr(e=0,t=!1,i=!1){if(!Xn.number(e))return Xr(void 0,t,i);const s=e=>`0${e}`.slice(-2);let n=Zr(e);const r=(e=>Math.trunc(e/60%60,10))(e),o=(e=>Math.trunc(e%60,10))(e);return n=t||n>0?`${n}:`:"",`${i&&e>0?"-":""}${n}${s(r)}:${s(o)}`}const Kr={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,i=e.host!==t||Qn.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=gr.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:mr.call(this,this.config.selectors.buttons.play),pause:gr.call(this,this.config.selectors.buttons.pause),restart:gr.call(this,this.config.selectors.buttons.restart),rewind:gr.call(this,this.config.selectors.buttons.rewind),fastForward:gr.call(this,this.config.selectors.buttons.fastForward),mute:gr.call(this,this.config.selectors.buttons.mute),pip:gr.call(this,this.config.selectors.buttons.pip),airplay:gr.call(this,this.config.selectors.buttons.airplay),settings:gr.call(this,this.config.selectors.buttons.settings),captions:gr.call(this,this.config.selectors.buttons.captions),fullscreen:gr.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=gr.call(this,this.config.selectors.progress),this.elements.inputs={seek:gr.call(this,this.config.selectors.inputs.seek),volume:gr.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:gr.call(this,this.config.selectors.display.buffer),currentTime:gr.call(this,this.config.selectors.display.currentTime),duration:gr.call(this,this.config.selectors.display.duration)},Xn.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i="http://www.w3.org/2000/svg",s=Kr.getIconUrl.call(this),n=`${s.cors?"":s.url}#${this.config.iconPrefix}`,r=document.createElementNS(i,"svg");sr(r,tr(t,{"aria-hidden":"true",focusable:"false"}));const o=document.createElementNS(i,"use"),a=`${n}-${e}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",a),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),r.appendChild(o),r},createLabel(e,t={}){const i=Gr.get(e,this.config);return nr("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(Xn.empty(e))return null;const t=nr("span",{class:this.config.classNames.menu.value});return t.appendChild(nr("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=tr({},t);let s=Vr(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((e=>{Object.keys(i).includes(e)&&(n[e]=i[e],delete i[e])})),"button"!==n.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((e=>e===this.config.classNames.control))||tr(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:Xn.empty(n.label)&&(n.label=s),Xn.empty(n.icon)&&(n.icon=e)}const r=nr(n.element);return n.toggle?(r.appendChild(Kr.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),r.appendChild(Kr.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),r.appendChild(Kr.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),r.appendChild(Kr.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(r.appendChild(Kr.createIcon.call(this,n.icon)),r.appendChild(Kr.createLabel.call(this,n.label))),tr(i,cr(this.config.selectors.buttons[s],i)),sr(r,i),"play"===s?(Xn.array(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(r)):this.elements.buttons[s]=r,r},createRange(e,t){const i=nr("input",tr(cr(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Gr.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Kr.updateRangeFill.call(this,i),qn.setup(i),i},createProgress(e,t){const i=nr("progress",tr(cr(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild(nr("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],s=t?Gr.get(t,this.config):"";i.innerText=`% ${s.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=cr(this.config.selectors.display[e],t),s=nr("div",tr(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Gr.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=s,s},bindMenuItemShortcuts(e,t){Tr.call(this,e,"keydown keyup",(i=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(i.key))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const s=pr(e,'[role="menuitemradio"]');if(!s&&[" ","ArrowRight"].includes(i.key))Kr.showMenuPanel.call(this,t,!0);else{let t;" "!==i.key&&("ArrowDown"===i.key||s&&"ArrowRight"===i.key?(t=e.nextElementSibling,Xn.element(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,Xn.element(t)||(t=e.parentNode.lastElementChild)),fr.call(this,t,!0))}}),!1),Tr.call(this,e,"keyup",(e=>{"Return"===e.key&&Kr.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:i,title:s,badge:n=null,checked:r=!1}){const o=cr(this.config.selectors.inputs[i]),a=nr("button",tr(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":r,value:e})),l=nr("span");l.innerHTML=s,Xn.element(n)&&l.appendChild(n),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>"true"===a.getAttribute("aria-checked"),set(e){e&&Array.from(a.parentNode.children).filter((e=>pr(e,'[role="menuitemradio"]'))).forEach((e=>e.setAttribute("aria-checked","false"))),a.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(a,"click keyup",(t=>{if(!Xn.keyboardEvent(t)||" "===t.key){switch(t.preventDefault(),t.stopPropagation(),a.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Kr.showMenuPanel.call(this,"home",Xn.keyboardEvent(t))}}),i,!1),Kr.bindMenuItemShortcuts.call(this,a,i),t.appendChild(a)},formatTime(e=0,t=!1){return Xn.number(e)?Xr(e,Zr(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,i=!1){Xn.element(e)&&Xn.number(t)&&(e.innerText=Kr.formatTime(t,i))},updateVolume(){this.supported.ui&&(Xn.element(this.elements.inputs.volume)&&Kr.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Xn.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){Xn.element(e)&&(e.value=t,Kr.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!Xn.event(e))return;let t=0;const i=(e,t)=>{const i=Xn.number(t)?t:0,s=Xn.element(e)?e:this.elements.display.buffer;if(Xn.element(s)){s.value=i;const e=s.getElementsByTagName("span")[0];Xn.element(e)&&(e.childNodes[0].nodeValue=i)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=function(e,t){return 0===e||0===t||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}(this.currentTime,this.duration),"timeupdate"===e.type&&Kr.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=Xn.event(e)?e.target:e;if(Xn.element(t)&&"range"===t.getAttribute("type")){if(pr(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=Kr.formatTime(this.currentTime),i=Kr.formatTime(this.duration),s=Gr.get("seekLabel",this.config);t.setAttribute("aria-valuetext",s.replace("{currentTime}",e).replace("{duration}",i))}else if(pr(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(Qn.isWebKit||Qn.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,i;if(!this.config.tooltips.seek||!Xn.element(this.elements.inputs.seek)||!Xn.element(this.elements.display.seekTooltip)||0===this.duration)return;const s=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,r=e=>hr(s,n,e);if(this.touch)return void r(!1);let o=0;const a=this.elements.progress.getBoundingClientRect();if(Xn.event(e))o=100/a.width*(e.pageX-a.left);else{if(!dr(s,n))return;o=parseFloat(s.style.left,10)}o<0?o=0:o>100&&(o=100);const l=this.duration/100*o;s.innerText=Kr.formatTime(l);const c=null===(t=this.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(l)));c&&s.insertAdjacentHTML("afterbegin",`${c.label}<br>`),s.style.left=`${o}%`,Xn.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&r("mouseenter"===e.type)},timeUpdate(e){const t=!Xn.element(this.elements.display.duration)&&this.config.invertTime;Kr.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Kr.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return ur(this.elements.display.currentTime,!0),void ur(this.elements.progress,!0);Xn.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=Xn.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Kr.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Kr.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Kr.setMarkers.call(this),Kr.updateSeekTooltip.call(this)},toggleMenuButton(e,t){ur(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const s=this.elements.settings.panels[e];let n=null,r=t;if("captions"===e)n=this.currentTrack;else{if(n=Xn.empty(i)?this[e]:i,Xn.empty(n)&&(n=this.config[e].default),!Xn.empty(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if(Xn.element(r)||(r=s&&s.querySelector('[role="menu"]')),!Xn.element(r))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Kr.getLabel.call(this,e,n);const o=r&&r.querySelector(`[value="${n}"]`);Xn.element(o)&&(o.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?Gr.get("normal",this.config):`${t}&times;`;case"quality":if(Xn.number(t)){const e=Gr.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return zr(t);case"captions":return eo.getLabel.call(this);default:return null}},setQualityMenu(e){if(!Xn.element(this.elements.settings.panels.quality))return;const t="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');Xn.array(e)&&(this.options.quality=Dr(e).filter((e=>this.config.quality.options.includes(e))));const s=!Xn.empty(this.options.quality)&&this.options.quality.length>1;if(Kr.toggleMenuButton.call(this,t,s),ar(i),Kr.checkMenu.call(this),!s)return;const n=e=>{const t=Gr.get(`qualityBadge.${e}`,this.config);return t.length?Kr.createBadge.call(this,t):null};this.options.quality.sort(((e,t)=>{const i=this.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1})).forEach((e=>{Kr.createMenuItem.call(this,{value:e,list:i,type:t,title:Kr.getLabel.call(this,"quality",e),badge:n(e)})})),Kr.updateSetting.call(this,t,i)},setCaptionsMenu(){if(!Xn.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=eo.getTracks.call(this),s=Boolean(i.length);if(Kr.toggleMenuButton.call(this,e,s),ar(t),Kr.checkMenu.call(this),!s)return;const n=i.map(((e,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:eo.getLabel.call(this,e),badge:e.language&&Kr.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"})));n.unshift({value:-1,checked:!this.captions.toggled,title:Gr.get("disabled",this.config),list:t,type:"language"}),n.forEach(Kr.createMenuItem.bind(this)),Kr.updateSetting.call(this,e,t)},setSpeedMenu(){if(!Xn.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((e=>e>=this.minimumSpeed&&e<=this.maximumSpeed));const i=!Xn.empty(this.options.speed)&&this.options.speed.length>1;Kr.toggleMenuButton.call(this,e,i),ar(t),Kr.checkMenu.call(this),i&&(this.options.speed.forEach((i=>{Kr.createMenuItem.call(this,{value:i,list:t,type:e,title:Kr.getLabel.call(this,"speed",i)})})),Kr.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!Xn.empty(e)&&Object.values(e).some((e=>!e.hidden));ur(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;Xn.element(i)||(i=Object.values(this.elements.settings.panels).find((e=>!e.hidden)));const s=i.querySelector('[role^="menuitem"]');fr.call(this,s,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings;if(!Xn.element(t)||!Xn.element(i))return;const{hidden:s}=t;let n=s;if(Xn.boolean(e))n=e;else if(Xn.keyboardEvent(e)&&"Escape"===e.key)n=!1;else if(Xn.event(e)){const s=Xn.function(e.composedPath)?e.composedPath()[0]:e.target,r=t.contains(s);if(r||!r&&e.target!==i&&n)return}i.setAttribute("aria-expanded",n),ur(t,!n),hr(this.elements.container,this.config.classNames.menu.open,n),n&&Xn.keyboardEvent(e)?Kr.focusFirstMenuItem.call(this,null,!0):n||s||fr.call(this,i,Xn.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,s=t.scrollHeight;return or(t),{width:i,height:s}},showMenuPanel(e="",t=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!Xn.element(i))return;const s=i.parentNode,n=Array.from(s.children).find((e=>!e.hidden));if(yr.transitions&&!yr.reducedMotion){s.style.width=`${n.scrollWidth}px`,s.style.height=`${n.scrollHeight}px`;const e=Kr.getMenuSize.call(this,i),t=e=>{e.target===s&&["width","height"].includes(e.propertyName)&&(s.style.width="",s.style.height="",Sr.call(this,s,Kn,t))};Tr.call(this,s,Kn,t),s.style.width=`${e.width}px`,s.style.height=`${e.height}px`}ur(n,!0),ur(i,!1),Kr.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;Xn.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:i,createProgress:s,createRange:n,createTime:r,setQualityMenu:o,setSpeedMenu:a,showMenuPanel:l}=Kr;this.elements.controls=null,Xn.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=nr("div",cr(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return Dr(Xn.array(this.config.controls)?this.config.controls:[]).forEach((o=>{if("restart"===o&&c.appendChild(i.call(this,"restart",u)),"rewind"===o&&c.appendChild(i.call(this,"rewind",u)),"play"===o&&c.appendChild(i.call(this,"play",u)),"fast-forward"===o&&c.appendChild(i.call(this,"fast-forward",u)),"progress"===o){const t=nr("div",{class:`${u.class} plyr__progress__container`}),i=nr("div",cr(this.config.selectors.progress));if(i.appendChild(n.call(this,"seek",{id:`plyr-seek-${e.id}`})),i.appendChild(s.call(this,"buffer")),this.config.tooltips.seek){const e=nr("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=i,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===o&&c.appendChild(r.call(this,"currentTime",u)),"duration"===o&&c.appendChild(r.call(this,"duration",u)),"mute"===o||"volume"===o){let{volume:t}=this.elements;if(Xn.element(t)&&c.contains(t)||(t=nr("div",tr({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===o&&t.appendChild(i.call(this,"mute")),"volume"===o&&!Qn.isIos&&!Qn.isIPadOS){const i={max:1,step:.05,value:this.config.volume};t.appendChild(n.call(this,"volume",tr(i,{id:`plyr-volume-${e.id}`})))}}if("captions"===o&&c.appendChild(i.call(this,"captions",u)),"settings"===o&&!Xn.empty(this.config.settings)){const s=nr("div",tr({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));s.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const n=nr("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),r=nr("div"),o=nr("div",{id:`plyr-settings-${e.id}-home`}),a=nr("div",{role:"menu"});o.appendChild(a),r.appendChild(o),this.elements.settings.panels.home=o,this.config.settings.forEach((i=>{const s=nr("button",tr(cr(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,s,i),Tr.call(this,s,"click",(()=>{l.call(this,i,!1)}));const n=nr("span",null,Gr.get(i,this.config)),o=nr("span",{class:this.config.classNames.menu.value});o.innerHTML=e[i],n.appendChild(o),s.appendChild(n),a.appendChild(s);const c=nr("div",{id:`plyr-settings-${e.id}-${i}`,hidden:""}),u=nr("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});u.appendChild(nr("span",{"aria-hidden":!0},Gr.get(i,this.config))),u.appendChild(nr("span",{class:this.config.classNames.hidden},Gr.get("menuBack",this.config))),Tr.call(this,c,"keydown",(e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),l.call(this,"home",!0))}),!1),Tr.call(this,u,"click",(()=>{l.call(this,"home",!1)})),c.appendChild(u),c.appendChild(nr("div",{role:"menu"})),r.appendChild(c),this.elements.settings.buttons[i]=s,this.elements.settings.panels[i]=c})),n.appendChild(r),s.appendChild(n),c.appendChild(s),this.elements.settings.popup=n,this.elements.settings.menu=s}if("pip"===o&&yr.pip&&c.appendChild(i.call(this,"pip",u)),"airplay"===o&&yr.airplay&&c.appendChild(i.call(this,"airplay",u)),"download"===o){const e=tr({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!Xn.url(t)&&this.isEmbed&&tr(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(i.call(this,"download",e))}"fullscreen"===o&&c.appendChild(i.call(this,"fullscreen",u))})),this.isHTML5&&o.call(this,Br.getQualityOptions.call(this)),a.call(this),c},inject(){if(this.config.loadSprite){const e=Kr.getIconUrl.call(this);e.cors&&$r(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i,s=!0;if(Xn.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),Xn.element(this.config.controls)||Xn.string(this.config.controls)?e=this.config.controls:(e=Kr.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:eo.getLabel.call(this)}),s=!1),s&&Xn.string(this.config.controls)&&(e=(e=>{let i=e;return Object.entries(t).forEach((([e,t])=>{i=qr(i,`{${e}}`,t)})),i})(e)),Xn.string(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),Xn.element(i)||(i=this.elements.container),i[Xn.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),Xn.element(this.elements.controls)||Kr.findElements.call(this),!Xn.empty(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;e.setAttribute("aria-pressed","false"),Object.defineProperty(e,"pressed",{configurable:!0,enumerable:!0,get:()=>dr(e,t),set(i=!1){hr(e,t,i),e.setAttribute("aria-pressed",i?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((t=>{Xn.array(t)||Xn.nodeList(t)?Array.from(t).filter(Boolean).forEach(e):e(t)}))}if(Qn.isEdge&&Jn(i),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,i=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,s=mr.call(this,i);Array.from(s).forEach((e=>{hr(e,this.config.classNames.hidden,!1),hr(e,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const i=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter((({time:e})=>e>0&&e<this.duration));if(null==i||!i.length)return;const s=document.createDocumentFragment(),n=document.createDocumentFragment();let r=null;const o=`${this.config.classNames.tooltip}--visible`,a=e=>hr(r,o,e);i.forEach((e=>{const t=nr("span",{class:this.config.classNames.marker},""),i=e.time/this.duration*100+"%";r&&(t.addEventListener("mouseenter",(()=>{e.label||(r.style.left=i,r.innerHTML=e.label,a(!0))})),t.addEventListener("mouseleave",(()=>{a(!1)}))),t.addEventListener("click",(()=>{this.currentTime=e.time})),t.style.left=i,n.appendChild(t)})),s.appendChild(n),this.config.tooltips.seek||(r=nr("span",{class:this.config.classNames.tooltip},""),s.appendChild(r)),this.elements.markers={points:n,tip:r},this.elements.progress.appendChild(s)}};function Jr(e,t=!0){let i=e;if(t){const e=document.createElement("a");e.href=i,i=e.href}try{return new URL(i)}catch(e){return null}}function Qr(e){const t=new URLSearchParams;return Xn.object(e)&&Object.entries(e).forEach((([e,i])=>{t.set(e,i)})),t}const eo={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!yr.textTracks)return void(Xn.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Kr.setCaptionsMenu.call(this));if(Xn.element(this.elements.captions)||(this.elements.captions=nr("div",cr(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),function(e,t){Xn.element(e)&&Xn.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),Qn.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach((e=>{const t=e.getAttribute("src"),i=Jr(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&Yr(t,"blob").then((t=>{e.setAttribute("src",window.URL.createObjectURL(t))})).catch((()=>{or(e)}))}))}const e=Dr((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((e=>e.split("-")[0])));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===t&&([t]=e);let i=this.storage.get("captions");if(Xn.boolean(i)||({active:i}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:i,language:t,languages:e}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";Tr.call(this,this.media.textTracks,e,eo.update.bind(this))}setTimeout(eo.update.bind(this),0)},update(){const e=eo.getTracks.call(this,!0),{active:t,language:i,meta:s,currentTrackNode:n}=this.captions,r=Boolean(e.find((e=>e.language===i)));this.isHTML5&&this.isVideo&&e.filter((e=>!s.get(e))).forEach((e=>{this.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),Tr.call(this,e,"cuechange",(()=>eo.updateCues.call(this)))})),(r&&this.language!==i||!e.includes(n))&&(eo.setLanguage.call(this,i),eo.toggle.call(this,t&&r)),this.elements&&hr(this.elements.container,this.config.classNames.captions.enabled,!Xn.empty(e)),Xn.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Kr.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,s=this.config.classNames.captions.active,n=Xn.nullOrUndefined(e)?!i:e;if(n!==i){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const e=eo.getTracks.call(this),t=eo.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void eo.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),hr(this.elements.container,s,n),this.captions.toggled=n,Kr.updateSetting.call(this,"captions"),Er.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout((()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const i=eo.getTracks.call(this);if(-1!==e)if(Xn.number(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const s=i[e],{language:n}=s||{};this.captions.currentTrackNode=s,Kr.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),Er.call(this,this.media,"languagechange")}eo.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&eo.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else eo.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!Xn.string(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const s=eo.getTracks.call(this),n=eo.findTrack.call(this,[i]);eo.set.call(this,s.indexOf(n),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((e=>["captions","subtitles"].includes(e.kind)))},findTrack(e,t=!1){const i=eo.getTracks.call(this),s=e=>Number((this.captions.meta.get(e)||{}).default),n=Array.from(i).sort(((e,t)=>s(t)-s(e)));let r;return e.every((e=>(r=n.find((t=>t.language===e)),!r))),r||(t?n[0]:void 0)},getCurrentTrack(){return eo.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!Xn.track(t)&&yr.textTracks&&this.captions.toggled&&(t=eo.getCurrentTrack.call(this)),Xn.track(t)?Xn.empty(t.label)?Xn.empty(t.language)?Gr.get("enabled",this.config):e.language.toUpperCase():t.label:Gr.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!Xn.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!Xn.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=eo.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map((e=>e.getCueAsHTML())).map(jr)}const i=t.map((e=>e.trim())).join("\n");if(i!==this.elements.captions.innerHTML){ar(this.elements.captions);const e=nr("span",cr(this.config.selectors.caption));e.innerHTML=i,this.elements.captions.appendChild(e),Er.call(this,this.media,"cuechange")}}},to={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},io="picture-in-picture",so="inline",no={html5:"html5",youtube:"youtube",vimeo:"vimeo"},ro="audio",oo="video";const ao=()=>{};class lo{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):ao}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):ao}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):ao}}class co{constructor(e){bn(this,"onChange",(()=>{if(!this.supported)return;const e=this.player.elements.buttons.fullscreen;Xn.element(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;Er.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)})),bn(this,"toggleFallback",((e=!1)=>{if(e?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",hr(this.target,this.player.config.classNames.fullscreen.fallback,e),Qn.isIos){let t=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const s=Xn.string(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!s,s||(t.content+=`,${i}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter((e=>e.trim()!==i)).join(","))}this.onChange()})),bn(this,"trapFocus",(e=>{if(Qn.isIos||Qn.isIPadOS||!this.active||"Tab"!==e.key)return;const t=document.activeElement,i=mr.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,n=i[i.length-1];t!==n||e.shiftKey?t===s&&e.shiftKey&&(n.focus(),e.preventDefault()):(s.focus(),e.preventDefault())})),bn(this,"update",(()=>{if(this.supported){let e;e=this.forceFallback?"Fallback (forced)":co.nativeSupported?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");hr(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),bn(this,"enter",(()=>{this.supported&&(Qn.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!co.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?Xn.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),bn(this,"exit",(()=>{if(this.supported)if(Qn.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),_r(this.player.play());else if(!co.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Xn.empty(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),bn(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=e,this.prefix=co.prefix,this.property=co.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(e,t){const{prototype:i}=Element;return(i.closest||function(){let e=this;do{if(pr.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,e.config.fullscreen.container),Tr.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),Tr.call(this.player,this.player.elements.container,"dblclick",(e=>{Xn.element(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")})),Tr.call(this,this.player.elements.container,"keydown",(e=>this.trapFocus(e))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return co.nativeSupported&&!this.forceFallback}static get prefix(){if(Xn.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some((t=>!(!Xn.function(document[`${t}ExitFullscreen`])&&!Xn.function(document[`${t}CancelFullScreen`])||(e=t,0)))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,co.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||co.nativeSupported||!Qn.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!co.nativeSupported||this.forceFallback)return dr(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return Qn.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function uo(e,t=1){return new Promise(((i,s)=>{const n=new Image,r=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=t?i:s)(n)};Object.assign(n,{onload:r,onerror:r,src:e})}))}const ho={addStyleHook(){hr(this.elements.container,this.config.selectors.container.replace(".",""),!0),hr(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void ho.toggleNativeControls.call(this,!0);Xn.element(this.elements.controls)||(Kr.inject.call(this),this.listeners.controls()),ho.toggleNativeControls.call(this),this.isHTML5&&eo.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Kr.updateVolume.call(this),Kr.timeUpdate.call(this),Kr.durationUpdate.call(this),ho.checkPlaying.call(this),hr(this.elements.container,this.config.classNames.pip.supported,yr.pip&&this.isHTML5&&this.isVideo),hr(this.elements.container,this.config.classNames.airplay.supported,yr.airplay&&this.isHTML5),hr(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{Er.call(this,this.media,"ready")}),0),ho.setTitle.call(this),this.poster&&ho.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Kr.durationUpdate.call(this),this.config.mediaMetadata&&Kr.setMediaMetadata.call(this)},setTitle(){let e=Gr.get("play",this.config);if(Xn.string(this.config.title)&&!Xn.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const e=gr.call(this,"iframe");if(!Xn.element(e))return;const t=Xn.empty(this.config.title)?"video":this.config.title,i=Gr.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(e){hr(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),kr.call(this).then((()=>uo(e))).catch((t=>{throw e===this.poster&&ho.togglePoster.call(this,!1),t})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),ho.togglePoster.call(this,!0),e))))},checkPlaying(e){hr(this.elements.container,this.config.classNames.playing,this.playing),hr(this.elements.container,this.config.classNames.paused,this.paused),hr(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",Gr.get(this.playing?"pause":"play",this.config))})),Xn.event(e)&&"timeupdate"===e.type||ho.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{hr(this.elements.container,this.config.classNames.loading,this.loading),ho.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!Xn.empty(e)&&Xn.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),Xn.empty(this.media.style)&&this.media.removeAttribute("style")}};class po{constructor(e){bn(this,"firstTouch",(()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,hr(t.container,e.config.classNames.isTouch,!0)})),bn(this,"global",((e=!0)=>{const{player:t}=this;t.config.keyboard.global&&br.call(t,window,"keydown keyup",this.handleKey,e,!1),br.call(t,document.body,"click",this.toggleMenu,e),xr.call(t,document.body,"touchstart",this.firstTouch)})),bn(this,"container",(()=>{const{player:e}=this,{config:t,elements:i,timers:s}=e;!t.keyboard.global&&t.keyboard.focused&&Tr.call(e,i.container,"keydown keyup",this.handleKey,!1),Tr.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(t=>{const{controls:n}=i;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);let r=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(ho.toggleControls.call(e,!0),r=e.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout((()=>ho.toggleControls.call(e,!1)),r)}));const n=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=i.wrapper,{active:s}=e.fullscreen,[n,r]=Ir.call(e),o=Ar(`aspect-ratio: ${n} / ${r}`);if(!s)return void(o?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[a,l]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=a/l>n/r;o?(t.style.width=c?"auto":"100%",t.style.height=c?"100%":"auto"):(t.style.maxWidth=c?l/r*n+"px":null,t.style.margin=c?"0 auto":null)},r=()=>{clearTimeout(s.resized),s.resized=setTimeout(n,50)};Tr.call(e,i.container,"enterfullscreen exitfullscreen",(t=>{const{target:s}=e.fullscreen;s===i.container&&(!e.isEmbed&&Xn.empty(e.config.ratio)||(n(),("enterfullscreen"===t.type?Tr:Sr).call(e,window,"resize",r)))}))})),bn(this,"media",(()=>{const{player:e}=this,{elements:t}=e;if(Tr.call(e,e.media,"timeupdate seeking seeked",(t=>Kr.timeUpdate.call(e,t))),Tr.call(e,e.media,"durationchange loadeddata loadedmetadata",(t=>Kr.durationUpdate.call(e,t))),Tr.call(e,e.media,"ended",(()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),Tr.call(e,e.media,"progress playing seeking seeked",(t=>Kr.updateProgress.call(e,t))),Tr.call(e,e.media,"volumechange",(t=>Kr.updateVolume.call(e,t))),Tr.call(e,e.media,"playing play pause ended emptied timeupdate",(t=>ho.checkPlaying.call(e,t))),Tr.call(e,e.media,"waiting canplay seeked playing",(t=>ho.checkLoading.call(e,t))),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const i=gr.call(e,`.${e.config.classNames.video}`);if(!Xn.element(i))return;Tr.call(e,t.container,"click",(s=>{([t.container,i].includes(s.target)||i.contains(s.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(s,e.restart,"restart"),this.proxy(s,(()=>{_r(e.play())}),"play")):this.proxy(s,(()=>{_r(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&Tr.call(e,t.wrapper,"contextmenu",(e=>{e.preventDefault()}),!1),Tr.call(e,e.media,"volumechange",(()=>{e.storage.set({volume:e.volume,muted:e.muted})})),Tr.call(e,e.media,"ratechange",(()=>{Kr.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),Tr.call(e,e.media,"qualitychange",(t=>{Kr.updateSetting.call(e,"quality",null,t.detail.quality)})),Tr.call(e,e.media,"ready qualitychange",(()=>{Kr.setDownloadUrl.call(e)}));const i=e.config.events.concat(["keyup","keydown"]).join(" ");Tr.call(e,e.media,i,(i=>{let{detail:s={}}=i;"error"===i.type&&(s=e.media.error),Er.call(e,t.container,i.type,!0,s)}))})),bn(this,"proxy",((e,t,i)=>{const{player:s}=this,n=s.config.listeners[i];let r=!0;Xn.function(n)&&(r=n.call(s,e)),!1!==r&&Xn.function(t)&&t.call(s,e)})),bn(this,"bind",((e,t,i,s,n=!0)=>{const{player:r}=this,o=r.config.listeners[s],a=Xn.function(o);Tr.call(r,e,t,(e=>this.proxy(e,i,s)),n&&!a)})),bn(this,"controls",(()=>{const{player:e}=this,{elements:t}=e,i=Qn.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((t=>{this.bind(t,"click",(()=>{_r(e.togglePlay())}),"play")})),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",(()=>{e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),this.bind(t.buttons.fastForward,"click",(()=>{e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),this.bind(t.buttons.mute,"click",(()=>{e.muted=!e.muted}),"mute"),this.bind(t.buttons.captions,"click",(()=>e.toggleCaptions())),this.bind(t.buttons.download,"click",(()=>{Er.call(e,e.media,"download")}),"download"),this.bind(t.buttons.fullscreen,"click",(()=>{e.fullscreen.toggle()}),"fullscreen"),this.bind(t.buttons.pip,"click",(()=>{e.pip="toggle"}),"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",(t=>{t.stopPropagation(),t.preventDefault(),Kr.toggleMenu.call(e,t)}),null,!1),this.bind(t.buttons.settings,"keyup",(t=>{[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),Kr.toggleMenu.call(e,t)):Kr.focusFirstMenuItem.call(e,null,!0))}),null,!1),this.bind(t.settings.menu,"keydown",(t=>{"Escape"===t.key&&Kr.toggleMenu.call(e,t)})),this.bind(t.inputs.seek,"mousedown mousemove",(e=>{const i=t.progress.getBoundingClientRect(),s=100/i.width*(e.pageX-i.left);e.currentTarget.setAttribute("seek-value",s)})),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(t=>{const i=t.currentTarget,s="play-on-seeked";if(Xn.keyboardEvent(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const n=i.hasAttribute(s),r=["mouseup","touchend","keyup"].includes(t.type);n&&r?(i.removeAttribute(s),_r(e.play())):!r&&e.playing&&(i.setAttribute(s,""),e.pause())})),Qn.isIos){const t=mr.call(e,'input[type="range"]');Array.from(t).forEach((e=>this.bind(e,i,(e=>Jn(e.target)))))}this.bind(t.inputs.seek,i,(t=>{const i=t.currentTarget;let s=i.getAttribute("seek-value");Xn.empty(s)&&(s=i.value),i.removeAttribute("seek-value"),e.currentTime=s/i.max*e.duration}),"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",(t=>Kr.updateSeekTooltip.call(e,t))),this.bind(t.progress,"mousemove touchmove",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startMove(t)})),this.bind(t.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)})),this.bind(t.progress,"mousedown touchstart",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startScrubbing(t)})),this.bind(t.progress,"mouseup touchend",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.endScrubbing(t)})),Qn.isWebKit&&Array.from(mr.call(e,'input[type="range"]')).forEach((t=>{this.bind(t,"input",(t=>Kr.updateRangeFill.call(e,t.target)))})),e.config.toggleInvert&&!Xn.element(t.display.duration)&&this.bind(t.display.currentTime,"click",(()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Kr.timeUpdate.call(e))})),this.bind(t.inputs.volume,i,(t=>{e.volume=t.target.value}),"volume"),this.bind(t.controls,"mouseenter mouseleave",(i=>{t.controls.hover=!e.touch&&"mouseenter"===i.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((e=>!e.contains(t.container))).forEach((i=>{this.bind(i,"mouseenter mouseleave",(i=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===i.type)}))})),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(t.controls,"focusin",(()=>{const{config:i,timers:s}=e;hr(t.controls,i.classNames.noTransition,!0),ho.toggleControls.call(e,!0),setTimeout((()=>{hr(t.controls,i.classNames.noTransition,!1)}),0);const n=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout((()=>ho.toggleControls.call(e,!1)),n)})),this.bind(t.inputs.volume,"wheel",(t=>{const i=t.webkitDirectionInvertedFromDevice,[s,n]=[t.deltaX,-t.deltaY].map((e=>i?-e:e)),r=Math.sign(Math.abs(s)>Math.abs(n)?s:n);e.increaseVolume(r/50);const{volume:o}=e.media;(1===r&&o<1||-1===r&&o>0)&&t.preventDefault()}),"volume",!1)})),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:s,type:n,altKey:r,ctrlKey:o,metaKey:a,shiftKey:l}=e,c="keydown"===n,u=c&&s===this.lastKey;var h;if(!(r||o||a||l)&&s)if(c){const n=document.activeElement;if(Xn.element(n)){const{editable:s}=t.config.selectors,{seek:r}=i.inputs;if(n!==r&&pr(n,s))return;if(" "===e.key&&pr(n,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(s)&&(e.preventDefault(),e.stopPropagation()),s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(h=parseInt(s,10),t.currentTime=t.duration/10*h);break;case" ":case"k":u||_r(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":u||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":u||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===s&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null}toggleMenu(e){Kr.toggleMenu.call(this.player,e)}}var mo=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},i={},s={};function n(e,t){if(e){var n=s[e];if(i[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function r(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function o(t,i,s,n){var r,a,l=document,c=s.async,u=(s.numRetries||0)+1,h=s.before||e,d=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");n=n||0,/(^css!|\.css$)/.test(d)?((a=l.createElement("link")).rel="stylesheet",a.href=p,(r="hideFocus"in a)&&a.relList&&(r=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(a=l.createElement("img")).src=p:((a=l.createElement("script")).src=t,a.async=void 0===c||c),a.onload=a.onerror=a.onbeforeload=function(e){var l=e.type[0];if(r)try{a.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((n+=1)<u)return o(t,i,s,n)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";i(t,l,e.defaultPrevented)},!1!==h(t,a)&&l.head.appendChild(a)}function a(e,t,i){var s,n,r=(e=e.push?e:[e]).length,a=r,l=[];for(s=function(e,i,s){if("e"==i&&l.push(e),"b"==i){if(!s)return;l.push(e)}--r||t(l)},n=0;n<a;n++)o(e[n],s,i)}function l(e,i,s){var o,l;if(i&&i.trim&&(o=i),l=(o?s:i)||{},o){if(o in t)throw"LoadJS";t[o]=!0}function c(t,i){a(e,(function(e){r(l,e),t&&r({success:t,error:i},e),n(o,e)}),l)}if(l.returnPromise)return new Promise(c);c()}return l.ready=function(e,t){return function(e,t){e=e.push?e:[e];var n,r,o,a=[],l=e.length,c=l;for(n=function(e,i){i.length&&a.push(e),--c||t(a)};l--;)r=e[l],(o=i[r])?n(r,o):(s[r]=s[r]||[]).push(n)}(e,(function(e){r(t,e)})),l},l.done=function(e){n(e,[])},l.reset=function(){t={},i={},s={}},l.isDefined=function(e){return e in t},l}()}));function go(e){return new Promise(((t,i)=>{mo(e,{success:t,error:i})}))}function fo(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Er.call(this,this.media,e?"play":"pause"))}const vo={setup(){const e=this;hr(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Or.call(e),Xn.object(window.Vimeo)?vo.ready.call(e):go(e.config.urls.vimeo.sdk).then((()=>{vo.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:i,referrerPolicy:s,...n}=t;let r=e.media.getAttribute("src"),o="";Xn.empty(r)?(r=e.media.getAttribute(e.config.attributes.embed.id),o=e.media.getAttribute(e.config.attributes.embed.hash)):o=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(r);const a=o?{h:o}:{};i&&Object.assign(n,{controls:!1,sidedock:!1});const l=Qr({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...n}),c=function(e){return Xn.empty(e)?null:Xn.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}(r),u=nr("iframe"),h=Fr(e.config.urls.vimeo.iframe,c,l);if(u.setAttribute("src",h),u.setAttribute("allowfullscreen",""),u.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),Xn.empty(s)||u.setAttribute("referrerPolicy",s),i||!t.customControls)u.setAttribute("data-poster",e.poster),e.media=lr(u,e.media);else{const t=nr("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(u),e.media=lr(t,e.media)}t.customControls||Yr(Fr(e.config.urls.vimeo.api,h)).then((t=>{!Xn.empty(t)&&t.thumbnail_url&&ho.setPoster.call(e,t.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(u,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(fo.call(e,!0),e.embed.play()),e.media.pause=()=>(fo.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:d}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>d,set(t){const{embed:i,media:s,paused:n,volume:r}=e,o=n&&!i.hasPlayed;s.seeking=!0,Er.call(e,s,"seeking"),Promise.resolve(o&&i.setVolume(0)).then((()=>i.setCurrentTime(t))).then((()=>o&&i.pause())).then((()=>o&&i.setVolume(r))).catch((()=>{}))}});let p=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>p,set(t){e.embed.setPlaybackRate(t).then((()=>{p=t,Er.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:m}=e.config;Object.defineProperty(e.media,"volume",{get:()=>m,set(t){e.embed.setVolume(t).then((()=>{m=t,Er.call(e,e.media,"volumechange")}))}});let{muted:g}=e.config;Object.defineProperty(e.media,"muted",{get:()=>g,set(t){const i=!!Xn.boolean(t)&&t;e.embed.setMuted(!!i||e.config.muted).then((()=>{g=i,Er.call(e,e.media,"volumechange")}))}});let f,{loop:v}=e.config;Object.defineProperty(e.media,"loop",{get:()=>v,set(t){const i=Xn.boolean(t)?t:e.config.loop.active;e.embed.setLoop(i).then((()=>{v=i}))}}),e.embed.getVideoUrl().then((t=>{f=t,Kr.setDownloadUrl.call(e)})).catch((e=>{this.debug.warn(e)})),Object.defineProperty(e.media,"currentSrc",{get:()=>f}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((t=>{const[i,s]=t;e.embed.ratio=Nr(i,s),Or.call(this)})),e.embed.setAutopause(e.config.autopause).then((t=>{e.config.autopause=t})),e.embed.getVideoTitle().then((t=>{e.config.title=t,ho.setTitle.call(this)})),e.embed.getCurrentTime().then((t=>{d=t,Er.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((t=>{e.media.duration=t,Er.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((t=>{e.media.textTracks=t,eo.setup.call(e)})),e.embed.on("cuechange",(({cues:t=[]})=>{const i=t.map((e=>function(e){const t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText}(e.text)));eo.updateCues.call(e,i)})),e.embed.on("loaded",(()=>{e.embed.getPaused().then((t=>{fo.call(e,!t),t||Er.call(e,e.media,"playing")})),Xn.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(()=>{Er.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{Er.call(e,e.media,"playing")})),e.embed.on("play",(()=>{fo.call(e,!0),Er.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{fo.call(e,!1)})),e.embed.on("timeupdate",(t=>{e.media.seeking=!1,d=t.seconds,Er.call(e,e.media,"timeupdate")})),e.embed.on("progress",(t=>{e.media.buffered=t.percent,Er.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&Er.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((t=>{t!==e.media.duration&&(e.media.duration=t,Er.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,Er.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,Er.call(e,e.media,"ended")})),e.embed.on("error",(t=>{e.media.error=t,Er.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>ho.build.call(e)),0)}};function yo(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Er.call(this,this.media,e?"play":"pause"))}function wo(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const bo={setup(){if(hr(this.elements.wrapper,this.config.classNames.embed,!0),Xn.object(window.YT)&&Xn.function(window.YT.Player))bo.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Xn.function(e)&&e(),bo.ready.call(this)},go(this.config.urls.youtube.sdk).catch((e=>{this.debug.warn("YouTube API failed to load",e)}))}},getTitle(e){Yr(Fr(this.config.urls.youtube.api,e)).then((e=>{if(Xn.object(e)){const{title:t,height:i,width:s}=e;this.config.title=t,ho.setTitle.call(this),this.embed.ratio=Nr(s,i)}Or.call(this)})).catch((()=>{Or.call(this)}))},ready(){const e=this,t=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!Xn.empty(i)&&i.startsWith("youtube-"))return;let s=e.media.getAttribute("src");Xn.empty(s)&&(s=e.media.getAttribute(this.config.attributes.embed.id));const n=function(e){return Xn.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}(s),r=nr("div",{id:Hr(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=lr(r,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${n}/${e}default.jpg`;uo(t("maxres"),121).catch((()=>uo(t("sd"),121))).catch((()=>uo(t("hq")))).then((t=>ho.setPoster.call(e,t.src))).then((t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:n,host:wo(t),playerVars:tr({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const i=t.data,s={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occurred";e.media.error={code:i,message:s},Er.call(e,e.media,"error")}},onPlaybackRateChange(t){const i=t.target;e.media.playbackRate=i.getPlaybackRate(),Er.call(e,e.media,"ratechange")},onReady(i){if(Xn.function(e.media.play))return;const s=i.target;bo.getTitle.call(e,n),e.media.play=()=>{yo.call(e,!0),s.playVideo()},e.media.pause=()=>{yo.call(e,!1),s.pauseVideo()},e.media.stop=()=>{s.stopVideo()},e.media.duration=s.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(s.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Er.call(e,e.media,"seeking"),s.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>s.getPlaybackRate(),set(e){s.setPlaybackRate(e)}});let{volume:r}=e.config;Object.defineProperty(e.media,"volume",{get:()=>r,set(t){r=t,s.setVolume(100*r),Er.call(e,e.media,"volumechange")}});let{muted:o}=e.config;Object.defineProperty(e.media,"muted",{get:()=>o,set(t){const i=Xn.boolean(t)?t:o;o=i,s[i?"mute":"unMute"](),s.setVolume(100*r),Er.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>s.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const a=s.getAvailablePlaybackRates();e.options.speed=a.filter((t=>e.config.speed.options.includes(t))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),Er.call(e,e.media,"timeupdate"),Er.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=s.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&Er.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),Er.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>ho.build.call(e)),50)},onStateChange(i){const s=i.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(i.data)&&(e.media.seeking=!1,Er.call(e,e.media,"seeked")),i.data){case-1:Er.call(e,e.media,"timeupdate"),e.media.buffered=s.getVideoLoadedFraction(),Er.call(e,e.media,"progress");break;case 0:yo.call(e,!1),e.media.loop?(s.stopVideo(),s.playVideo()):Er.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(yo.call(e,!0),Er.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{Er.call(e,e.media,"timeupdate")}),50),e.media.duration!==s.getDuration()&&(e.media.duration=s.getDuration(),Er.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),yo.call(e,!1);break;case 3:Er.call(e,e.media,"waiting")}Er.call(e,e.elements.container,"statechange",!1,{code:i.data})}}})}},To={setup(){this.media?(hr(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),hr(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&hr(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=nr("div",{class:this.config.classNames.video}),ir(this.media,this.elements.wrapper),this.elements.poster=nr("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Br.setup.call(this):this.isYouTube?bo.setup.call(this):this.isVimeo&&vo.setup.call(this)):this.debug.warn("No media element found!")}};class So{constructor(e){bn(this,"load",(()=>{this.enabled&&(Xn.object(window.google)&&Xn.object(window.google.ima)?this.ready():go(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),bn(this,"ready",(()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),bn(this,"setupIMA",(()=>{this.elements.container=nr("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(e=>this.onAdsManagerLoaded(e)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e)),!1),this.requestAds()})),bn(this,"requestAds",(()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}})),bn(this,"pollCountdown",((e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const e=Xr(Math.max(this.manager.getRemainingTime(),0)),t=`${Gr.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)}),100)})),bn(this,"onAdsManagerLoaded",(e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e))),Object.keys(google.ima.AdEvent.Type).forEach((e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],(e=>this.onAdEvent(e)))})),this.trigger("loaded")})),bn(this,"addCuePoints",(()=>{Xn.empty(this.cuePoints)||this.cuePoints.forEach((e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if(Xn.element(t)){const i=100/this.player.duration*e,s=nr("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,t.appendChild(s)}}}))})),bn(this,"onAdEvent",(e=>{const{container:t}=this.player.elements,i=e.getAd(),s=e.getAdData();switch((e=>{Er.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=t.offsetWidth,i.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}})),bn(this,"onAdError",(e=>{this.cancel(),this.player.debug.warn("Ads error",e)})),bn(this,"listeners",(()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{t=this.player.currentTime})),this.player.on("seeked",(()=>{const e=this.player.currentTime;Xn.empty(this.cuePoints)||this.cuePoints.forEach(((i,s)=>{t<i&&i<e&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)}))})),bn(this,"play",(()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}})).catch((()=>{}))})),bn(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,_r(this.player.media.play())})),bn(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),bn(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),bn(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((e=>{this.on("loaded",e),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),bn(this,"trigger",((e,...t)=>{const i=this.events[e];Xn.array(i)&&i.forEach((e=>{Xn.function(e)&&e.apply(this,t)}))})),bn(this,"on",((e,t)=>(Xn.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this))),bn(this,"startSafetyTimer",((e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),e)})),bn(this,"clearSafetyTimer",(e=>{Xn.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((e,t)=>{this.on("loaded",e),this.on("error",t)})),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!Xn.empty(e.publisherId)||Xn.url(e.tagUrl))}get tagUrl(){const{config:e}=this;return Xn.url(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Qr({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function xo(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}const Eo=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((e=>{const i={};e.split(/\r\n|\n|\r/).forEach((e=>{if(Xn.number(i.startTime)){if(!Xn.empty(e.trim())&&Xn.empty(i.text)){const t=e.trim().split("#xywh=");[i.text]=t,t[1]&&([i.x,i.y,i.w,i.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(i.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),i.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}})),i.text&&t.push(i)})),t},Co=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class ko{constructor(e){bn(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),bn(this,"getThumbnails",(()=>new Promise((e=>{const{src:t}=this.player.config.previewThumbnails;if(Xn.empty(t))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((e,t)=>e.height-t.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(Xn.function(t))t((e=>{this.thumbnails=e,i()}));else{const e=(Xn.string(t)?[t]:t).map((e=>this.getThumbnail(e)));Promise.all(e).then(i)}})))),bn(this,"getThumbnail",(e=>new Promise((t=>{Yr(e).then((i=>{const s={frames:Eo(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const n=new Image;n.onload=()=>{s.height=n.naturalHeight,s.width=n.naturalWidth,this.thumbnails.push(s),t()},n.src=s.urlPrefix+s.frames[0].text}))})))),bn(this,"startMove",(e=>{if(this.loaded&&Xn.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,i;const s=this.player.elements.progress.getBoundingClientRect(),n=100/s.width*(e.pageX-s.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Xr(this.seekTime);const r=null===(t=this.player.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(this.seekTime)));r&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${r.label}<br>`)}this.showImageAtCurrentTime()}})),bn(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),bn(this,"startScrubbing",(e=>{(Xn.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),bn(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):xr.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),bn(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),bn(this,"render",(()=>{this.elements.thumb.container=nr("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=nr("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=nr("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=nr("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),Xn.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=nr("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),bn(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),bn(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex((e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime)),t=e>=0;let i=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach(((t,s)=>{this.loadedImages.includes(t.frames[e].text)&&(i=s)})),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))})),bn(this,"loadImage",((e=0)=>{const t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:s}=i,n=i.frames[t],r=i.frames[t].text,o=s+r;if(this.currentImageElement&&this.currentImageElement.dataset.filename===r)this.showImage(this.currentImageElement,n,e,t,r,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=o,i.dataset.index=t,i.dataset.filename=r,this.showingThumbFilename=r,this.player.debug.log(`Loading image: ${o}`),i.onload=()=>this.showImage(i,n,e,t,r,!0),this.loadingImage=i,this.removeOldImages(i)}})),bn(this,"showImage",((e,t,i,s,n,r=!0)=>{this.player.debug.log(`Showing thumb: ${n}. num: ${s}. qual: ${i}. newimg: ${r}`),this.setImageSizeAndOffset(e,t),r&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,e,t,n))})),bn(this,"removeOldImages",(e=>{Array.from(this.currentImageContainer.children).forEach((t=>{if("img"!==t.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout((()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)}),i)}}))})),bn(this,"preloadNearby",((e,t=!0)=>new Promise((i=>{setTimeout((()=>{const s=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===s){let n;n=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let r=!1;n.forEach((e=>{const t=e.text;if(t!==s&&!this.loadedImages.includes(t)){r=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],s=e+t,n=new Image;n.src=s,n.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),i()}}})),r||i()}}),300)})))),bn(this,"getHigherQuality",((e,t,i,s)=>{if(e<this.thumbnails.length-1){let n=t.naturalHeight;this.usingSprites&&(n=i.h),n<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(e+1))}),300)}})),bn(this,"toggleThumbContainer",((e=!1,t=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)})),bn(this,"toggleScrubbingContainer",((e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)})),bn(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),bn(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()})),bn(this,"setThumbContainerPos",(()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=t.left-e.left+10,n=t.right-e.left-i.clientWidth-10,r=this.mousePosX-e.left-i.clientWidth/2,o=xo(r,s,n);i.style.left=`${o}px`,i.style.setProperty("--preview-arrow-offset",r-o+"px")})),bn(this,"setScrubbingContainerSize",(()=>{const{width:e,height:t}=Co(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`})),bn(this,"setImageSizeAndOffset",((e,t)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*i+"px",e.style.width=e.naturalWidth*i+"px",e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`})),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=Co(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const _o={insertElements(e,t){Xn.string(t)?rr(e,this.media,{src:t}):Xn.array(t)&&t.forEach((t=>{rr(e,this.media,t)}))},change(e){er(e,"sources.length")?(Br.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],or(this.media),this.media=null,Xn.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:i}=e,[{provider:s=no.html5,src:n}]=t,r="html5"===s?i:"div",o="html5"===s?{}:{src:n};Object.assign(this,{provider:s,type:i,supported:yr.check(i,s,this.config.playsinline),media:nr(r,o)}),this.elements.container.appendChild(this.media),Xn.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),Xn.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ho.addStyleHook.call(this),this.isHTML5&&_o.insertElements.call(this,"source",t),this.config.title=e.title,To.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&_o.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ho.build.call(this),this.isHTML5&&this.media.load(),Xn.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ko(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};class Do{constructor(e,t){if(bn(this,"play",(()=>Xn.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>_r(this.media.play()))),this.media.play()):null)),bn(this,"pause",(()=>this.playing&&Xn.function(this.media.pause)?this.media.pause():null)),bn(this,"togglePlay",(e=>(Xn.boolean(e)?e:!this.playing)?this.play():this.pause())),bn(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):Xn.function(this.media.stop)&&this.media.stop()})),bn(this,"restart",(()=>{this.currentTime=0})),bn(this,"rewind",(e=>{this.currentTime-=Xn.number(e)?e:this.config.seekTime})),bn(this,"forward",(e=>{this.currentTime+=Xn.number(e)?e:this.config.seekTime})),bn(this,"increaseVolume",(e=>{const t=this.media.muted?0:this.volume;this.volume=t+(Xn.number(e)?e:0)})),bn(this,"decreaseVolume",(e=>{this.increaseVolume(-e)})),bn(this,"airplay",(()=>{yr.airplay&&this.media.webkitShowPlaybackTargetPicker()})),bn(this,"toggleControls",(e=>{if(this.supported.ui&&!this.isAudio){const t=dr(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,s=hr(this.elements.container,this.config.classNames.hideControls,i);if(s&&Xn.array(this.config.controls)&&this.config.controls.includes("settings")&&!Xn.empty(this.config.settings)&&Kr.toggleMenu.call(this,!1),s!==t){const e=s?"controlshidden":"controlsshown";Er.call(this,this.media,e)}return!s}return!1})),bn(this,"on",((e,t)=>{Tr.call(this,this.elements.container,e,t)})),bn(this,"once",((e,t)=>{xr.call(this,this.elements.container,e,t)})),bn(this,"off",((e,t)=>{Sr(this.elements.container,e,t)})),bn(this,"destroy",((e,t=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(or(this.elements.buttons.play),or(this.elements.captions),or(this.elements.controls),or(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),Xn.function(e)&&e()):(Cr.call(this),Br.cancelRequests.call(this),lr(this.elements.original,this.elements.container),Er.call(this,this.elements.original,"destroyed",!0),Xn.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ho.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&Xn.function(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))})),bn(this,"supports",(e=>yr.mime.call(this,e))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=yr.touch,this.media=e,Xn.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Xn.nodeList(this.media)||Xn.array(this.media))&&(this.media=this.media[0]),this.config=tr({},to,Do.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new lo(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",yr),Xn.nullOrUndefined(this.media)||!Xn.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!yr.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const s=this.media.tagName.toLowerCase();let n=null,r=null;switch(s){case"div":if(n=this.media.querySelector("iframe"),Xn.element(n)){if(r=Jr(n.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?no.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?no.vimeo:null}(r.toString()),this.elements.container=this.media,this.media=n,this.elements.container.className="",r.search.length){const e=["1","true"];e.includes(r.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(r.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(r.searchParams.get("playsinline")),this.config.youtube.hl=r.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Xn.empty(this.provider)||!Object.values(no).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=oo;break;case"video":case"audio":this.type=s,this.provider=no.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=yr.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new po(this),this.storage=new Wr(this),this.media.plyr=this,Xn.element(this.elements.container)||(this.elements.container=nr("div"),ir(this.media,this.elements.container)),ho.migrateStyles.call(this),ho.addStyleHook.call(this),To.setup.call(this),this.config.debug&&Tr.call(this,this.elements.container,this.config.events.join(" "),(e=>{this.debug.log(`event: ${e.type}`)})),this.fullscreen=new co(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ho.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new So(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>_r(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ko(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===no.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===no.youtube}get isVimeo(){return this.provider===no.vimeo}get isVideo(){return this.type===oo}get isAudio(){return this.type===ro}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=Xn.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return Xn.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=Xn.number(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;Xn.string(t)&&(t=Number(t)),Xn.number(t)||(t=this.storage.get("volume")),Xn.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!Xn.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;Xn.boolean(t)||(t=this.storage.get("muted")),Xn.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;Xn.number(e)&&(t=e),Xn.number(t)||(t=this.storage.get("speed")),Xn.number(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:s}=this;t=xo(t,i,s),this.config.speed.selected=t,setTimeout((()=>{this.media&&(this.media.playbackRate=t)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let s=[!Xn.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(Xn.number),n=!0;if(!i.includes(s)){const e=Pr(i,s);this.debug.warn(`Unsupported quality option: ${s}, using ${e} instead`),s=e,n=!1}t.selected=s,this.media.quality=s,n&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(e){const t=Xn.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){_o.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return Xn.url(e)?e:this.source}set download(e){Xn.url(e)&&(this.config.urls.download=e,Kr.setDownloadUrl.call(this))}set poster(e){this.isVideo?ho.setPoster.call(this,e,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=Rr(Ir.call(this));return Xn.array(e)?e.join(":"):e}set ratio(e){this.isVideo?Xn.string(e)&&Lr(e)?(this.config.ratio=Rr(e),Or.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=Xn.boolean(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){eo.toggle.call(this,e,!1)}set currentTrack(e){eo.set.call(this,e,!1),eo.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){eo.setLanguage.call(this,e,!1)}get language(){return(eo.getCurrentTrack.call(this)||{}).language}set pip(e){if(!yr.pip)return;const t=Xn.boolean(e)?e:!this.pip;Xn.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?io:so),Xn.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return yr.pip?Xn.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===io:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ko(this))}static supported(e,t){return yr.check(e,t)}static loadSprite(e,t){return $r(e,t)}static setup(e,t={}){let i=null;return Xn.string(e)?i=Array.from(document.querySelectorAll(e)):Xn.nodeList(e)?i=Array.from(e):Xn.array(e)&&(i=e.filter(Xn.element)),Xn.empty(i)?null:i.map((e=>new Do(e,t)))}}var Po;Do.defaults=(Po=to,JSON.parse(JSON.stringify(Po)));let Ao=class{constructor(e){this.element=e,this.#_(this.element)}#_(e){const t=e.getAttribute("data-title");this.player=new Do(e,{title:t}),this.player.on("ready",(()=>{const t=e.parentElement,i=t.querySelectorAll(".plyr__control--back");if(i){const e=t.querySelector('button[data-plyr="settings"]');i.forEach((t=>{t.addEventListener("keydown",(function(t){13!==t.keyCode&&32!==t.keyCode||e.focus()}))}))}["play","mute","settings"].forEach((e=>{const i=t.querySelector("button[data-plyr="+e+"]");i.removeAttribute("aria-pressed");new MutationObserver((function(e){e.forEach((function(e){"attributes"===e.type&&i.removeAttribute("aria-pressed")}))})).observe(i,{attributes:!0})}))}))}};const Mo=":not([inert]):not([inert] *)",Lo=':not([tabindex^="-"])',Ro=":not(:disabled)";var Io=[`a[href]${Mo}${Lo}`,`area[href]${Mo}${Lo}`,`input:not([type="hidden"]):not([type="radio"])${Mo}${Lo}${Ro}`,`input[type="radio"]${Mo}${Lo}${Ro}`,`select${Mo}${Lo}${Ro}`,`textarea${Mo}${Lo}${Ro}`,`button${Mo}${Lo}${Ro}`,`details${Mo} > summary:first-of-type${Lo}`,`iframe${Mo}${Lo}`,`audio[controls]${Mo}${Lo}`,`video[controls]${Mo}${Lo}`,`[contenteditable]${Mo}${Lo}`,`[tabindex]${Mo}${Lo}`];function Oo(e){(e.querySelector("[autofocus]")||e).focus()}function No(e,t){if(t&&Fo(e))return e;if(function(e){return(!e.shadowRoot||"-1"!==e.getAttribute("tabindex"))&&!e.matches(":disabled,[hidden],[inert]")}(e))if(e.shadowRoot){let i=Bo(e.shadowRoot,t);for(;i;){const e=No(i,t);if(e)return e;i=Ho(i,t)}}else if("slot"===e.localName){const i=e.assignedElements({flatten:!0});t||i.reverse();for(const e of i){const i=No(e,t);if(i)return i}}else{let i=Bo(e,t);for(;i;){const e=No(i,t);if(e)return e;i=Ho(i,t)}}return!t&&Fo(e)?e:null}function Bo(e,t){return t?e.firstElementChild:e.lastElementChild}function Ho(e,t){return t?e.nextElementSibling:e.previousElementSibling}const Fo=e=>!e.shadowRoot?.delegatesFocus&&(e.matches(Io.join(","))&&!(e=>!(!e.matches("details:not([open]) *")||e.matches("details>summary:first-of-type"))||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))(e));function qo(e=document){const t=e.activeElement;return t?t.shadowRoot?qo(t.shadowRoot)||document.activeElement:t:null}function zo(e,t){const[i,s]=function(e){const t=No(e,!0);return[t,t?No(e,!1)||t:null]}(e);if(!i)return t.preventDefault();const n=qo();t.shiftKey&&n===i?(s.focus(),t.preventDefault()):t.shiftKey||n!==s||(i.focus(),t.preventDefault())}function Vo(e,t){return function t(i){return i&&i!==document&&i!==window?(i.assignedSlot&&(i=i.assignedSlot),i.closest(e)||t(i.getRootNode().host)):null}(t)}const jo="data-a11y-dialog";class Uo{$el;id;previouslyFocused;shown;constructor(e){this.$el=e,this.id=this.$el.getAttribute(jo)||this.$el.id,this.previouslyFocused=null,this.shown=!1,this.maintainFocus=this.maintainFocus.bind(this),this.bindKeypress=this.bindKeypress.bind(this),this.handleTriggerClicks=this.handleTriggerClicks.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.$el.setAttribute("aria-hidden","true"),this.$el.setAttribute("aria-modal","true"),this.$el.setAttribute("tabindex","-1"),this.$el.hasAttribute("role")||this.$el.setAttribute("role","dialog"),document.addEventListener("click",this.handleTriggerClicks,!0)}destroy(){return this.fire("destroy").defaultPrevented||(this.hide(),document.removeEventListener("click",this.handleTriggerClicks,!0),this.$el.replaceWith(this.$el.cloneNode(!0))),this}show(e){if(this.shown)return this;return this.fire("show",e).defaultPrevented||(this.shown=!0,this.$el.removeAttribute("aria-hidden"),this.previouslyFocused=qo(),"BODY"===this.previouslyFocused?.tagName&&e?.target&&(this.previouslyFocused=e.target),"focus"===e?.type?this.maintainFocus(e):Oo(this.$el),document.body.addEventListener("focus",this.maintainFocus,!0),this.$el.addEventListener("keydown",this.bindKeypress,!0)),this}hide(e){if(!this.shown)return this;return this.fire("hide",e).defaultPrevented||(this.shown=!1,this.$el.setAttribute("aria-hidden","true"),this.previouslyFocused?.focus?.(),document.body.removeEventListener("focus",this.maintainFocus,!0),this.$el.removeEventListener("keydown",this.bindKeypress,!0)),this}on(e,t,i){return this.$el.addEventListener(e,t,i),this}off(e,t,i){return this.$el.removeEventListener(e,t,i),this}fire(e,t){const i=new CustomEvent(e,{detail:t,cancelable:!0});return this.$el.dispatchEvent(i),i}handleTriggerClicks(e){const t=e.composedPath()[0],i=Vo(`[${jo}-show="${this.id}"]`,t),s=Vo(`[${jo}-hide="${this.id}"]`,t),n=Vo(`[${jo}-hide]`,t)&&Vo('[aria-modal="true"]',t)===this.$el;i&&this.show(e),(s||n)&&this.hide(e)}bindKeypress(e){if(Vo('[aria-modal="true"]',qo())!==this.$el)return;let t=!1;try{t=!!this.$el.querySelector('[popover]:not([popover="manual"]):popover-open')}catch{}"Escape"!==e.key||"alertdialog"===this.$el.getAttribute("role")||t||(e.preventDefault(),this.hide(e)),"Tab"===e.key&&zo(this.$el,e)}maintainFocus(e){e.target.closest(`[aria-modal="true"], [${jo}-ignore-focus-trap]`)||Oo(this.$el)}}function Go(){for(const e of document.querySelectorAll("[data-a11y-dialog]"))new Uo(e)}"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",Go):Go());class Wo{#O;#N;#B;#H;#F;#q='\n    <p class="plyr__title f-title--h4">{title}</p>\n    <div class="plyr__controls">\n      <button type="button" class="plyr__controls__item plyr__control plyr__control--main" aria-label="Play, {title}" data-plyr="play">\n          <svg class="icon--pressed" role="presentation" width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M8 14V0H12V14H8ZM0 14V0H4V14H0Z" fill="currentColor"/>\n          </svg>\n          <svg class="icon--not-pressed" role="presentation" width="11" height="14" viewBox="0 0 11 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M0 14V0L11 7L0 14Z" fill="currentColor"/>\n          </svg>\n          <span class="label--pressed plyr__tooltip" role="tooltip">Pause</span>\n          <span class="label--not-pressed plyr__tooltip" role="tooltip">Play</span>\n      </button>\n      <div class="plyr__controls__item plyr__time">\n        <div class="plyr__time plyr__time--current" aria-label="Current time">00:00</div>\n        <div class="plyr__time plyr__time--duration" aria-label="Duration">00:00</div>\n      </div>\n      <div class="plyr__controls__item plyr__progress__container">\n        <div class="plyr__progress">\n            <input data-plyr="seek" type="range" min="0" max="100" step="0.01" value="0" aria-label="Seek">\n            <progress class="plyr__progress__buffer" min="0" max="100" value="0">% buffered</progress>\n            <span role="tooltip" class="plyr__tooltip">00:00</span>\n        </div>\n      </div>\n      <div class="plyr__controls__item plyr__volume">\n        <button type="button" class="plyr__control" aria-label="Mute" data-plyr="mute">\n            <svg class="icon--pressed" role="presentation" width="19" height="16" viewBox="0 0 19 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M12.4 12L11 10.6L13.6 8L11 5.4L12.4 4L15 6.6L17.6 4L19 5.4L16.4 8L19 10.6L17.6 12L15 9.4L12.4 12ZM0 11V5H4L9 0V16L4 11H0ZM7 4.85L4.85 7H2V9H4.85L7 11.15V4.85Z" fill="currentColor"/>\n            </svg>\n            <svg class="icon--not-pressed" role="presentation" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M11 17.7246V15.6746C12.5 15.2413 13.7083 14.4079 14.625 13.1746C15.5417 11.9413 16 10.5413 16 8.97461C16 7.40794 15.5417 6.00794 14.625 4.77461C13.7083 3.54128 12.5 2.70794 11 2.27461V0.224609C13.0667 0.691276 14.75 1.73711 16.05 3.36211C17.35 4.98711 18 6.85794 18 8.97461C18 11.0913 17.35 12.9621 16.05 14.5871C14.75 16.2121 13.0667 17.2579 11 17.7246ZM0 11.9996V5.99961H4L9 0.999609V16.9996L4 11.9996H0ZM11 12.9996V4.94961C11.7833 5.31628 12.3958 5.86628 12.8375 6.59961C13.2792 7.33294 13.5 8.13294 13.5 8.99961C13.5 9.84961 13.2792 10.6371 12.8375 11.3621C12.3958 12.0871 11.7833 12.6329 11 12.9996ZM7 5.84961L4.85 7.99961H2V9.99961H4.85L7 12.1496V5.84961Z" fill="currentColor"/>\n            </svg>\n            <span class="label--pressed plyr__tooltip" role="tooltip">Unmute</span>\n            <span class="label--not-pressed plyr__tooltip" role="tooltip">Mute</span>\n        </button>\n        <div class="plyr__controls__item  plyr__volume">\n          <input data-plyr="volume" type="range" min="0" max="1" step="0.05" value="1" autocomplete="off" aria-label="Volume">\n        </div>\n        <button type="button" class="plyr__controls__item plyr__control" data-plyr="captions">\n          <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-captions-on"></use></svg>\n          <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-captions-off"></use></svg>\n          <span class="label--pressed plyr__tooltip" role="tooltip">Disable captions</span>\n          <span class="label--not-pressed plyr__tooltip" role="tooltip">Enable captions</span>\n        </button>\n      </div>\n    </div>\n    <button type="button" class="plyr__control plyr__control--overlaid" data-plyr="play" aria-label="Play, View From A Blue Moon">\n      <svg aria-hidden="true" focusable="false" width="11" height="14" viewBox="0 0 11 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M0 14V0L11 7L0 14Z" fill="currentColor"/>\n      </svg>\n      <span class="plyr__sr-only">Play</span>\n    </button>\n  ';constructor(e,t,i){this.element=e,this.modalEl=i,this.#O=t,this.#N=function(e){if(console.log(e),e.includes("youtu")){var t=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/);const i=!!t&&t[1];return console.log(i),i}return e}(e.getAttribute("data-video-id")),this.#B=e.querySelector('[data-part="control"]'),this.#_(this.element,this.modalEl)}#_(e,t){const i=e.getAttribute("data-title");[...t.querySelectorAll('[data-part="closer"]')].map((e=>{e.addEventListener("click",(()=>{if(t.classList.contains("is-hiding"))return!1;t.classList.add("is-hiding"),setTimeout((()=>{t.classList.remove("is-hiding"),this.#O.hide()}),200)}))})),this.#B.addEventListener("click",(()=>{const e=t.querySelector('[data-part="content"]');e.setAttribute("data-plyr-provider","youtube"),e.setAttribute("data-plyr-embed-id",this.#N),this.#F=new Do(e,{title:i,controls:this.#q,hideControls:!1}),this.#F.once("controlsshown",(()=>{this.#O.show()})),this.#F.on("pause",(()=>{}))})),this.#O.on("show",(()=>{t.classList.remove("is-hidden")})),this.#O.on("hide",(()=>{this.#F.destroy()}))}}class Yo{constructor(e){this.el=e,this.video=e.querySelector("video"),this.videoID=this.video.hasAttribute("id")?this.video.getAttribute("id"):"plyr-"+Math.floor(4001*Math.random()+1e3),this.video.setAttribute("id",this.videoID),this.videoTitle=!!this.video.hasAttribute("data-title")&&this.video.getAttribute("data-title"),this.parentModal=this.video.closest(".js-modal"),this.init()}init(){this.player=new Do(`#${this.videoID}`,{title:this.videoTitle,controls:'\n        <p class="plyr__title f-title--h4">{title}</p>\n        <div class="plyr__controls">\n          <button type="button" class="plyr__controls__item plyr__control plyr__control--main" aria-label="Play, {title}" data-plyr="play">\n              <svg class="icon--pressed" role="presentation" width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M8 14V0H12V14H8ZM0 14V0H4V14H0Z" fill="currentColor"/>\n              </svg>\n              <svg class="icon--not-pressed" role="presentation" width="11" height="14" viewBox="0 0 11 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M0 14V0L11 7L0 14Z" fill="currentColor"/>\n              </svg>\n              <span class="label--pressed plyr__tooltip" role="tooltip">Pause</span>\n              <span class="label--not-pressed plyr__tooltip" role="tooltip">Play</span>\n          </button>\n          <div class="plyr__controls__item plyr__time">\n            <div class="plyr__time plyr__time--current" aria-label="Current time">00:00</div>\n            <div class="plyr__time plyr__time--duration" aria-label="Duration">00:00</div>\n          </div>\n          <div class="plyr__controls__item plyr__progress__container">\n            <div class="plyr__progress">\n                <input data-plyr="seek" type="range" min="0" max="100" step="0.01" value="0" aria-label="Seek">\n                <progress class="plyr__progress__buffer" min="0" max="100" value="0">% buffered</progress>\n                <span role="tooltip" class="plyr__tooltip">00:00</span>\n            </div>\n          </div>\n          <div class="plyr__controls__item plyr__volume">\n            <button type="button" class="plyr__control" aria-label="Mute" data-plyr="mute">\n                <svg class="icon--pressed" role="presentation" width="19" height="16" viewBox="0 0 19 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M12.4 12L11 10.6L13.6 8L11 5.4L12.4 4L15 6.6L17.6 4L19 5.4L16.4 8L19 10.6L17.6 12L15 9.4L12.4 12ZM0 11V5H4L9 0V16L4 11H0ZM7 4.85L4.85 7H2V9H4.85L7 11.15V4.85Z" fill="currentColor"/>\n                </svg>\n                <svg class="icon--not-pressed" role="presentation" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M11 17.7246V15.6746C12.5 15.2413 13.7083 14.4079 14.625 13.1746C15.5417 11.9413 16 10.5413 16 8.97461C16 7.40794 15.5417 6.00794 14.625 4.77461C13.7083 3.54128 12.5 2.70794 11 2.27461V0.224609C13.0667 0.691276 14.75 1.73711 16.05 3.36211C17.35 4.98711 18 6.85794 18 8.97461C18 11.0913 17.35 12.9621 16.05 14.5871C14.75 16.2121 13.0667 17.2579 11 17.7246ZM0 11.9996V5.99961H4L9 0.999609V16.9996L4 11.9996H0ZM11 12.9996V4.94961C11.7833 5.31628 12.3958 5.86628 12.8375 6.59961C13.2792 7.33294 13.5 8.13294 13.5 8.99961C13.5 9.84961 13.2792 10.6371 12.8375 11.3621C12.3958 12.0871 11.7833 12.6329 11 12.9996ZM7 5.84961L4.85 7.99961H2V9.99961H4.85L7 12.1496V5.84961Z" fill="currentColor"/>\n                </svg>\n                <span class="label--pressed plyr__tooltip" role="tooltip">Unmute</span>\n                <span class="label--not-pressed plyr__tooltip" role="tooltip">Mute</span>\n            </button>\n            <div class="plyr__controls__item  plyr__volume">\n              <input data-plyr="volume" type="range" min="0" max="1" step="0.05" value="1" autocomplete="off" aria-label="Volume">\n            </div>\n            <button type="button" class="plyr__controls__item plyr__control" data-plyr="captions">\n              <svg class="icon--pressed" role="presentation"><use xlink:href="#plyr-captions-on"></use></svg>\n              <svg class="icon--not-pressed" role="presentation"><use xlink:href="#plyr-captions-off"></use></svg>\n              <span class="label--pressed plyr__tooltip" role="tooltip">Disable captions</span>\n              <span class="label--not-pressed plyr__tooltip" role="tooltip">Enable captions</span>\n            </button>\n          </div>\n        </div>\n        <button type="button" class="plyr__control plyr__control--overlaid" data-plyr="play" aria-label="Play, View From A Blue Moon">\n          <svg aria-hidden="true" focusable="false" width="11" height="14" viewBox="0 0 11 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M0 14V0L11 7L0 14Z" fill="currentColor"/>\n          </svg>\n          <span class="plyr__sr-only">Play</span>\n        </button>\n      '}),this.parentModal&&this.parentModal.addEventListener("close-a11y-modal",(()=>{this.player.pause()}))}}class $o{constructor(e){this.el=e,this.iframe=e.querySelector("iframe"),this.iframe&&(this.iframeSrc=this.iframe.src,this.iframe.setAttribute("data-src",this.iframe.src),this.iframe.src="",this.parentModal=e.closest(".js-modal"),this.init())}init(){this.parentModal.addEventListener("open-a11y-modal",(()=>{this.iframe.src=this.iframeSrc})),this.parentModal.addEventListener("close-a11y-modal",(()=>{this.iframe.src=""}))}}class Zo{#O;constructor(e,t,i){this.element=e,this.modalEl=i,this.#O=t,this.#_(this.element,this.modalEl)}#_(e,t){const i=[...t.querySelectorAll('[data-part="note"]')];e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-id");i.map((e=>{const i=e.getAttribute("data-id");t===i?(e.setAttribute("aria-hidden",!1),e.classList.remove("is-hidden")):(e.setAttribute("aria-hidden",!0),e.classList.add("is-hidden"))})),this.#O.show()}));[...t.querySelectorAll('[data-part="closer"]')].map((e=>{e.addEventListener("click",(()=>{if(t.classList.contains("is-hiding"))return!1;t.classList.add("is-hiding"),setTimeout((()=>{t.classList.remove("is-hiding"),this.#O.hide()}),600)}))}))}}class Xo{#z;#V;constructor(e,t={}){if(window.openDisclosureButton=!1,this.#z={parentClass:"js-disclosure-parent",openClass:"is-open",bodyOpenClass:"open-disclosure",animateClass:"can-animate",buttonOpenClass:"is-open",buttonAnimateClass:"can-animate",closeBackgroundClass:"js-disclosure-background",animationDelay:240,animateHeight:!1,onOpen:!1,...t},this.#V={button:e,panel:!1},this.#V.button.hasAttribute("data-animatedelay")&&(this.#z.animationDelay=parseInt(this.#V.button.getAttribute("data-animatedelay"))),this.#V.button.hasAttribute("data-animateheight")&&(this.#z.animateHeight=!0),this.#V.button.hasAttribute("data-closebackground")){const e=document.querySelector(`.${this.#z.closeBackgroundClass}`);e&&(this.#V.closeBkg=e,this.#V.closeBkg.addEventListener("click",(()=>{this.#j()})))}if(this.#V.button.hasAttribute("data-closeparent")){document.querySelector(`.${this.#V.button.getAttribute("data-closeparent")}`)&&window.addEventListener("click",(e=>{e.target.closest(`.${this.#V.button.getAttribute("data-closeparent")}`)||this.#j()}))}const i="close-disclosures";if(this.#z.closeEvent=new Event(i),this.#V.button.hasAttribute("data-closeothers")?(this.#z.closeOthers=!0,window.addEventListener(i,(()=>{window.openDisclosureButton!==this.#V.button&&this.#j()}))):this.#z.closeOthers=!1,this.#V.parent=this.#V.button.closest(`.${this.#z.parentClass}`),this.#V.button.hasAttribute("data-target")){const e=this.#V.button.getAttribute("data-target");this.#V.panel=document.getElementById(e)}else if(this.#V.button.hasAttribute("aria-controls")){const e=this.#V.button.getAttribute("aria-controls");this.#V.panel=document.getElementById(e)}else this.#V.panel=this.#V.button.nextElementSibling;this.#U(),this.#V.button.hasAttribute("data-mobileonly")&&(this.#G(),window.addEventListener("resize",(()=>{this.#G()}))),this.closeDisclosure=this.#j,this.handleKeydownEvent=this.handleKeydownModal.bind(this)}#U(){this.#V.button.hasAttribute("data-animateheight")&&(this.#V.button.classList.contains(this.#z.openClass)||(this.#V.panel.style.height="0px",this.#V.panel.setAttribute("aria-hidden","true"))),this.#V.button.addEventListener("click",(()=>{this.#V.button.classList.contains(this.#z.openClass)?this.#j():this.#W()})),this.#V.parent&&document.addEventListener("click",(e=>{e.target===this.#V.parent||this.#V.parent.contains(e.target)||this.#V.button.classList.contains(this.#z.openClass)&&this.#j(),this.#V.parent.contains(e.target)&&e.target.classList.contains("js-close-parent-disclosure")&&this.#j()})),this.#V.panel.addEventListener("focusout",(e=>{this.#V.panel.contains(e.relatedTarget)||null===e.relatedTarget||this.#j()}))}#G(){"none"!==getComputedStyle(this.#V.button).display?this.#V.button.classList.contains(this.#z.openClass)?(this.#V.panel.setAttribute("aria-hidden","false"),this.#V.panel.removeAttribute("inert"),this.#V.button.setAttribute("aria-expanded","true")):(this.#V.panel.setAttribute("aria-hidden","true"),this.#V.panel.setAttribute("inert",""),this.#V.button.setAttribute("aria-expanded","false")):(this.#V.panel.removeAttribute("aria-hidden"),this.#V.panel.removeAttribute("inert"))}#W(){this.#V.panel.setAttribute("aria-hidden","false"),this.#V.panel.removeAttribute("inert"),this.#V.button.setAttribute("aria-expanded","true");let e=!1;window.addEventListener("keydown",this.handleKeydownEvent);const t=this.#z.closeOthers&&window.openDisclosureButton?this.#z.animationDelay:1,i=this.#z.closeOthers&&window.openDisclosureButton?this.#z.animationDelay+2:2;window.openDisclosureButton=this.#V.button,window.openDisclosure=this,window.dispatchEvent(this.#z.closeEvent),this.#z.onOpen&&"function"==typeof this.#z.onOpen&&this.#z.onOpen(),this.#z.animateHeight&&(this.#V.panel.style.height=null,this.#V.panel.style.display="block",e=this.#V.panel.offsetHeight,this.#V.panel.style.display=null,this.#V.panel.style.height="0px"),this.#V.panel.classList.add(this.#z.openClass),this.#V.button.classList.add(this.#z.buttonOpenClass),document.body.classList.add(this.#z.bodyOpenClass),this.#V.parent&&this.#V.parent.classList.add(this.#z.openClass);const s=nn.reducedMotion?0:null;setTimeout((()=>{this.#V.panel.classList.add(this.#z.openClass),this.#V.button.classList.add(this.#z.buttonOpenClass)}),s??t),setTimeout((()=>{this.#V.panel.classList.add(this.#z.animateClass),this.#V.button.classList.add(this.#z.buttonAnimateClass),this.#V.parent&&this.#V.parent.classList.add(this.#z.animateClass),e&&(this.#V.panel.style.height=`${e}px`)}),s??i)}#j(){this.#V.panel.setAttribute("aria-hidden","true"),this.#V.panel.setAttribute("inert",""),this.#V.button.setAttribute("aria-expanded","false"),this.#V.panel.classList.remove(this.#z.animateClass),this.#V.button.classList.remove(this.#z.buttonAnimateClass),this.#V.parent&&this.#V.parent.classList.remove(this.#z.animateClass),this.#z.animateHeight&&(this.#V.panel.style.height="0px",this.#V.panel.setAttribute("aria-hidden","true"));const e=nn.reducedMotion?0:this.#z.animationDelay;setTimeout((()=>{this.#V.panel.classList.remove(this.#z.openClass),this.#V.button.classList.remove(this.#z.buttonOpenClass),this.#V.parent&&this.#V.parent.classList.remove(this.#z.openClass),window.openDisclosureButton&&window.openDisclosureButton===this.#V.button&&(window.openDisclosureButton=!1,window.openDisclosure=!1,document.body.classList.remove(this.#z.bodyOpenClass))}),e),window.removeEventListener("keydown",this.handleKeydownEvent)}handleKeydownModal(e){27===e.keyCode&&this.#j()}}!function(e,t,i,s){t.behaviors.nga_disclosure={attach:function(e){i("disclosure-button",".js-disclosure-button",e).forEach((e=>{new Xo(e)}))}}}(jQuery,Drupal,once);class Ko{constructor(e){if(this.wrapper=e,this.focusClass="is-focused",this.valueClass="has-value",(this.input=e.querySelector("input"))||(this.input=e.querySelector("textarea")))this.type="keyup",this.input.addEventListener("keyup",(()=>{this.handleValue()}));else{if(!(this.input=e.querySelector("select")))return!1;this.type="select",this.input.addEventListener("change",(()=>{this.handleValue()}))}this.handleValue(),this.input.addEventListener("focus",(()=>{this.wrapper.classList.add(this.focusClass)})),this.input.addEventListener("blur",(()=>{this.wrapper.classList.remove(this.focusClass)}))}handleValue(){""===("select"===this.type?this.input.options[this.input.selectedIndex].text:this.input.value)?this.wrapper.classList.remove(this.valueClass):this.wrapper.classList.add(this.valueClass)}}class Jo{constructor(e,t={}){this.config={modalContentClass:"js-modal-content",modalCloseBackgroundClass:"js-modal-background",openClass:"is-open",animateClass:"can-animate",toggleClass:"js-modal-toggle",toggleOpenClass:"is-open",animationDelay:240,updateHistory:!1,...t},this.config.modalID=e.getAttribute("id"),e.dataset.modalHistory&&(this.config.updateHistory="true"===e.dataset.modalHistory),e.hasAttribute("data-stay-put")||document.body.appendChild(e),this.elements={modal:e,toggleButtons:document.querySelectorAll(`.${this.config.toggleClass}[data-modalid="${this.config.modalID}"]`),focusOnClose:null},this.elements.modal.hasAttribute("data-delay")&&(this.config.animationDelay=parseInt(this.elements.modal.getAttribute("data-delay")));const i=this.elements.modal.querySelector(`.${this.config.modalCloseBackgroundClass}`);i&&(this.elements.closeBkg=i,this.handleCloseBackgroundClick()),this.state={modalOpen:!1,originalUrl:null},this.handleKeydownEvent=this.handleKeydownModal.bind(this),this.handlePopState=this.handlePopState.bind(this),window.siteHasOpenModal=!1,this.config.updateHistory&&window.addEventListener("popstate",this.handlePopState),this.init()}init(){new URLSearchParams(window.location.search).get("modal")!==this.config.modalID||window.siteHasOpenModal||(this.elements.focusOnClose=document.activeElement,this.handleOpenModal(!1)),this.elements.toggleButtons.forEach((e=>{e.addEventListener("click",(()=>{this.state.modalOpen?this.handleCloseModal(this.config.updateHistory):window.siteHasOpenModal||(this.elements.focusOnClose=e,this.handleOpenModal(this.config.updateHistory))}))}));document.querySelectorAll(`.${this.config.toggleClass}--floating-id`).forEach((e=>{e.hasAttribute("data-modalid")&&e.addEventListener("click",(()=>{e.getAttribute("data-modalID")===this.config.modalID&&(this.state.modalOpen?this.handleCloseModal(this.config.updateHistory):window.siteHasOpenModal||(this.elements.focusOnClose=e,this.handleOpenModal(this.config.updateHistory)))}))})),this.elements.modal.addEventListener("ajax-modal-close",this.handleCloseModal.bind(this,this.config.updateHistory))}handleFocusableEls(){const e=[...this.elements.modal.querySelectorAll('button, [href], input, select, textarea, iframe, [tabindex]:not([tabindex="-1"])')].filter((e=>null!==e.offsetParent));this.elements.focusableEls=e,this.elements.firstFocusableEl=this.elements.focusableEls[0],this.elements.lastFocusableEl=this.elements.focusableEls[this.elements.focusableEls.length-1]}handleOpenModal(e=!0){if(window.siteHasOpenModal=!0,e){this.state.originalUrl=window.location.href;const e=new URL(window.location.href);e.searchParams.set("modal",this.config.modalID),window.history.pushState({modalId:this.config.modalID},"",e)}const t=new Event("open-a11y-modal");window.dispatchEvent(t),this.elements.modal.dispatchEvent(t),this.elements.modal.setAttribute("aria-modal","true"),this.elements.modal.setAttribute("aria-hidden","false"),this.elements.modal.removeAttribute("inert"),this.elements.modal.classList.add(this.config.openClass),document.body.classList.add("is-locked"),document.body.classList.add(`${this.config.modalID}--open`),setTimeout((()=>{this.elements.modal.classList.add(this.config.animateClass),this.state.modalOpen=!0}),1),this.elements.toggleButtons.forEach((e=>{e.classList.add(this.config.toggleOpenClass)})),this.handleFocusableEls(),this.elements.firstFocusableEl.focus(),window.addEventListener("keydown",this.handleKeydownEvent)}handleCloseModal(e=!0){this.elements.modal.setAttribute("aria-modal","false"),this.elements.modal.setAttribute("aria-hidden","true"),this.elements.modal.setAttribute("inert",""),this.elements.modal.classList.remove(this.config.animateClass),this.elements.focusOnClose.focus(),document.body.classList.remove("is-locked"),document.body.classList.remove(`${this.config.modalID}--open`),this.elements.toggleButtons.forEach((e=>{e.classList.remove(this.config.toggleOpenClass)}));const t=new Event("close-start-a11y-modal");window.dispatchEvent(t),this.elements.modal.dispatchEvent(t);const i=nn.reducedMotion?0:this.config.animationDelay;setTimeout((()=>{this.elements.modal.classList.remove(this.config.openClass);const e=new Event("close-a11y-modal");window.dispatchEvent(e),this.elements.modal.dispatchEvent(e)}),i),window.removeEventListener("keydown",this.handleKeydownEvent),document.removeEventListener("click",this.handleClickAnywhere),e&&window.location.search.includes(`modal=${this.config.modalID}`)&&window.history.back(),window.siteHasOpenModal=!1,this.state.modalOpen=!1}handlePopState(){const e=new URLSearchParams(window.location.search).get("modal")===this.config.modalID;this.state.modalOpen&&!e?this.handleCloseModal(!1):this.state.modalOpen||!e||window.siteHasOpenModal||(this.elements.focusOnClose=document.activeElement,this.handleOpenModal(!1))}handleKeydownModal(e){27===e.keyCode?this.handleCloseModal(this.config.updateHistory):"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===this.elements.firstFocusableEl&&(this.elements.lastFocusableEl.focus(),e.preventDefault()):document.activeElement===this.elements.lastFocusableEl&&(this.elements.firstFocusableEl.focus(),e.preventDefault()))}handleCloseBackgroundClick(){document.addEventListener("click",(e=>{this.state.modalOpen&&e.target===this.elements.closeBkg&&this.handleCloseModal(this.config.updateHistory)}))}}!function(e,t,i){t.behaviors.nga_modals={attach:function(e){i("js-modal",".js-modal",e).forEach((e=>{new Jo(e)}))}}}(jQuery,Drupal,once);class Qo{constructor(e){this.element=e,this.#_(this.element)}#_(e){function t(e,t,i){e.textContent="Copied",e.setAttribute("aria-live","polite"),e.classList.add("u-sr-only"),t.insertAdjacentElement("afterend",e),i.innerText="Copied!"}function i(e){const i=e.getAttribute("data-content"),s=e.getAttribute("data-content-plain"),n=new Blob([i],{type:"text/html"}),r=new Blob([s],{type:"text/plain"}),o=new ClipboardItem({"text/html":n,"text/plain":r}),a=e.querySelector(".o-button__text"),l=document.createElement("div");navigator.userAgent.includes("Chrome")?navigator.permissions.query({name:"clipboard-write"}).then((i=>{"granted"!==i.state&&"prompt"!==i.state||navigator.clipboard.write([o]).then((()=>{t(l,e,a)}))})):navigator.clipboard.write([o]).then((()=>{t(l,e,a)})).catch((e=>{console.error("Error copying text:",e)}))}e.addEventListener("mousedown",(()=>{i(e)})),e.addEventListener("keydown",(function(t){13!==t.keyCode&&32!==t.keyCode||i(e)}))}}var ea="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ia={exports:{}};!function(e){
//! openseadragon 4.1.1
//! Built on 2024-04-01
//! Git commit: v4.1.1-0-f90d9814
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function t(e){return new t.Viewer(e)}var i,s,n,r;!function(e){e.version={versionStr:"4.1.1",major:parseInt("4",10),minor:parseInt("1",10),revision:parseInt("1",10)};var i,s={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},n=Object.prototype.toString,r=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null==e?String(e):s[n.call(e)]||"object"},e.isPlainObject=function(i){if(!i||"object"!==t.type(i)||i.nodeType||e.isWindow(i))return!1;if(i.constructor&&!r.call(i,"constructor")&&!r.call(i.constructor.prototype,"isPrototypeOf"))return!1;var s;for(var n in i)s=n;return void 0===s||r.call(i,s)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=(i=document.createElement("canvas"),!(!e.isFunction(i.getContext)||!i.getContext("2d"))),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.supportsAddEventListener=!(!document.documentElement.addEventListener||!document.addEventListener),e.supportsRemoveEventListener=!(!document.documentElement.removeEventListener||!document.removeEventListener),e.supportsEventListenerOptions=function(){var t=0;if(e.supportsAddEventListener)try{var i={get capture(){return t++,!1},get once(){return t++,!1},get passive(){return t++,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch(e){t=0}return t>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),i=window.devicePixelRatio||1,s=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(i,1)/s}return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()}(t),function(e){e.extend=function(){var i,s,n,r,o,a,l=arguments[0]||{},c=arguments.length,u=!1,h=1;for("boolean"==typeof l&&(u=l,l=arguments[1]||{},h=2),"object"==typeof l||t.isFunction(l)||(l={}),c===h&&(l=this,--h);h<c;h++)if(null!==(i=arguments[h])||void 0!==i)for(s in i){var d=Object.getOwnPropertyDescriptor(i,s);void 0!==d?d.get||d.set?Object.defineProperty(l,s,d):l!==(r=d.value)&&(u&&r&&(t.isPlainObject(r)||(o=t.isArray(r)))?(n=l[s],o?(o=!1,a=n&&t.isArray(n)?n:[]):a=n&&t.isPlainObject(n)?n:{},l[s]=t.extend(u,a,r)):void 0!==r&&(l[s]=r)):e.console.warn('Could not copy inherited property "'+s+'".')}return l};e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))}(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var i=arguments;return void 0===i&&(i=[]),t.apply(e,i)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(t){return e._viewers.get(this.getElement(t))},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(t){var i,s,n=new e.Point;for(s=r(t=e.getElement(t),i="fixed"===e.getElementStyle(t).position);s;)n.x+=t.offsetLeft,n.y+=t.offsetTop,i&&(n=n.plus(e.getPageScroll())),s=r(t=s,i="fixed"===e.getElementStyle(t).position);return n},getElementOffset:function(t){var i,s,n=(t=e.getElement(t))&&t.ownerDocument,r={top:0,left:0};return n?(i=n.documentElement,void 0!==t.getBoundingClientRect&&(r=t.getBoundingClientRect()),s=n===n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow),new e.Point(r.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0),r.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0))):new e.Point},getElementSize:function(t){return t=e.getElement(t),new e.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return(t=e.getElement(t)).currentStyle}:function(t){return t=e.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var i={};return e.getCssPropertyWithVendorPrefix=function(t){if(void 0!==i[t])return i[t];var s=document.createElement("div").style,n=null;if(void 0!==s[t])n=t;else for(var r=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=e.capitalizeFirstLetter(t),a=0;a<r.length;a++){var l=r[a]+o;if(void 0!==s[l]){n=l;break}}return i[t]=n,n},e.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var i=e%t;return i<0&&(i+=t),i},pointInElement:function(t,i){t=e.getElement(t);var s=e.getElementOffset(t),n=e.getElementSize(t);return i.x>=s.x&&i.x<s.x+n.x&&i.y<s.y+n.y&&i.y>=s.y},getMousePosition:function(t){if("number"==typeof t.pageX)e.getMousePosition=function(t){var i=new e.Point;return i.x=t.pageX,i.y=t.pageY,i};else{if("number"!=typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");e.getMousePosition=function(t){var i=new e.Point;return i.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,i}}return e.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},i=document.body||{};if("number"==typeof window.pageXOffset)e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(i.scrollLeft||i.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new e.Point(0,0);e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return e.getPageScroll()},setPageScroll:function(t){if(void 0!==window.scrollTo)e.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var i=e.getPageScroll();if(i.x===t.x&&i.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var s=e.getPageScroll();if(s.x!==i.x&&s.y!==i.y)return void(e.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,(s=e.getPageScroll()).x!==i.x&&s.y!==i.y)return void(e.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});e.setPageScroll=function(e){}}e.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},i=document.body||{};if("number"==typeof window.innerWidth)e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!i.clientWidth&&!i.clientHeight)throw new Error("Unknown window size, no known technique.");e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)}}return e.getWindowSize()},makeCenteredNode:function(t){t=e.getElement(t);var i=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(i[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(i[1].style,{display:"table-row"}),e.extend(i[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),i[0].appendChild(i[1]),i[1].appendChild(i[2]),i[2].appendChild(t),i[0]},makeNeutralElement:function(e){var t=document.createElement(e),i=t.style;return i.background="transparent none",i.border="none",i.margin="0px",i.padding="0px",i.position="static",t},now:function(){return Date.now?e.now=Date.now:e.now=function(){return(new Date).getTime()},e.now()},makeTransparentImage:function(t){var i=e.makeNeutralElement("img");return i.src=t,i},setElementOpacity:function(t,i,s){var n;t=e.getElement(t),s&&!e.Browser.alpha&&(i=Math.round(i)),e.Browser.opacity?t.style.opacity=i<1?i:"":i<1?(n="alpha(opacity="+Math.round(100*i)+")",t.style.filter=n):t.style.filter=""},setElementTouchActionNone:function(t){void 0!==(t=e.getElement(t)).style.touchAction?t.style.touchAction="none":void 0!==t.style.msTouchAction&&(t.style.msTouchAction="none")},setElementPointerEvents:function(t,i){void 0!==(t=e.getElement(t)).style&&void 0!==t.style.pointerEvents&&(t.style.pointerEvents=i)},setElementPointerEventsNone:function(t){e.setElementPointerEvents(t,"none")},addClass:function(t,i){(t=e.getElement(t)).className?-1===(" "+t.className+" ").indexOf(" "+i+" ")&&(t.className+=" "+i):t.className=i},indexOf:function(e,t,i){return Array.prototype.indexOf?this.indexOf=function(e,t,i){return e.indexOf(t,i)}:this.indexOf=function(e,t,i){var s,n,r=i||0;if(!e)throw new TypeError;if(0===(n=e.length)||r>=n)return-1;for(r<0&&(r=n-Math.abs(r)),s=r;s<n;s++)if(e[s]===t)return s;return-1},this.indexOf(e,t,i)},removeClass:function(t,i){var s,n,r=[];for(s=(t=e.getElement(t)).className.split(/\s+/),n=0;n<s.length;n++)s[n]&&s[n]!==i&&r.push(s[n]);t.className=r.join(" ")},normalizeEventListenerOptions:function(t){return void 0!==t?"boolean"==typeof t?e.supportsEventListenerOptions?{capture:t}:t:e.supportsEventListenerOptions?t:void 0!==t.capture&&t.capture:!!e.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if(e.supportsAddEventListener)return function(t,i,s,n){n=e.normalizeEventListenerOptions(n),(t=e.getElement(t)).addEventListener(i,s,n)};if(document.documentElement.attachEvent&&document.attachEvent)return function(t,i,s){(t=e.getElement(t)).attachEvent("on"+i,s)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(t,i,s,n){n=e.normalizeEventListenerOptions(n),(t=e.getElement(t)).removeEventListener(i,s,n)};if(document.documentElement.detachEvent&&document.detachEvent)return function(t,i,s){(t=e.getElement(t)).detachEvent("on"+i,s)};throw new Error("No known event model.")}(),cancelEvent:function(e){e.preventDefault()},eventIsCanceled:function(e){return e.defaultPrevented},stopEvent:function(e){e.stopPropagation()},createCallback:function(e,t){var i,s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);return function(){var i,n=s.concat([]);for(i=0;i<arguments.length;i++)n.push(arguments[i]);return t.apply(e,n)}},getUrlParameter:function(e){var t=n[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(t){var i;try{i=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){i=!1}if(i)window.XMLHttpRequest?e.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:e.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");e.createAjaxRequest=function(){return new XMLHttpRequest}}return e.createAjaxRequest(t)},makeAjaxRequest:function(t,i,s){var n,r,o,a;e.isPlainObject(t)&&(i=t.success,s=t.error,n=t.withCredentials,r=t.headers,o=t.responseType||null,a=t.postData||null,t=t.url);var l=e.getUrlProtocol(t),c=e.createAjaxRequest("file:"===l);if(!e.isFunction(i))throw new Error("makeAjaxRequest requires a success callback");c.onreadystatechange=function(){4===c.readyState&&(c.onreadystatechange=function(){},c.status>=200&&c.status<300||0===c.status&&"http:"!==l&&"https:"!==l?i(c):e.isFunction(s)?s(c):e.console.error("AJAX request returned %d: %s",c.status,t))};var u=a?"POST":"GET";try{if(c.open(u,t,!0),o&&(c.responseType=o),r)for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&r[h]&&c.setRequestHeader(h,r[h]);n&&(c.withCredentials=!0),c.send(a)}catch(t){e.console.error("%s while making AJAX request: %s",t.name,t.message),c.onreadystatechange=function(){},e.isFunction(s)&&s(c,t)}return c},jsonp:function(t){var i,s=t.url,n=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=t.callbackName||"openseadragon"+e.now(),o=window[r],a="$1"+r+"$2",l=t.param||"callback",c=t.callback;s=s.replace(/(=)\?(&|$)|\?\?/i,a),s+=(/\?/.test(s)?"&":"?")+l+"="+r,window[r]=function(t){if(o)window[r]=o;else try{delete window[r]}catch(e){}c&&e.isFunction(c)&&c(t)},i=document.createElement("script"),void 0===t.async&&!1===t.async||(i.async="async"),t.scriptCharset&&(i.charset=t.scriptCharset),i.src=s,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=void 0)},n.insertBefore(i,n.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(window.DOMParser)e.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");e.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return e.parseXml(t)},parseJSON:function(t){return e.parseJSON=window.JSON.parse,e.parseJSON(t)},imageFormatSupported:function(e){return!!s[(e=e||"").toLowerCase()]},setImageFormatsSupported:function(t){e.extend(s,t)}});var i=function(e){};e.console=window.console||{log:i,debug:i,info:i,warn:i,error:i,assert:i},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var s={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},n={};function r(e,t){return t&&e!==document.body?document.body:e.offsetParent}!function(){var t=navigator.appVersion,i=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(i.substring(i.indexOf("MSIE")+5,i.indexOf(";",i.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(i.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(i.substring(i.indexOf("Edge")+5))):i.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(i.substring(i.indexOf("Edg")+4))):i.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(i.substring(i.indexOf("Firefox")+8))):i.indexOf("Safari")>=0?(e.Browser.vendor=i.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(i.substring(i.substring(0,i.indexOf("Safari")).lastIndexOf("/")+1,i.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(t)}var s,r,o,a=window.location.search.substring(1).split("&");for(o=0;o<a.length;o++)if((r=(s=a[o]).indexOf("="))>0){var l=s.substring(0,r),c=s.substring(r+1);try{n[l]=decodeURIComponent(c)}catch(t){e.console.error("Ignoring malformed URL parameter: %s=%s",l,c)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<11&&e.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")}(),function(t){var i=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,s=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(i&&s)e.requestAnimationFrame=function(){return i.apply(t,arguments)},e.cancelAnimationFrame=function(){return s.apply(t,arguments)};else{var n,r=[],o=[],a=0;e.requestAnimationFrame=function(t){return r.push([++a,t]),n||(n=setInterval((function(){if(r.length){var t=e.now(),i=o;for(o=r,r=i;o.length;)o.shift()[1](t)}else clearInterval(n),n=void 0}),20)),a},e.cancelAnimationFrame=function(e){var t,i;for(t=0,i=r.length;t<i;t+=1)if(r[t][0]===e)return void r.splice(t,1);for(t=0,i=o.length;t<i;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(t),i=ea,s=function(){return t},e.exports?e.exports=s():i.OpenSeadragon=s(),n=t,r={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.fullscreenElement},r.requestFullScreen=function(e){return e.requestFullscreen()},r.exitFullScreen=function(){document.exitFullscreen()},r.fullScreenEventName="fullscreenchange",r.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.msFullscreenElement},r.requestFullScreen=function(e){return e.msRequestFullscreen()},r.exitFullScreen=function(){document.msExitFullscreen()},r.fullScreenEventName="MSFullscreenChange",r.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitFullscreenElement},r.requestFullScreen=function(e){return e.webkitRequestFullscreen()},r.exitFullScreen=function(){document.webkitExitFullscreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},r.requestFullScreen=function(e){return e.webkitRequestFullScreen()},r.exitFullScreen=function(){document.webkitCancelFullScreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.mozFullScreenElement},r.requestFullScreen=function(e){return e.mozRequestFullScreen()},r.exitFullScreen=function(){document.mozCancelFullScreen()},r.fullScreenEventName="mozfullscreenchange",r.fullScreenErrorEventName="mozfullscreenerror"),r.isFullScreen=function(){return null!==r.getFullScreenElement()},r.cancelFullScreen=function(){n.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),r.exitFullScreen()},n.extend(n,r),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,i,s,n){var r=this;s=s||1;var o=0,a=function(i){return++o===s&&r.removeHandler(e,a),t(i)};this.addHandler(e,a,i,n)},addHandler:function(t,i,s,n){var r=this.events[t];if(r||(this.events[t]=r=[]),i&&e.isFunction(i)){var o=r.length,a={handler:i,userData:s||null,priority:n||0};for(r[o]=a;o>0&&r[o-1].priority<r[o].priority;)r[o]=r[o-1],r[o-1]=a,o--}},removeHandler:function(t,i){var s,n=this.events[t],r=[];if(n&&e.isArray(n)){for(s=0;s<n.length;s++)n[s].handler!==i&&r.push(n[s]);this.events[t]=r}},numberOfHandlers:function(e){var t=this.events[e];return t?t.length:0},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,i){var s,n=t.length;for(s=0;s<n;s++)t[s]&&(i.eventSource=e,i.userData=t[s].userData,t[s].handler(i))}):null},raiseEvent:function(e,t){var i=this.getHandler(e);if(i)return i(this,t||{})}}}(t),function(e){var t={};e.MouseTracker=function(i){var s=arguments;e.isPlainObject(i)||(i={element:s[0],clickTimeThreshold:s[1],clickDistThreshold:s[2]}),this.hash=Math.random(),this.element=e.getElement(i.element),this.clickTimeThreshold=i.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=i.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=i.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=i.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=i.userData||null,this.stopDelay=i.stopDelay||50,this.preProcessEventHandler=i.preProcessEventHandler||null,this.contextMenuHandler=i.contextMenuHandler||null,this.enterHandler=i.enterHandler||null,this.leaveHandler=i.leaveHandler||null,this.exitHandler=i.exitHandler||null,this.overHandler=i.overHandler||null,this.outHandler=i.outHandler||null,this.pressHandler=i.pressHandler||null,this.nonPrimaryPressHandler=i.nonPrimaryPressHandler||null,this.releaseHandler=i.releaseHandler||null,this.nonPrimaryReleaseHandler=i.nonPrimaryReleaseHandler||null,this.moveHandler=i.moveHandler||null,this.scrollHandler=i.scrollHandler||null,this.clickHandler=i.clickHandler||null,this.dblClickHandler=i.dblClickHandler||null,this.dragHandler=i.dragHandler||null,this.dragEndHandler=i.dragEndHandler||null,this.pinchHandler=i.pinchHandler||null,this.stopHandler=i.stopHandler||null,this.keyDownHandler=i.keyDownHandler||null,this.keyUpHandler=i.keyUpHandler||null,this.keyHandler=i.keyHandler||null,this.focusHandler=i.focusHandler||null,this.blurHandler=i.blurHandler||null;var n=this;t[this.hash]={click:function(t){!function(t,i){var s={originalEvent:i,eventType:"click",pointerType:"mouse",isEmulated:!1};I(t,s),s.preventDefault&&!s.defaultPrevented&&e.cancelEvent(i);s.stopPropagation&&e.stopEvent(i)}(n,t)},dblclick:function(t){!function(t,i){var s={originalEvent:i,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};I(t,s),s.preventDefault&&!s.defaultPrevented&&e.cancelEvent(i);s.stopPropagation&&e.stopEvent(i)}(n,t)},keydown:function(t){!function(t,i){var s=null,n={originalEvent:i,eventType:"keydown",pointerType:"",isEmulated:!1};I(t,n),!t.keyDownHandler||n.preventGesture||n.defaultPrevented||(s={eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefault:n.preventDefault||n.defaultPrevented,userData:t.userData},t.keyDownHandler(s));(s&&s.preventDefault||n.preventDefault&&!n.defaultPrevented)&&e.cancelEvent(i);n.stopPropagation&&e.stopEvent(i)}(n,t)},keyup:function(t){!function(t,i){var s=null,n={originalEvent:i,eventType:"keyup",pointerType:"",isEmulated:!1};I(t,n),!t.keyUpHandler||n.preventGesture||n.defaultPrevented||(s={eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefault:n.preventDefault||n.defaultPrevented,userData:t.userData},t.keyUpHandler(s));(s&&s.preventDefault||n.preventDefault&&!n.defaultPrevented)&&e.cancelEvent(i);n.stopPropagation&&e.stopEvent(i)}(n,t)},keypress:function(t){!function(t,i){var s=null,n={originalEvent:i,eventType:"keypress",pointerType:"",isEmulated:!1};I(t,n),!t.keyHandler||n.preventGesture||n.defaultPrevented||(s={eventSource:t,keyCode:i.keyCode?i.keyCode:i.charCode,ctrl:i.ctrlKey,shift:i.shiftKey,alt:i.altKey,meta:i.metaKey,originalEvent:i,preventDefault:n.preventDefault||n.defaultPrevented,userData:t.userData},t.keyHandler(s));(s&&s.preventDefault||n.preventDefault&&!n.defaultPrevented)&&e.cancelEvent(i);n.stopPropagation&&e.stopEvent(i)}(n,t)},focus:function(e){!function(e,t){var i={originalEvent:t,eventType:"focus",pointerType:"",isEmulated:!1};I(e,i),e.focusHandler&&!i.preventGesture&&e.focusHandler({eventSource:e,originalEvent:t,userData:e.userData})}(n,e)},blur:function(e){!function(e,t){var i={originalEvent:t,eventType:"blur",pointerType:"",isEmulated:!1};I(e,i),e.blurHandler&&!i.preventGesture&&e.blurHandler({eventSource:e,originalEvent:t,userData:e.userData})}(n,e)},contextmenu:function(t){!function(t,i){var s=null,n={originalEvent:i,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};I(t,n),!t.contextMenuHandler||n.preventGesture||n.defaultPrevented||(s={eventSource:t,position:w(v(i),t.element),originalEvent:n.originalEvent,preventDefault:n.preventDefault||n.defaultPrevented,userData:t.userData},t.contextMenuHandler(s));(s&&s.preventDefault||n.preventDefault&&!n.defaultPrevented)&&e.cancelEvent(i);n.stopPropagation&&e.stopEvent(i)}(n,t)},wheel:function(e){!function(e,t){S(e,t,t)}(n,e)},mousewheel:function(e){T(n,e)},DOMMouseScroll:function(e){T(n,e)},MozMousePixelScroll:function(e){T(n,e)},losecapture:function(t){!function(t,i){var s={id:e.MouseTracker.mousePointerId,type:"mouse"},n={originalEvent:i,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};I(t,n),i.target===t.element&&O(t,s,!1);n.stopPropagation&&e.stopEvent(i)}(n,t)},mouseenter:function(e){x(n,e)},mouseleave:function(e){E(n,e)},mouseover:function(e){C(n,e)},mouseout:function(e){k(n,e)},mousedown:function(e){_(n,e)},mouseup:function(e){D(n,e)},mousemove:function(e){A(n,e)},touchstart:function(t){!function(t,i){var s,n,r,o=i.changedTouches.length,a=t.getActivePointersListByType("touch");s=e.now(),a.getLength()>i.touches.length-o&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var l={originalEvent:i,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(I(t,l),n=0;n<o;n++)N(t,l,r={id:i.changedTouches[n].identifier,type:"touch",isPrimary:0===a.getLength(),currentPos:v(i.changedTouches[n]),currentTime:s}),H(t,l,r,0),O(t,r,!0);l.preventDefault&&!l.defaultPrevented&&e.cancelEvent(i);l.stopPropagation&&e.stopEvent(i)}(n,t)},touchend:function(t){!function(t,i){var s,n,r,o=i.changedTouches.length;s=e.now();var a={originalEvent:i,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(I(t,a),n=0;n<o;n++)F(t,a,r={id:i.changedTouches[n].identifier,type:"touch",currentPos:v(i.changedTouches[n]),currentTime:s},0),O(t,r,!1),B(t,a,r);a.preventDefault&&!a.defaultPrevented&&e.cancelEvent(i);a.stopPropagation&&e.stopEvent(i)}(n,t)},touchmove:function(t){!function(t,i){var s,n,r=i.changedTouches.length;s=e.now();var o={originalEvent:i,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(I(t,o),n=0;n<r;n++)q(t,o,{id:i.changedTouches[n].identifier,type:"touch",currentPos:v(i.changedTouches[n]),currentTime:s});o.preventDefault&&!o.defaultPrevented&&e.cancelEvent(i);o.stopPropagation&&e.stopEvent(i)}(n,t)},touchcancel:function(t){!function(t,i){var s,n=i.changedTouches.length,r={originalEvent:i,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(I(t,r),s=0;s<n;s++)z(t,r,{id:i.changedTouches[s].identifier,type:"touch"});r.stopPropagation&&e.stopEvent(i)}(n,t)},gesturestart:function(t){!function(t,i){e.eventIsCanceled(i)||i.preventDefault()}(0,t)},gesturechange:function(t){!function(t,i){e.eventIsCanceled(i)||i.preventDefault()}(0,t)},gotpointercapture:function(t){!function(t,i){var s={originalEvent:i,eventType:"gotpointercapture",pointerType:g(i),isEmulated:!1};I(t,s),i.target===t.element&&O(t,{id:i.pointerId,type:g(i)},!0);s.stopPropagation&&e.stopEvent(i)}(n,t)},lostpointercapture:function(t){!function(t,i){var s={originalEvent:i,eventType:"lostpointercapture",pointerType:g(i),isEmulated:!1};I(t,s),i.target===t.element&&O(t,{id:i.pointerId,type:g(i)},!1);s.stopPropagation&&e.stopEvent(i)}(n,t)},pointerenter:function(e){x(n,e)},pointerleave:function(e){E(n,e)},pointerover:function(e){C(n,e)},pointerout:function(e){k(n,e)},pointerdown:function(e){_(n,e)},pointerup:function(e){D(n,e)},pointermove:function(e){A(n,e)},pointercancel:function(t){!function(t,i){var s={id:i.pointerId,type:g(i)},n={originalEvent:i,eventType:"pointercancel",pointerType:s.type,isEmulated:!1};I(t,n),z(t,n,s),n.stopPropagation&&e.stopEvent(i)}(n,t)},pointerupcaptured:function(t){!function(t,i){var s=t.getActivePointersListByType(g(i));s.getById(i.pointerId)&&P(t,i);e.stopEvent(i)}(n,t)},pointermovecaptured:function(t){!function(t,i){var s=t.getActivePointersListByType(g(i));s.getById(i.pointerId)&&M(t,i);e.stopEvent(i)}(n,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),i.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){h(this),this.element=null,t[this.hash]=null,delete t[this.hash]},isTracking:function(){return t[this.hash].tracking},setTracking:function(i){return i?function(i){var s,n,r=t[i.hash];if(!r.tracking){for(n=0;n<e.MouseTracker.subscribeEvents.length;n++)s=e.MouseTracker.subscribeEvents[n],e.addEvent(i.element,s,r[s],s===e.MouseTracker.wheelEventName&&{passive:!1,capture:!1});u(i),r.tracking=!0}}(this):h(this),this},getActivePointersListByType:function(i){var s,n,r=t[this.hash],o=r.activePointersLists.length;for(s=0;s<o;s++)if(r.activePointersLists[s].type===i)return r.activePointersLists[s];return n=new e.MouseTracker.GesturePointList(i),r.activePointersLists.push(n),n},getActivePointerCount:function(){var e,i=t[this.hash],s=i.activePointersLists.length,n=0;for(e=0;e<s;e++)n+=i.activePointersLists[e].getLength();return n},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var i,s,n,r,o,a,l=function(){try{return window.self!==window.top}catch(e){return!0}}();function c(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}function u(e){var i,s,n,r,o,a=t[e.hash],l=a.activePointersLists.length;for(i=0;i<l;i++)if((n=a.activePointersLists[i]).getLength()>0){for(o=[],r=n.asArray(),s=0;s<r.length;s++)o.push(r[s]);for(s=0;s<o.length;s++)R(e,n,o[s])}for(i=0;i<l;i++)a.activePointersLists.pop();a.sentDragEvent=!1}function h(i){var s,n,r=t[i.hash];if(r.tracking){for(n=0;n<e.MouseTracker.subscribeEvents.length;n++)s=e.MouseTracker.subscribeEvents[n],e.removeEvent(i.element,s,r[s],!1);u(i),r.tracking=!1}}function d(e,i){var s=t[e.hash];if("pointerevent"===i)return{upName:"pointerup",upHandler:s.pointerupcaptured,moveName:"pointermove",moveHandler:s.pointermovecaptured};if("mouse"===i)return{upName:"pointerup",upHandler:s.pointerupcaptured,moveName:"pointermove",moveHandler:s.pointermovecaptured};if("touch"===i)return{upName:"touchend",upHandler:s.touchendcaptured,moveName:"touchmove",moveHandler:s.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function p(t,i){var s,n;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(!(n=t.getActivePointersListByType(i.type).getById(i.id))||!n.captured)return;try{t.element.releasePointerCapture(i.id)}catch(e){}}else t.element.releaseCapture();else s=d(t,e.MouseTracker.havePointerEvents?"pointerevent":i.type),l&&c(window.top)&&e.removeEvent(window.top,s.upName,s.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,s.moveName,s.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,s.upName,s.upHandler,!0);O(t,i,!1)}function m(t){return e.MouseTracker.havePointerEvents?t.pointerId:e.MouseTracker.mousePointerId}function g(t){return e.MouseTracker.havePointerEvents?t.pointerType||(e.Browser.vendor===e.BROWSERS.IE?"mouse":""):"mouse"}function f(t){return!e.MouseTracker.havePointerEvents||t.isPrimary}function v(t){return e.getMousePosition(t)}function y(e,t){return w(v(e),t)}function w(t,i){var s=e.getElementOffset(i);return t.minus(s)}function b(t,i){return new e.Point((t.x+i.x)/2,(t.y+i.y)/2)}function T(t,i){var s={target:i.target||i.srcElement,type:"wheel",shiftKey:i.shiftKey||!1,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX?i.pageX:i.clientX,pageY:i.pageY?i.pageY:i.clientY,deltaMode:"MozMousePixelScroll"===i.type?0:1,deltaX:0,deltaZ:0};"mousewheel"===e.MouseTracker.wheelEventName?s.deltaY=-i.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:s.deltaY=i.detail,S(t,s,i)}function S(t,i,s){var n,r,o=null;n=i.deltaY<0?1:-1,I(t,r={originalEvent:i,eventType:"wheel",pointerType:"mouse",isEmulated:i!==s}),!t.scrollHandler||r.preventGesture||r.defaultPrevented||(o={eventSource:t,pointerType:"mouse",position:y(i,t.element),scroll:n,shift:i.shiftKey,isTouchEvent:!1,originalEvent:s,preventDefault:r.preventDefault||r.defaultPrevented,userData:t.userData},t.scrollHandler(o)),r.stopPropagation&&e.stopEvent(s),(o&&o.preventDefault||r.preventDefault&&!r.defaultPrevented)&&e.cancelEvent(s)}function x(t,i){var s={id:m(i),type:g(i),isPrimary:f(i),currentPos:v(i),currentTime:e.now()},n={originalEvent:i,eventType:"pointerenter",pointerType:s.type,isEmulated:!1};I(t,n),N(t,n,s)}function E(t,i){var s={id:m(i),type:g(i),isPrimary:f(i),currentPos:v(i),currentTime:e.now()},n={originalEvent:i,eventType:"pointerleave",pointerType:s.type,isEmulated:!1};I(t,n),B(t,n,s)}function C(t,i){var s={id:m(i),type:g(i),isPrimary:f(i),currentPos:v(i),currentTime:e.now()},n={originalEvent:i,eventType:"pointerover",pointerType:s.type,isEmulated:!1};I(t,n),function(e,t,i){var s,n;s=e.getActivePointersListByType(i.type),n=s.getById(i.id),n?i=n:(i.captured=!1,i.insideElementPressed=!1);e.overHandler&&e.overHandler({eventSource:e,pointerType:i.type,position:w(i.currentPos,e.element),buttons:s.buttons,pointers:e.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})}(t,n,s),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(i),n.stopPropagation&&e.stopEvent(i)}function k(t,i){var s={id:m(i),type:g(i),isPrimary:f(i),currentPos:v(i),currentTime:e.now()},n={originalEvent:i,eventType:"pointerout",pointerType:s.type,isEmulated:!1};I(t,n),function(e,t,i){var s,n;s=e.getActivePointersListByType(i.type),n=s.getById(i.id),n?i=n:(i.captured=!1,i.insideElementPressed=!1);e.outHandler&&e.outHandler({eventSource:e,pointerType:i.type,position:i.currentPos&&w(i.currentPos,e.element),buttons:s.buttons,pointers:e.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})}(t,n,s),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(i),n.stopPropagation&&e.stopEvent(i)}function _(t,i){var s={id:m(i),type:g(i),isPrimary:f(i),currentPos:v(i),currentTime:e.now()},n=e.MouseTracker.havePointerEvents&&"touch"===s.type&&e.Browser.vendor!==e.BROWSERS.IE,r={originalEvent:i,eventType:"pointerdown",pointerType:s.type,isEmulated:!1};I(t,r),H(t,r,s,i.button),r.preventDefault&&!r.defaultPrevented&&e.cancelEvent(i),r.stopPropagation&&e.stopEvent(i),r.shouldCapture&&(n?O(t,s,!0):function(t,i){var s;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{t.element.setPointerCapture(i.id)}catch(t){return void e.console.warn("setPointerCapture() called on invalid pointer ID")}else t.element.setCapture(!0);else s=d(t,e.MouseTracker.havePointerEvents?"pointerevent":i.type),l&&c(window.top)&&e.addEvent(window.top,s.upName,s.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,s.upName,s.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,s.moveName,s.moveHandler,!0);O(t,i,!0)}(t,s))}function D(e,t){P(e,t)}function P(t,i){var s,n={originalEvent:i,eventType:"pointerup",pointerType:(s={id:m(i),type:g(i),isPrimary:f(i),currentPos:v(i),currentTime:e.now()}).type,isEmulated:!1};I(t,n),F(t,n,s,i.button),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(i),n.stopPropagation&&e.stopEvent(i),n.shouldReleaseCapture&&(i.target===t.element?p(t,s):O(t,s,!1))}function A(e,t){M(e,t)}function M(t,i){var s={id:m(i),type:g(i),isPrimary:f(i),currentPos:v(i),currentTime:e.now()},n={originalEvent:i,eventType:"pointermove",pointerType:s.type,isEmulated:!1};I(t,n),q(t,n,s),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(i),n.stopPropagation&&e.stopEvent(i)}function L(e,t){return t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function R(t,i,s){var n,r=i.getById(s.id);return r?(r.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),p(t,r)),i.removeContact(),n=i.removeById(s.id)):n=i.getLength(),n}function I(t,i){i.eventSource=t,i.eventPhase=i.originalEvent&&void 0!==i.originalEvent.eventPhase?i.originalEvent.eventPhase:0,i.defaultPrevented=e.eventIsCanceled(i.originalEvent),i.shouldCapture=!1,i.shouldReleaseCapture=!1,i.userData=t.userData,function(e,t){switch(t.eventType){case"pointermove":case"pointerdown":case"pointerup":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"wheel":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasScrollHandler,t.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":t.isStoppable=!0,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"click":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.clickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;case"dblclick":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.dblClickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;default:t.isStoppable=!1,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1}}(t,i),t.preProcessEventHandler&&t.preProcessEventHandler(i)}function O(t,i,s){var n=t.getActivePointersListByType(i.type),r=n.getById(i.id);r?s&&!r.captured?(r.captured=!0,n.captureCount++):!s&&r.captured&&(r.captured=!1,n.captureCount--,n.captureCount<0&&(n.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function N(e,t,i){var s,n=e.getActivePointersListByType(i.type);(s=n.getById(i.id))?(s.insideElement=!0,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=i.currentPos,s.currentTime=i.currentTime,i=s):(i.captured=!1,i.insideElementPressed=!1,i.insideElement=!0,L(n,i)),e.enterHandler&&e.enterHandler({eventSource:e,pointerType:i.type,position:w(i.currentPos,e.element),buttons:n.buttons,pointers:e.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==n.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})}function B(e,t,i){var s,n,r=e.getActivePointersListByType(i.type);(s=r.getById(i.id))?(s.captured?(s.insideElement=!1,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=i.currentPos,s.currentTime=i.currentTime):R(e,r,s),i=s):(i.captured=!1,i.insideElementPressed=!1),(e.leaveHandler||e.exitHandler)&&(n={eventSource:e,pointerType:i.type,position:i.currentPos&&w(i.currentPos,e.element),buttons:r.buttons,pointers:e.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==r.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData},e.leaveHandler&&e.leaveHandler(n),e.exitHandler&&e.exitHandler(n))}function H(i,s,n,r){var o,a=t[i.hash],l=i.getActivePointersListByType(n.type);if(void 0!==s.originalEvent.buttons?l.buttons=s.originalEvent.buttons:0===r?l.buttons|=1:1===r?l.buttons|=4:2===r?l.buttons|=2:3===r?l.buttons|=8:4===r?l.buttons|=16:5===r&&(l.buttons|=32),0!==r)return s.shouldCapture=!1,s.shouldReleaseCapture=!1,void(!i.nonPrimaryPressHandler||s.preventGesture||s.defaultPrevented||(s.preventDefault=!0,i.nonPrimaryPressHandler({eventSource:i,pointerType:n.type,position:w(n.currentPos,i.element),button:r,buttons:l.buttons,isTouchEvent:"touch"===n.type,originalEvent:s.originalEvent,userData:i.userData})));(o=l.getById(n.id))?(o.insideElementPressed=!0,o.insideElement=!0,o.originalTarget=s.originalEvent.target,o.contactPos=n.currentPos,o.contactTime=n.currentTime,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=n.currentPos,o.currentTime=n.currentTime,n=o):(n.captured=!1,n.insideElementPressed=!0,n.insideElement=!0,n.originalTarget=s.originalEvent.target,L(l,n)),l.addContact(),s.preventGesture||s.defaultPrevented?(s.shouldCapture=!1,s.shouldReleaseCapture=!1):(s.shouldCapture=!0,s.shouldReleaseCapture=!1,s.preventDefault=!0,(i.dragHandler||i.dragEndHandler||i.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(i,n),1===l.contacts?i.pressHandler&&!s.preventGesture&&i.pressHandler({eventSource:i,pointerType:n.type,position:w(n.contactPos,i.element),buttons:l.buttons,isTouchEvent:"touch"===n.type,originalEvent:s.originalEvent,userData:i.userData}):2===l.contacts&&i.pinchHandler&&"touch"===n.type&&(a.pinchGPoints=l.asArray(),a.lastPinchDist=a.currentPinchDist=a.pinchGPoints[0].currentPos.distanceTo(a.pinchGPoints[1].currentPos),a.lastPinchCenter=a.currentPinchCenter=b(a.pinchGPoints[0].currentPos,a.pinchGPoints[1].currentPos)))}function F(i,s,n,r){var o,a,l,c,u=t[i.hash],h=i.getActivePointersListByType(n.type),d=!1;if(void 0!==s.originalEvent.buttons?h.buttons=s.originalEvent.buttons:0===r?h.buttons^=-2:1===r?h.buttons^=-5:2===r?h.buttons^=-3:3===r?h.buttons^=-9:4===r?h.buttons^=-17:5===r&&(h.buttons^=-33),s.shouldCapture=!1,0!==r)return s.shouldReleaseCapture=!1,void(!i.nonPrimaryReleaseHandler||s.preventGesture||s.defaultPrevented||(s.preventDefault=!0,i.nonPrimaryReleaseHandler({eventSource:i,pointerType:n.type,position:w(n.currentPos,i.element),button:r,buttons:h.buttons,isTouchEvent:"touch"===n.type,originalEvent:s.originalEvent,userData:i.userData})));(l=h.getById(n.id))?(h.removeContact(),l.captured&&(d=!0),l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=n.currentPos,l.currentTime=n.currentTime,l.insideElement||R(i,h,l),o=l.currentPos,a=l.currentTime):(n.captured=!1,n.insideElementPressed=!1,n.insideElement=!0,L(h,n),l=n),s.preventGesture||s.defaultPrevented||(d?(s.shouldReleaseCapture=!0,s.preventDefault=!0,(i.dragHandler||i.dragEndHandler||i.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(i,l),0===h.contacts?(i.releaseHandler&&o&&i.releaseHandler({eventSource:i,pointerType:l.type,position:w(o,i.element),buttons:h.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:s.originalEvent,userData:i.userData}),i.dragEndHandler&&u.sentDragEvent&&i.dragEndHandler({eventSource:i,pointerType:l.type,position:w(l.currentPos,i.element),speed:l.speed,direction:l.direction,shift:s.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:s.originalEvent,userData:i.userData}),u.sentDragEvent=!1,(i.clickHandler||i.dblClickHandler)&&l.insideElement&&(c=a-l.contactTime<=i.clickTimeThreshold&&l.contactPos.distanceTo(o)<=i.clickDistThreshold,i.clickHandler&&i.clickHandler({eventSource:i,pointerType:l.type,position:w(l.currentPos,i.element),quick:c,shift:s.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:s.originalEvent,originalTarget:l.originalTarget,userData:i.userData}),i.dblClickHandler&&c&&(h.clicks++,1===h.clicks?(u.lastClickPos=o,u.dblClickTimeOut=setTimeout((function(){h.clicks=0}),i.dblClickTimeThreshold)):2===h.clicks&&(clearTimeout(u.dblClickTimeOut),h.clicks=0,u.lastClickPos.distanceTo(o)<=i.dblClickDistThreshold&&i.dblClickHandler({eventSource:i,pointerType:l.type,position:w(l.currentPos,i.element),shift:s.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:s.originalEvent,userData:i.userData}),u.lastClickPos=null)))):2===h.contacts&&i.pinchHandler&&"touch"===l.type&&(u.pinchGPoints=h.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=b(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos))):(s.shouldReleaseCapture=!1,i.releaseHandler&&o&&(i.releaseHandler({eventSource:i,pointerType:l.type,position:w(o,i.element),buttons:h.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:s.originalEvent,userData:i.userData}),s.preventDefault=!0)))}function q(e,i,s){var n,r,o,a=t[e.hash],l=e.getActivePointersListByType(s.type);void 0!==i.originalEvent.buttons&&(l.buttons=i.originalEvent.buttons),(n=l.getById(s.id))&&(n.lastPos=n.currentPos,n.lastTime=n.currentTime,n.currentPos=s.currentPos,n.currentTime=s.currentTime,i.shouldCapture=!1,i.shouldReleaseCapture=!1,e.stopHandler&&"mouse"===s.type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout((function(){!function(e,t,i){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:i,position:y(t,e.element),buttons:e.getActivePointersListByType(i).buttons,isTouchEvent:"touch"===i,originalEvent:t,userData:e.userData})}(e,i.originalEvent,s.type)}),e.stopDelay)),0===l.contacts?e.moveHandler&&e.moveHandler({eventSource:e,pointerType:s.type,position:w(s.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===s.type,originalEvent:i.originalEvent,userData:e.userData}):1===l.contacts?(e.moveHandler&&(n=l.asArray()[0],e.moveHandler({eventSource:e,pointerType:n.type,position:w(n.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===n.type,originalEvent:i.originalEvent,userData:e.userData})),!e.dragHandler||i.preventGesture||i.defaultPrevented||(o=(n=l.asArray()[0]).currentPos.minus(n.lastPos),e.dragHandler({eventSource:e,pointerType:n.type,position:w(n.currentPos,e.element),buttons:l.buttons,delta:o,speed:n.speed,direction:n.direction,shift:i.originalEvent.shiftKey,isTouchEvent:"touch"===n.type,originalEvent:i.originalEvent,userData:e.userData}),i.preventDefault=!0,a.sentDragEvent=!0)):2===l.contacts&&(e.moveHandler&&(r=l.asArray(),e.moveHandler({eventSource:e,pointerType:r[0].type,position:w(b(r[0].currentPos,r[1].currentPos),e.element),buttons:l.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:i.originalEvent,userData:e.userData})),!e.pinchHandler||"touch"!==s.type||i.preventGesture||i.defaultPrevented||(o=a.pinchGPoints[0].currentPos.distanceTo(a.pinchGPoints[1].currentPos))!==a.currentPinchDist&&(a.lastPinchDist=a.currentPinchDist,a.currentPinchDist=o,a.lastPinchCenter=a.currentPinchCenter,a.currentPinchCenter=b(a.pinchGPoints[0].currentPos,a.pinchGPoints[1].currentPos),e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:a.pinchGPoints,lastCenter:w(a.lastPinchCenter,e.element),center:w(a.currentPinchCenter,e.element),lastDistance:a.lastPinchDist,distance:a.currentPinchDist,shift:i.originalEvent.shiftKey,originalEvent:i.originalEvent,userData:e.userData}),i.preventDefault=!0)))}function z(e,t,i){var s,n=e.getActivePointersListByType(i.type);(s=n.getById(i.id))&&R(e,n,s)}e.MouseTracker.gesturePointVelocityTracker=(i=[],s=0,n=0,r=function(e,t){return e.hash.toString()+t.type+t.id.toString()},o=function(){var t,s,r,o,a,l,c=i.length,u=e.now();for(o=u-n,n=u,t=0;t<c;t++)(r=(s=i[t]).gPoint).direction=Math.atan2(r.currentPos.y-s.lastPos.y,r.currentPos.x-s.lastPos.x),a=s.lastPos.distanceTo(r.currentPos),s.lastPos=r.currentPos,l=1e3*a/(o+1),r.speed=.75*l+.25*r.speed},{addPoint:function(t,a){var l=r(t,a);i.push({guid:l,gPoint:a,lastPos:a.currentPos}),1===i.length&&(n=e.now(),s=window.setInterval(o,50))},removePoint:function(e,t){var n,o=r(e,t),a=i.length;for(n=0;n<a;n++)if(i[n].guid===o){i.splice(n,1),0==--a&&window.clearInterval(s);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],"DOMMouseScroll"===e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=(a=document.createElement("div"),e.isFunction(a.setPointerCapture)&&e.isFunction(a.releasePointerCapture)),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var t=document.createElement("div");return e.isFunction(t.setCapture)&&e.isFunction(t.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}}}(t),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,i,s){var n=t.parentNode;"number"==typeof i&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),i={anchor:i}),i.attachToViewer=void 0===i.attachToViewer||i.attachToViewer,this.autoFade=void 0===i.autoFade||i.autoFade,this.element=t,this.anchor=i.anchor,this.container=s,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof i.top?i.top+"px":i.top,this.wrapper.style.left="number"==typeof i.left?i.left+"px":i.left,this.wrapper.style.height="number"==typeof i.height?i.height+"px":i.height,this.wrapper.style.width="number"==typeof i.width?i.width+"px":i.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),i.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):n.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor===e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(t),function(e){function t(e,t){var i,s=e.controls;for(i=s.length-1;i>=0;i--)if(s[i].element===t)return i;return-1}e.ControlDock=function(t){var i,s,n=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),s=0;s<n.length;s++)i=n[s],this.controls[i]=e.makeNeutralElement("div"),this.controls[i].style.position="absolute",i.match("left")&&(this.controls[i].style.left="0px"),i.match("right")&&(this.controls[i].style.right="0px"),i.match("top")&&(this.controls[i].style.top="0px"),i.match("bottom")&&(this.controls[i].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(i,s){var n=null;if(!(t(this,i=e.getElement(i))>=0)){switch(s.anchor){case e.ControlAnchor.TOP_RIGHT:n=this.controls.topright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:n=this.controls.bottomright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:n=this.controls.bottomleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:n=this.controls.topleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:default:case e.ControlAnchor.NONE:n=this.container,i.style.margin="0px",i.style.padding="0px"}this.controls.push(new e.Control(i,s,n)),i.style.display="inline-block"}},removeControl:function(i){var s=t(this,i=e.getElement(i));return s>=0&&(this.controls[s].destroy(),this.controls.splice(s,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(t),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(t),function(e){var t={},i=1;function s(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function n(t,i){if(i instanceof e.Overlay)return i;var s=null;if(i.element)s=e.getElement(i.element);else{var n=i.id?i.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(s=e.getElement(i.id))||((s=document.createElement("a")).href="#/overlay/"+n),s.id=n,e.addClass(s,i.className?i.className:"openseadragon-overlay")}var r=i.location,o=i.width,a=i.height;if(!r){var l=i.x,c=i.y;if(void 0!==i.px){var u=t.viewport.imageToViewportRectangle(new e.Rect(i.px,i.py,o||0,a||0));l=u.x,c=u.y,o=void 0!==o?u.width:void 0,a=void 0!==a?u.height:void 0}r=new e.Point(l,c)}var h=i.placement;return h&&"string"===e.type(h)&&(h=e.Placement[i.placement.toUpperCase()]),new e.Overlay({element:s,location:r,placement:h,onDraw:i.onDraw,checkResize:i.checkResize,width:o,height:a,rotationMode:i.rotationMode})}function r(e,t){var i;for(i=e.length-1;i>=0;i--)if(e[i].element===t)return i;return-1}function o(t,i){return e.requestAnimationFrame((function(){i(t)}))}function a(t){e.requestAnimationFrame((function(){!function(t){var i,s;if(t.controlsShouldFade){for(i=1-(e.now()-t.controlsFadeBeginTime)/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),s=t.controls.length-1;s>=0;s--)t.controls[s].autoFade&&t.controls[s].setOpacity(i);i>0&&a(t)}}(t)}))}function l(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout((function(){a(t)}),t.controlsFadeDelay))}function c(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function u(){c(this)}function h(){l(this)}function d(e){var t={tracker:e.eventSource,position:e.position,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.raiseEvent("canvas-contextmenu",t),e.preventDefault=t.preventDefault}function p(t){var i={originalEvent:t.originalEvent,preventDefaultAction:!1,preventVerticalPan:t.preventVerticalPan||!this.panVertical,preventHorizontalPan:t.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",i),i.preventDefaultAction||t.ctrl||t.alt||t.meta)t.preventDefault=!1;else switch(t.keyCode){case 38:i.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 40:i.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 37:i.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 39:i.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 87:i.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 83:i.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 65:i.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 68:i.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 82:t.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),t.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:t.preventDefault=!1}}function m(e){var t={originalEvent:e.originalEvent};this.raiseEvent("canvas-key-press",t)}function g(i){var s;document.activeElement===this.canvas||this.canvas.focus(),this.viewport.flipped&&(i.position.x=this.viewport.getContainerSize().x-i.position.x);var n={tracker:i.eventSource,position:i.position,quick:i.quick,shift:i.shift,originalEvent:i.originalEvent,originalTarget:i.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",n),!n.preventDefaultAction&&this.viewport&&i.quick&&(!0===(s=this.gestureSettingsByDeviceType(i.pointerType)).clickToZoom&&(this.viewport.zoomBy(i.shift?1/this.zoomPerClick:this.zoomPerClick,s.zoomToRefPoint?this.viewport.pointFromPixel(i.position,!0):null),this.viewport.applyConstraints()),s.dblClickDragToZoom&&(!0===t[this.hash].draggingToZoom?(t[this.hash].lastClickTime=null,t[this.hash].draggingToZoom=!1):t[this.hash].lastClickTime=e.now()))}function f(e){var t,i={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",i),!i.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function v(e){var i,s={tracker:e.eventSource,pointerType:e.pointerType,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",s),i=this.gestureSettingsByDeviceType(e.pointerType),!s.preventDefaultAction&&this.viewport)if(i.dblClickDragToZoom&&t[this.hash].draggingToZoom){var n=Math.pow(this.zoomPerDblClickDrag,e.delta.y/50);this.viewport.zoomBy(n)}else if(i.dragToPan&&!t[this.hash].draggingToZoom){if(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var r=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=r.x,this.viewport.centerSpringY.target.value+=r.y;var o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=r.x,this.viewport.centerSpringY.target.value-=r.y,o.xConstrained&&(e.delta.x=0),o.yConstrained&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),i.flickEnabled&&!this.constrainDuringPan)}}function y(i){var s,n={tracker:i.eventSource,pointerType:i.pointerType,position:i.position,speed:i.speed,direction:i.direction,shift:i.shift,originalEvent:i.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",n),s=this.gestureSettingsByDeviceType(i.pointerType),!n.preventDefaultAction&&this.viewport){if(!t[this.hash].draggingToZoom&&s.flickEnabled&&i.speed>=s.flickMinSpeed){var r=0;this.panHorizontal&&(r=s.flickMomentum*i.speed*Math.cos(i.direction));var o=0;this.panVertical&&(o=s.flickMomentum*i.speed*Math.sin(i.direction));var a=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),l=this.viewport.pointFromPixel(new e.Point(a.x-r,a.y-o));this.viewport.panTo(l,!1)}this.viewport.applyConstraints()}s.dblClickDragToZoom&&!0===t[this.hash].draggingToZoom&&(t[this.hash].draggingToZoom=!1)}function w(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function b(e){this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function T(i){if(this.raiseEvent("canvas-press",{tracker:i.eventSource,pointerType:i.pointerType,position:i.position,insideElementPressed:i.insideElementPressed,insideElementReleased:i.insideElementReleased,originalEvent:i.originalEvent}),this.gestureSettingsByDeviceType(i.pointerType).dblClickDragToZoom){var s=t[this.hash].lastClickTime,n=e.now();if(null===s)return;n-s<this.dblClickTimeThreshold&&(t[this.hash].draggingToZoom=!0),t[this.hash].lastClickTime=null}}function S(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function x(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function E(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function C(e){var t,i,s,n={tracker:e.eventSource,pointerType:e.pointerType,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",n),this.viewport&&(!(t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom||n.preventDefaultPanAction&&n.preventDefaultZoomAction||(i=this.viewport.pointFromPixel(e.center,!0),t.zoomToRefPoint&&!n.preventDefaultPanAction&&(s=this.viewport.pointFromPixel(e.lastCenter,!0).minus(i),this.panHorizontal||(s.x=0),this.panVertical||(s.y=0),this.viewport.panBy(s,!0)),n.preventDefaultZoomAction||this.viewport.zoomBy(e.distance/e.lastDistance,i,!0),this.viewport.applyConstraints()),t.pinchRotate&&!n.preventDefaultRotateAction)){var r=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),o=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);i=this.viewport.pointFromPixel(e.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(r-o)*(180/Math.PI),i,!0)}}function k(e){this.raiseEvent("canvas-focus",{tracker:e.eventSource,originalEvent:e.originalEvent})}function _(e){this.raiseEvent("canvas-blur",{tracker:e.eventSource,originalEvent:e.originalEvent})}function D(t){var i,s,n,r;(r=e.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=r,i={tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",i),!i.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),(s=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(n=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(n,s.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints())),t.preventDefault=i.preventDefault):t.preventDefault=!0}function P(e){t[this.hash].mouseInside=!0,c(this),this.raiseEvent("container-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function A(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||l(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function M(i){!function(i){if(i._opening||!t[i.hash])return;if(i.autoResize||t[i.hash].forceResize){var n;if(i._autoResizePolling){n=s(i.container);var r=t[i.hash].prevContainerSize;n.equals(r)||(t[i.hash].needsResize=!0)}t[i.hash].needsResize&&function(i,s){var n,r=i.viewport,o=r.getZoom(),a=r.getCenter();if(r.resize(s,i.preserveImageSizeOnResize),r.panTo(a,!0),i.preserveImageSizeOnResize)n=t[i.hash].prevContainerSize.x/s.x;else{var l=new e.Point(0,0),c=new e.Point(t[i.hash].prevContainerSize.x,t[i.hash].prevContainerSize.y).distanceTo(l);n=new e.Point(s.x,s.y).distanceTo(l)/c*t[i.hash].prevContainerSize.x/s.x}r.zoomTo(o*n,null,!0),t[i.hash].prevContainerSize=s,t[i.hash].forceRedraw=!0,t[i.hash].needsResize=!1,t[i.hash].forceResize=!1}(i,n||s(i.container))}var o=i.viewport.update(),a=i.world.update()||o;o&&i.raiseEvent("viewport-change");i.referenceStrip&&(a=i.referenceStrip.update(i.viewport)||a);var u=t[i.hash].animating;!u&&a&&(i.raiseEvent("animation-start"),c(i));var h=u&&!a;h&&(t[i.hash].animating=!1);(a||h||t[i.hash].forceRedraw||i.world.needsDraw())&&(!function(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}(i),i._drawOverlays(),i.navigator&&i.navigator.update(i.viewport),t[i.hash].forceRedraw=!1,a&&i.raiseEvent("animation"));h&&(i.raiseEvent("animation-finish"),t[i.hash].mouseInside||l(i));t[i.hash].animating=a}(i),i.isOpen()?i._updateRequestId=o(i,M):i._updateRequestId=!1}function L(e,t){return e?e+t:t}function R(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,N(this)}function I(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,N(this)}function O(){t[this.hash].zooming=!1}function N(t){e.requestAnimationFrame(e.delegate(t,B))}function B(){var i,s,n;t[this.hash].zooming&&this.viewport&&(s=(i=e.now())-t[this.hash].lastZoomTime,n=Math.pow(t[this.hash].zoomFactor,s/1e3),this.viewport.zoomBy(n),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=i,N(this))}function H(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function F(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function q(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function z(){this.viewport&&this.viewport.goHome()}function V(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function j(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e+=this.rotationIncrement:e-=this.rotationIncrement,this.viewport.setRotation(e)}}function U(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e-=this.rotationIncrement:e+=this.rotationIncrement,this.viewport.setRotation(e)}}function G(){this.viewport.toggleFlip()}e.Viewer=function(n){var r,a,c=arguments,u=this;if(e.isPlainObject(n)||(n={id:c[0],xmlPath:c.length>1?c[1]:void 0,prefixUrl:c.length>2?c[2]:void 0,controls:c.length>3?c[3]:void 0,overlays:c.length>4?c[4]:void 0}),n.config&&(e.extend(!0,n,n.config),delete n.config),e.extend(!0,this,{id:n.id,hash:n.hash||i++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},e.DEFAULT_SETTINGS,n),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",(function(t){var i=e.getString("Errors.OpenFailed",t.eventSource,t.message);u._showMessage(i)})),e.ControlDock.call(this,n),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(a=this.canvas.style).width="100%",a.height="100%",a.overflow="hidden",a.position="absolute",a.top="0px",a.left="0px",e.setElementTouchActionNone(this.canvas),""!==n.tabIndex&&(this.canvas.tabIndex=void 0===n.tabIndex?0:n.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,d),keyDownHandler:e.delegate(this,p),keyHandler:e.delegate(this,m),clickHandler:e.delegate(this,g),dblClickHandler:e.delegate(this,f),dragHandler:e.delegate(this,v),dragEndHandler:e.delegate(this,y),enterHandler:e.delegate(this,w),leaveHandler:e.delegate(this,b),pressHandler:e.delegate(this,T),releaseHandler:e.delegate(this,S),nonPrimaryPressHandler:e.delegate(this,x),nonPrimaryReleaseHandler:e.delegate(this,E),scrollHandler:e.delegate(this,D),pinchHandler:e.delegate(this,C),focusHandler:e.delegate(this,k),blurHandler:e.delegate(this,_)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,P),leaveHandler:e.delegate(this,A)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=s(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver((function(){t[u.hash].needsResize=!0})),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new e.World({viewer:this}),this.world.addHandler("add-item",(function(e){u.source=u.world.getItemAt(0).source,t[u.hash].forceRedraw=!0,u._updateRequestId||(u._updateRequestId=o(u,M))})),this.world.addHandler("remove-item",(function(e){u.world.getItemCount()?u.source=u.world.getItemAt(0).source:u.source=null,t[u.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(e){u.viewport&&u.viewport._setContentBounds(u.world.getHomeBounds(),u.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(e){u.source=u.world.getItemAt(0).source})),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:n.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(r=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(r,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(r=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(r,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),r=0;r<this.customControls.length;r++)this.addControl(this.customControls[r].id,{anchor:this.customControls[r].anchor});e.requestAnimationFrame((function(){l(u)})),void 0===this.imageSmoothingEnabled||this.imageSmoothingEnabled||this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},get buttons(){return e.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(t,i){var s=this;if(this.close(),!t)return this;if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===i||isNaN(i)||(this.initialPage=i),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(t)||(t=[t]),!t.length)return this;this._opening=!0;for(var r,o=t.length,a=0,l=0,c=function(){if(a+l===o)if(a){!s._firstOpen&&s.preserveViewport||(s.viewport.goHome(!0),s.viewport.update()),s._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),s.overlays&&!s.preserveOverlays)for(var i=0;i<s.overlays.length;i++)s.currentOverlays[i]=n(s,s.overlays[i]);s._drawOverlays(),s._opening=!1,s.raiseEvent("open",{source:e})}else s._opening=!1,s.raiseEvent("open-failed",r)},u=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var i=t.success;t.success=function(e){if(a++,t.tileSource.overlays)for(var n=0;n<t.tileSource.overlays.length;n++)s.addOverlay(t.tileSource.overlays[n]);i&&i(e),c()};var n=t.error;t.error=function(e){l++,r||(r=e),n&&n(e),c()},s.addTiledImage(t)},h=0;h<t.length;h++)u(t[h]);return this},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),t[this.navigator.hash]=null,delete t[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisible();return t},setControlsEnabled:function(e){return e?c(this):l(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},setAjaxHeaders:function(t,i){if(null===t&&(t={}),e.isPlainObject(t)){if(void 0===i&&(i=!0),this.ajaxHeaders=t,i){for(var s=0;s<this.world.getItemCount();s++)this.world.getItemAt(s)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var n in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[n].setAjaxHeaders(this.ajaxHeaders,!0)}}else console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},addButton:function(e){this.buttonGroup.addButton(e)},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(i){var s,n,r=document.body,o=r.style,a=document.documentElement.style,l=this;if(i===this.isFullPage())return this;var c={fullPage:i,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(i){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=o.margin,this.docMargin=a.margin,o.margin="0",a.margin="0",this.bodyPadding=o.padding,this.docPadding=a.padding,o.padding="0",a.padding="0",this.bodyWidth=o.width,this.docWidth=a.width,o.width="100%",a.width="100%",this.bodyHeight=o.height,this.docHeight=a.height,o.height="100%",a.height="100%",this.bodyDisplay=o.display,o.display="block",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,s=r.childNodes.length,n=0;n<s;n++)this.previousBody.push(r.childNodes[0]),r.removeChild(r.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,r.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),r.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,P)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,o.margin=this.bodyMargin,a.margin=this.docMargin,o.padding=this.bodyPadding,a.padding=this.docPadding,o.width=this.bodyWidth,a.width=this.docWidth,o.height=this.bodyHeight,a.height=this.docHeight,o.display=this.bodyDisplay,r.removeChild(this.element),s=this.previousBody.length,n=0;n<s;n++)r.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(r.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var u=0,h=function(){e.setPageScroll(l.pageScroll);var t=e.getPageScroll();++u<10&&(t.x!==l.pageScroll.x||t.y!==l.pageScroll.y)&&e.requestAnimationFrame(h)};e.requestAnimationFrame(h),t[this.hash].fullPage=!1,e.delegate(this,A)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:i}),this},setFullScreen:function(t){var i=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var s={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",s),s.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var n=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,n),e.removeEvent(document,e.fullScreenErrorEventName,n),i.setFullPage(!1),i.isFullPage()&&(i.element.style.width=i.fullPageStyleWidth,i.element.style.height=i.fullPageStyleHeight)),i.navigator&&i.viewport&&setTimeout((function(){i.navigator.update(i.viewport)})),i.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,n),e.addEvent(document,e.fullScreenErrorEventName,n),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},isFullScreen:function(){return e.isFullScreen()&&this.isFullPage()},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var i=this;t.replace&&(t.replaceItem=i.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),e.isPlainObject(t.ajaxHeaders)||(t.ajaxHeaders={});var s={options:t};function n(e){for(var n=0;n<i._loadQueue.length;n++)if(i._loadQueue[n]===s){i._loadQueue.splice(n,1);break}0===i._loadQueue.length&&r(s),i.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function r(e){i.collectionMode&&(i.world.arrange({immediately:e.options.collectionImmediately,rows:i.collectionRows,columns:i.collectionColumns,layout:i.collectionLayout,tileSize:i.collectionTileSize,tileMargin:i.collectionTileMargin}),i.world.setAutoRefigureSizes(!0))}function o(){for(var t,s,n;i._loadQueue.length&&(t=i._loadQueue[0]).tileSource;){if(i._loadQueue.splice(0,1),t.options.replace){var o=i.world.getIndexOfItem(t.options.replaceItem);-1!==o&&(t.options.index=o),i.world.removeItem(t.options.replaceItem)}s=new e.TiledImage({viewer:i,source:t.tileSource,viewport:i.viewport,drawer:i.drawer,tileCache:i.tileCache,imageLoader:i.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,flipped:t.options.flipped,compositeOperation:t.options.compositeOperation,springStiffness:i.springStiffness,animationTime:i.animationTime,minZoomImageRatio:i.minZoomImageRatio,wrapHorizontal:i.wrapHorizontal,wrapVertical:i.wrapVertical,immediateRender:i.immediateRender,blendTime:i.blendTime,alwaysBlend:i.alwaysBlend,minPixelRatio:i.minPixelRatio,smoothTileEdgesMinZoom:i.smoothTileEdgesMinZoom,iOSDevice:i.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:i.debugMode,subPixelRoundingForTransparency:i.subPixelRoundingForTransparency}),i.collectionMode&&i.world.setAutoRefigureSizes(!1),i.navigator&&(n=e.extend({},t.options,{replace:!1,originalTiledImage:s,tileSource:t.tileSource}),i.navigator.addTiledImage(n)),i.world.addItem(s,{index:t.options.index}),0===i._loadQueue.length&&r(t),1!==i.world.getItemCount()||i.preserveViewport||i.viewport.goHome(!0),t.options.success&&t.options.success({item:s})}}e.isArray(t.tileSource)?setTimeout((function(){n({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})})):(this._loadQueue.push(s),function(t,i,s,n,r){var o=t;if("string"===e.type(i))if(i.match(/^\s*<.*>\s*$/))i=e.parseXml(i);else if(i.match(/^\s*[{[].*[}\]]\s*$/))try{var a=e.parseJSON(i);i=a}catch(e){}function l(e,t){e.ready?n(e):(e.addHandler("ready",(function(){n(e)})),e.addHandler("open-failed",(function(e){r({message:e.message,source:t})})))}setTimeout((function(){if("string"===e.type(i))(i=new e.TileSource({url:i,crossOriginPolicy:void 0!==s.crossOriginPolicy?s.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:s.ajaxHeaders?s.ajaxHeaders:t.ajaxHeaders,splitHashDataForPost:t.splitHashDataForPost,useCanvas:t.useCanvas,success:function(e){n(e.tileSource)}})).addHandler("open-failed",(function(e){r(e)}));else if(e.isPlainObject(i)||i.nodeType)if(void 0!==i.crossOriginPolicy||void 0===s.crossOriginPolicy&&void 0===t.crossOriginPolicy||(i.crossOriginPolicy=void 0!==s.crossOriginPolicy?s.crossOriginPolicy:t.crossOriginPolicy),void 0===i.ajaxWithCredentials&&(i.ajaxWithCredentials=t.ajaxWithCredentials),void 0===i.useCanvas&&(i.useCanvas=t.useCanvas),e.isFunction(i.getTileUrl)){var a=new e.TileSource(i);a.getTileUrl=i.getTileUrl,n(a)}else{var c=e.TileSource.determineType(o,i);if(!c)return void r({message:"Unable to load TileSource",source:i});var u=c.prototype.configure.apply(o,[i]);l(new c(u),i)}else l(i,i)}))}(this,t.tileSource,t,(function(e){s.tileSource=e,o()}),(function(e){e.options=t,n(e),o()})))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var i=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete i.url,this.addTiledImage(i)},addLayer:function(t){var i=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var s=e.extend({},t,{success:function(e){i.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){i.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(s),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,i){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,i)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},forceResize:function(){t[this.hash].needsResize=!0,t[this.hash].forceResize=!0},bindSequenceControls:function(){var t=e.delegate(this,u),i=e.delegate(this,h),s=e.delegate(this,this.goToNextPage),n=e.delegate(this,this.goToPreviousPage),r=this.navImages,o=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(o=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:L(this.prefixUrl,r.previous.REST),srcGroup:L(this.prefixUrl,r.previous.GROUP),srcHover:L(this.prefixUrl,r.previous.HOVER),srcDown:L(this.prefixUrl,r.previous.DOWN),onRelease:n,onFocus:t,onBlur:i}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:L(this.prefixUrl,r.next.REST),srcGroup:L(this.prefixUrl,r.next.GROUP),srcHover:L(this.prefixUrl,r.next.HOVER),srcDown:L(this.prefixUrl,r.next.DOWN),onRelease:s,onFocus:t,onBlur:i}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),o&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,R),i=e.delegate(this,O),s=e.delegate(this,H),n=e.delegate(this,I),r=e.delegate(this,F),o=e.delegate(this,z),a=e.delegate(this,V),l=e.delegate(this,j),c=e.delegate(this,U),d=e.delegate(this,G),p=e.delegate(this,u),m=e.delegate(this,h),g=this.navImages,f=[],v=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(v=!1),this.showZoomControl&&(f.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:L(this.prefixUrl,g.zoomIn.REST),srcGroup:L(this.prefixUrl,g.zoomIn.GROUP),srcHover:L(this.prefixUrl,g.zoomIn.HOVER),srcDown:L(this.prefixUrl,g.zoomIn.DOWN),onPress:t,onRelease:i,onClick:s,onEnter:t,onExit:i,onFocus:p,onBlur:m})),f.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:L(this.prefixUrl,g.zoomOut.REST),srcGroup:L(this.prefixUrl,g.zoomOut.GROUP),srcHover:L(this.prefixUrl,g.zoomOut.HOVER),srcDown:L(this.prefixUrl,g.zoomOut.DOWN),onPress:n,onRelease:i,onClick:r,onEnter:n,onExit:i,onFocus:p,onBlur:m}))),this.showHomeControl&&f.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:L(this.prefixUrl,g.home.REST),srcGroup:L(this.prefixUrl,g.home.GROUP),srcHover:L(this.prefixUrl,g.home.HOVER),srcDown:L(this.prefixUrl,g.home.DOWN),onRelease:o,onFocus:p,onBlur:m})),this.showFullPageControl&&f.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:L(this.prefixUrl,g.fullpage.REST),srcGroup:L(this.prefixUrl,g.fullpage.GROUP),srcHover:L(this.prefixUrl,g.fullpage.HOVER),srcDown:L(this.prefixUrl,g.fullpage.DOWN),onRelease:a,onFocus:p,onBlur:m})),this.showRotationControl&&(f.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:L(this.prefixUrl,g.rotateleft.REST),srcGroup:L(this.prefixUrl,g.rotateleft.GROUP),srcHover:L(this.prefixUrl,g.rotateleft.HOVER),srcDown:L(this.prefixUrl,g.rotateleft.DOWN),onRelease:l,onFocus:p,onBlur:m})),f.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:L(this.prefixUrl,g.rotateright.REST),srcGroup:L(this.prefixUrl,g.rotateright.GROUP),srcHover:L(this.prefixUrl,g.rotateright.HOVER),srcDown:L(this.prefixUrl,g.rotateright.DOWN),onRelease:c,onFocus:p,onBlur:m}))),this.showFlipControl&&f.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:L(this.prefixUrl,g.flip.REST),srcGroup:L(this.prefixUrl,g.flip.GROUP),srcHover:L(this.prefixUrl,g.flip.HOVER),srcDown:L(this.prefixUrl,g.flip.DOWN),onRelease:d,onFocus:p,onBlur:m})),v?(this.buttonGroup=new e.ButtonGroup({buttons:f,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,q)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=f),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,i,s,o){var a;if(a=e.isPlainObject(t)?t:{element:t,location:i,placement:s,onDraw:o},t=e.getElement(a.element),r(this.currentOverlays,t)>=0)return this;var l=n(this,a);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:a.location,placement:a.placement}),this},updateOverlay:function(i,s,n){var o;return i=e.getElement(i),(o=r(this.currentOverlays,i))>=0&&(this.currentOverlays[o].update(s,n),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:i,location:s,placement:n})),this},removeOverlay:function(i){var s;return i=e.getElement(i),(s=r(this.currentOverlays,i))>=0&&(this.currentOverlays[s].destroy(),this.currentOverlays.splice(s,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:i})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var i;return t=e.getElement(t),(i=r(this.currentOverlays,t))>=0?this.currentOverlays[i]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var i=e.makeNeutralElement("div");i.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(i),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var t=e.pixelDensityRatio,i=e.getCurrentPixelDensityRatio();t!==i&&(e.pixelDensityRatio=i,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)},goToNextPage:function(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)},isAnimating:function(){return t[this.hash].animating}})}(t),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var i=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(i.x=this.viewer.viewport.getCenter(!0).x):i.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(i),this.viewer.viewport.applyConstraints()}}function i(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function s(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function n(e){var t={tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.viewer.raiseEvent("navigator-scroll",t),e.preventDefault=t.preventDefault}function r(e,t){o(e,"rotate("+t+"deg)")}function o(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(o){var a,l,c,u,h=o.viewer,d=this;function p(e,t){r(d.displayRegionContainer,e),r(d.displayRegion,-e),d.viewport.setRotation(e,t)}(o.element||o.id?(o.element?(o.id&&e.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),o.element.id?o.id=o.element.id:o.id="navigator-"+e.now(),this.element=o.element):this.element=document.getElementById(o.id),o.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(o.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),o.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:o.autoFade},o.position&&("BOTTOM_RIGHT"===o.position?o.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===o.position?o.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===o.position?o.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===o.position?o.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"===o.position&&(o.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,o.controlOptions.top=o.top,o.controlOptions.left=o.left,o.controlOptions.height=o.height,o.controlOptions.width=o.width))),this.element.id=o.id,this.element.className+=" navigator",(o=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},o,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:o.animationTime,autoResize:!1,minZoomImageRatio:1,background:o.background,opacity:o.opacity,borderColor:o.borderColor,displayRegionColor:o.displayRegionColor})).minPixelRatio=this.minPixelRatio=h.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),o.controlOptions.anchor!==e.ControlAnchor.NONE&&(c=this.element.style,u=this.borderWidth,c.margin="0px",c.border=u+"px solid "+o.borderColor,c.padding="0px",c.background=o.background,c.opacity=o.opacity,c.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid "+o.displayRegionColor,e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default",e.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),h.addControl(this.element,o.controlOptions),this._resizeWithViewer=o.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&o.controlOptions.anchor!==e.ControlAnchor.NONE,o.width&&o.height?(this.setWidth(o.width),this.setHeight(o.height)):this._resizeWithViewer&&(a=e.getElementSize(h.element),this.element.style.height=Math.round(a.y*o.sizeRatio)+"px",this.element.style.width=Math.round(a.x*o.sizeRatio)+"px",this.oldViewerSize=a,l=e.getElementSize(this.element),this.elementArea=l.x*l.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[o]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),o.navigatorRotate)&&(p(o.viewer.viewport?o.viewer.viewport.getRotation():o.viewer.degrees||0,!0),o.viewer.addHandler("rotate",(function(e){p(e.degrees,e.immediately)})));this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,i),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,s),scrollHandler:e.delegate(this,n),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",(function(){d.viewport&&d.viewport.goHome(!0)})),h.world.addHandler("item-index-change",(function(e){window.setTimeout((function(){var t=d.world.getItemAt(e.previousIndex);d.world.setItemIndex(t,e.newIndex)}),1)})),h.world.addHandler("remove-item",(function(e){var t=e.item,i=d._getMatchingItem(t);i&&d.world.removeItem(i)})),this.update(h.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},setWidth:function(e){this.width=e,this.element.style.width="number"==typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(e){this.height=e,this.element.style.height="number"==typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){o(this.displayRegion,e),o(this.canvas,e),o(this.element,e)},update:function(t){var i,s,n,o,a,l;if(i=e.getElementSize(this.viewer.element),this._resizeWithViewer&&i.x&&i.y&&!i.equals(this.oldViewerSize)&&(this.oldViewerSize=i,this.maintainSizeRatio||!this.elementArea?(s=i.x*this.sizeRatio,n=i.y*this.sizeRatio):(s=Math.sqrt(this.elementArea*(i.x/i.y)),n=this.elementArea/s),this.element.style.width=Math.round(s)+"px",this.element.style.height=Math.round(n)+"px",this.elementArea||(this.elementArea=s*n),this.updateSize()),t&&this.viewport){if(o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),l=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var c=t.getRotation(!0);r(this.displayRegion,-c)}var u=this.displayRegion.style;u.display=this.world.getItemCount()?"block":"none",u.top=a.y.toFixed(2)+"px",u.left=a.x.toFixed(2)+"px";var h=l.x-a.x,d=l.y-a.y;u.width=Math.round(Math.max(h,0))+"px",u.height=Math.round(Math.max(d,0))+"px"}},addTiledImage:function(t){var i=this,s=t.originalTiledImage;delete t.original;var n=e.extend({},t,{success:function(e){var t=e.item;function n(){i._matchBounds(t,s)}t._originalForNavigator=s,i._matchBounds(t,s,!0),i._matchOpacity(t,s),i._matchCompositeOperation(t,s),s.addHandler("bounds-change",n),s.addHandler("clip-change",n),s.addHandler("opacity-change",(function(){i._matchOpacity(t,s)})),s.addHandler("composite-operation-change",(function(){i._matchCompositeOperation(t,s)}))}});return e.Viewer.prototype.addTiledImage.apply(this,[n])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(e){for(var t,i=this.world.getItemCount(),s=0;s<i;s++)if((t=this.world.getItemAt(s))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,i){var s=t.getBoundsNoRotate();e.setPosition(s.getTopLeft(),i),e.setWidth(s.width,i),e.setRotation(t.getRotation(),i),e.setClip(t.getClip()),e.setFlip(t.getFlip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(t),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(i){var s,n=i.split("."),r=null,o=arguments,a=t;for(s=0;s<n.length-1;s++)a=a[n[s]]||{};return"string"!=typeof(r=a[n[s]])&&(e.console.error("Untranslated source string:",i),r=""),r.replace(/\{\d+\}/g,(function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<o.length?o[t]:""}))},setString:function(e,i){var s,n=e.split("."),r=t;for(s=0;s<n.length-1;s++)r[n[s]]||(r[n[s]]={}),r=r[n[s]];r[n[s]]=i}})}(t),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,i){var s,n;if(i=i||new e.Point(0,0),t%90==0){switch(e.positiveModulo(t,360)){case 0:s=1,n=0;break;case 90:s=0,n=1;break;case 180:s=-1,n=0;break;case 270:s=0,n=-1}}else{var r=t*Math.PI/180;s=Math.cos(r),n=Math.sin(r)}var o=s*(this.x-i.x)-n*(this.y-i.y)+i.x,a=n*(this.x-i.x)+s*(this.y-i.y)+i.y;return new e.Point(o,a)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(t),function(e){e.TileSource=function(t,i,s,n,r,o){var a,l,c=this,u=arguments;if(a=e.isPlainObject(t)?t:{width:u[0],height:u[1],tileSize:u[2],tileOverlap:u[3],minLevel:u[4],maxLevel:u[5]},e.EventSource.call(this),e.extend(!0,this,a),!this.success)for(l=0;l<arguments.length;l++)if(e.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",(function(e){c.success(e)})),"string"===e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=a.width&&a.height?a.width/a.height:1,this.dimensions=new e.Point(a.width,a.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=a.tileOverlap?a.tileOverlap:0,this.minLevel=a.minLevel?a.minLevel:0,this.maxLevel=void 0!==a.maxLevel&&null!==a.maxLevel?a.maxLevel:a.width&&a.height?Math.ceil(Math.log(Math.max(a.width,a.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},setMaxLevel:function(e){this.maxLevel=e,this._memoizeLevelScale()},getLevelScale:function(e){return this._memoizeLevelScale(),this.getLevelScale(e)},_memoizeLevelScale:function(){var e,t={};for(e=0;e<=this.maxLevel;e++)t[e]=1/Math.pow(2,this.maxLevel-e);this.getLevelScale=function(e){return t[e]}},getNumTiles:function(t){var i=this.getLevelScale(t),s=Math.ceil(i*this.dimensions.x/this.getTileWidth(t)),n=Math.ceil(i*this.dimensions.y/this.getTileHeight(t));return new e.Point(s,n)},getPixelRatio:function(t){var i=this.dimensions.times(this.getLevelScale(t)),s=1/i.x*e.pixelDensityRatio,n=1/i.y*e.pixelDensityRatio;return new e.Point(s,n)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,i){var s=i.x>=0&&i.x<=1&&i.y>=0&&i.y<=1/this.aspectRatio;e.console.assert(s,"[TileSource.getTileAtPoint] must be called with a valid point.");var n=this.dimensions.x*this.getLevelScale(t),r=i.x*n,o=i.y*n,a=Math.floor(r/this.getTileWidth(t)),l=Math.floor(o/this.getTileHeight(t));i.x>=1&&(a=this.getNumTiles(t).x-1);return i.y>=1/this.aspectRatio-1e-15&&(l=this.getNumTiles(t).y-1),new e.Point(a,l)},getTileBounds:function(t,i,s,n){var r=this.dimensions.times(this.getLevelScale(t)),o=this.getTileWidth(t),a=this.getTileHeight(t),l=0===i?0:o*i-this.tileOverlap,c=0===s?0:a*s-this.tileOverlap,u=o+(0===i?1:2)*this.tileOverlap,h=a+(0===s?1:2)*this.tileOverlap,d=1/r.x;return u=Math.min(u,r.x-l),h=Math.min(h,r.y-c),n?new e.Rect(0,0,u,h):new e.Rect(l*d,c*d,u*d,h*d)},getImageInfo:function(t){var i,s,n,r,o,a,l,c=this;t&&(l=(a=(o=t.split("/"))[o.length-1]).lastIndexOf("."))>-1&&(o[o.length-1]=a.slice(0,l));var u=null;if(this.splitHashDataForPost){var h=t.indexOf("#");-1!==h&&(u=t.substring(h+1),t=t.substr(0,h))}s=function(i){"string"==typeof i&&(i=e.parseXml(i));var s=e.TileSource.determineType(c,i,t);s?(void 0===(r=s.prototype.configure.apply(c,[i,t,u])).ajaxWithCredentials&&(r.ajaxWithCredentials=c.ajaxWithCredentials),n=new s(r),c.ready=!0,c.raiseEvent("ready",{tileSource:n})):c.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(i=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:i,callback:s})):e.makeAjaxRequest({url:t,postData:u,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var i=function(t){var i,s,n=t.responseText,r=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw i=404===(r=t.status)?"Not Found":t.statusText,new Error(e.getString("Errors.Status",r,i));if(n.match(/^\s*<.*/))try{s=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(n)}catch(e){s=t.responseText}else if(n.match(/\s*[{[].*/))try{s=e.parseJSON(n)}catch(e){s=n}else s=n;return s}(t);s(i)},error:function(i,s){var n;try{n="HTTP "+i.status+" attempting to load TileSource: "+t}catch(e){n=(void 0!==s&&s.toString?s.toString():"Unknown error")+" attempting to load TileSource: "+t}e.console.error(n),c.raiseEvent("open-failed",{message:n,source:t,postData:u})}})},supports:function(e,t){return!1},configure:function(e,t,i){throw new Error("Method not implemented.")},getTileUrl:function(e,t,i){throw new Error("Method not implemented.")},getTilePostData:function(e,t,i){return null},getTileAjaxHeaders:function(e,t,i){return{}},getTileHashKey:function(e,t,i,s,n,r){function o(e){return n?e+"+"+JSON.stringify(n):e}return o("string"!=typeof s?e+"/"+t+"_"+i:s)},tileExists:function(e,t,i){var s=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&i>=0&&t<s.x&&i<s.y},hasTransparency:function(e,t,i,s){return!!e||t.match(".png")},downloadTileStart:function(t){var i=t.userData,s=new Image;i.image=s,i.request=null;var n=function(e){s?(s.onload=s.onerror=s.onabort=null,t.finish(e?null:s,i.request,e)):t.finish(null,i.request,"Image load failed: undefined Image instance.")};s.onload=function(){n()},s.onabort=s.onerror=function(){n("Image load aborted.")},t.loadWithAjax?i.request=e.makeAjaxRequest({url:t.src,withCredentials:t.ajaxWithCredentials,headers:t.ajaxHeaders,responseType:"arraybuffer",postData:t.postData,success:function(e){var t;try{t=new window.Blob([e.response])}catch(s){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===s.name&&i){var r=new i;r.append(e.response),t=r.getBlob()}}0===t.size?n("Empty image response."):s.src=(window.URL||window.webkitURL).createObjectURL(t)},error:function(e){n("Image load aborted - XHR error")}}):(!1!==t.crossOriginPolicy&&(s.crossOrigin=t.crossOriginPolicy),s.src=t.src)},downloadTileAbort:function(e){e.userData.request&&e.userData.request.abort();var t=e.userData.image;e.userData.image&&(t.onload=t.onerror=t.onabort=null)},createTileCache:function(e,t,i){e._data=t},destroyTileCache:function(e){e._data=null,e._renderedContext=null},getTileCacheData:function(e){return e._data},getTileCacheDataAsImage:function(e){return e._data},getTileCacheDataAsContext2D:function(e){if(!e._renderedContext){var t=document.createElement("canvas");t.width=e._data.width,t.height=e._data.height,e._renderedContext=t.getContext("2d"),e._renderedContext.drawImage(e._data,0,0),e._data=null}return e._renderedContext}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(i,s,n){var r;for(r in t)if(r.match(/.+TileSource$/)&&e.isFunction(t[r])&&e.isFunction(t[r].prototype.supports)&&t[r].prototype.supports.call(i,s,n))return t[r];return e.console.error("No TileSource was able to open %s %s",n,s),null}}(t),function(e){function t(t,i){var s,n,r=i.Image,o=r.Url,a=r.Format,l=r.Size,c=r.DisplayRect||[],u=parseInt(l.Width,10),h=parseInt(l.Height,10),d=parseInt(r.TileSize,10),p=parseInt(r.Overlap,10),m=[];for(n=0;n<c.length;n++)s=c[n].Rect,m.push(new e.DisplayRect(parseInt(s.X,10),parseInt(s.Y,10),parseInt(s.Width,10),parseInt(s.Height,10),parseInt(s.MinLevel,10),parseInt(s.MaxLevel,10)));return e.extend(!0,{width:u,height:h,tileSize:d,tileOverlap:p,minLevel:null,maxLevel:null,tilesUrl:o,fileFormat:a,displayRects:m},i)}e.DziTileSource=function(t,i,s,n,r,o,a,l,c){var u,h,d,p;if(p=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=p.tilesUrl,this.fileFormat=p.fileFormat,this.displayRects=p.displayRects,this.displayRects)for(u=this.displayRects.length-1;u>=0;u--)for(d=(h=this.displayRects[u]).minLevel;d<=h.maxLevel;d++)this._levelRects[d]||(this._levelRects[d]=[]),this._levelRects[d].push(h);e.TileSource.apply(this,[p])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var i;return e.Image?i=e.Image.xmlns:e.documentElement&&("Image"!==e.documentElement.localName&&"Image"!==e.documentElement.tagName||(i=e.documentElement.namespaceURI)),-1!==(i=(i||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==i.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(i,s,n){var r;return r=e.isPlainObject(i)?t(this,i):function(i,s){if(!s||!s.documentElement)throw new Error(e.getString("Errors.Xml"));var n,r,o,a,l,c=s.documentElement,u=c.localName||c.tagName,h=s.documentElement.namespaceURI,d=null,p=[];if("Image"===u)try{if(void 0===(a=c.getElementsByTagName("Size")[0])&&(a=c.getElementsByTagNameNS(h,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(a.getAttribute("Height"),10),Width:parseInt(a.getAttribute("Width"),10)}}},!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(void 0===(n=c.getElementsByTagName("DisplayRect"))&&(n=c.getElementsByTagNameNS(h,"DisplayRect")[0]),l=0;l<n.length;l++)void 0===(o=(r=n[l]).getElementsByTagName("Rect")[0])&&(o=r.getElementsByTagNameNS(h,"Rect")[0]),p.push({Rect:{X:parseInt(o.getAttribute("X"),10),Y:parseInt(o.getAttribute("Y"),10),Width:parseInt(o.getAttribute("Width"),10),Height:parseInt(o.getAttribute("Height"),10),MinLevel:parseInt(r.getAttribute("MinLevel"),10),MaxLevel:parseInt(r.getAttribute("MaxLevel"),10)}});return p.length&&(d.Image.DisplayRect=p),t(i,d)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"===u)throw new Error(e.getString("Errors.Dzc"));if("Error"===u){var m=c.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(m)}}throw new Error(e.getString("Errors.Dzi"))}(this,i),s&&!r.tilesUrl&&(r.tilesUrl=s.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),-1!==s.search(/\.(dzi|xml|js)\?/)?r.queryParams=s.match(/\?.*/):r.queryParams=""),r},getTileUrl:function(e,t,i){return[this.tilesUrl,e,"/",t,"_",i,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,i){var s,n,r,o,a,l,c,u=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!u||!u.length)return!0;for(c=u.length-1;c>=0;c--)if(!(e<(s=u[c]).minLevel||e>s.maxLevel)&&(n=this.getLevelScale(e),r=s.x*n,o=s.y*n,a=r+s.width*n,l=o+s.height*n,r=Math.floor(r/this._tileWidth),o=Math.floor(o/this._tileWidth),a=Math.ceil(a/this._tileWidth),l=Math.ceil(l/this._tileWidth),r<=t&&t<a&&o<=i&&i<l))return!0;return!1}})}(t),function(e){function i(e){var t=Array.isArray(e.profile)?e.profile[0]:e.profile,i=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"].indexOf(t),s=!1;return 2===e.version&&e.profile.length>1&&e.profile[1].supports&&(s=-1!==e.profile[1].supports.indexOf("sizeByW")),3===e.version&&e.extraFeatures&&(s=-1!==e.extraFeatures.indexOf("sizeByWh")),!i||s}function s(e){for(var t=[],i=0;i<e.sizes.length;i++)t.push({url:e._id+"/full/"+e.sizes[i].width+","+(3===e.version?e.sizes[i].height:"")+"/0/default."+e.tileFormat,width:e.sizes[i].width,height:e.sizes[i].height});return t.sort((function(e,t){return e.width-t.width}))}function n(t,i,s){var r,o;if(3===t.nodeType&&s)(o=t.nodeValue.trim()).match(/^\d*$/)&&(o=Number(o)),i[s]?(e.isArray(i[s])||(i[s]=[i[s]]),i[s].push(o)):i[s]=o;else if(1===t.nodeType)for(r=0;r<t.childNodes.length;r++)n(t.childNodes[r],i,t.nodeName)}e.IIIFTileSource=function(t){if(e.extend(!0,this,t),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(t.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=t.version,this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var n=0;n<this.tiles.length;n++)for(var r=0;r<this.tiles[n].scaleFactors.length;r++){var o=this.tiles[n].scaleFactors[r];this.scale_factors.push(o),t.tileSizePerScaleFactor[o]={width:this.tiles[n].width,height:this.tiles[n].height||this.tiles[n].width}}}else if(i(t)){for(var a=Math.min(this.height,this.width),l=[256,512,1024],c=[],u=0;u<l.length;u++)l[u]<=a&&c.push(l[u]);c.length>0?t.tileSize=Math.max.apply(null,c):t.tileSize=a}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=s(this),e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!t.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var h=Math.max.apply(null,this.scale_factors);t.maxLevel=Math.round(Math.log(h)*Math.LOG2E)}else t.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));if(this.sizes){var d=this.sizes.length;d!==t.maxLevel&&d!==t.maxLevel+1||(this.levelSizes=this.sizes.slice().sort((function(e,t){return e.width-t.width})),d===t.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}e.TileSource.apply(this,[t])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||"http://iiif.io/api/image"!==e.protocol)||(!(!e["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!==e["@context"]&&"http://iiif.io/api/image/1/context.json"!==e["@context"])||(!(!e.profile||0!==e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!==e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!==e.documentElement.namespaceURI))))},configure:function(i,s,r){if(e.isPlainObject(i)){if(i["@context"]){var o=i["@context"];if(Array.isArray(o))for(var a=0;a<o.length;a++)if("string"==typeof o[a]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(o[a])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===o[a])){o=o[a];break}switch(o){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":i.version=1;break;case"http://iiif.io/api/image/2/context.json":i.version=2;break;case"http://iiif.io/api/image/3/context.json":i.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}else i["@context"]="http://iiif.io/api/image/1.0/context.json",i["@id"]=s.replace("/info.json",""),i.version=1;if(i.preferredFormats)for(var l=0;l<i.preferredFormats.length;l++)if(t.imageFormatSupported(i.preferredFormats[l])){i.tileFormat=i.preferredFormats[l];break}return i}var c=function(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var i=t.documentElement,s=i.tagName,r=null;if("info"===s)try{return n(i,r={}),r}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}(i);return c["@context"]="http://iiif.io/api/image/1.0/context.json",c["@id"]=s.replace("/info.xml",""),c.version=1,c},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var i=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[i]?this.tileSizePerScaleFactor[i].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var i=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[i]?this.tileSizePerScaleFactor[i].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var i=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].width/this.levels[this.maxLevel].width),i}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){if(this.emulateLegacyImagePyramid)return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0);if(this.levelSizes){var i=this.levelSizes[t],s=Math.ceil(i.width/this.getTileWidth(t)),n=Math.ceil(i.height/this.getTileHeight(t));return new e.Point(s,n)}return e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,i){if(this.emulateLegacyImagePyramid)return new e.Point(0,0);if(this.levelSizes){var s=i.x>=0&&i.x<=1&&i.y>=0&&i.y<=1/this.aspectRatio;e.console.assert(s,"[TileSource.getTileAtPoint] must be called with a valid point.");var n=this.levelSizes[t].width,r=i.x*n,o=i.y*n,a=Math.floor(r/this.getTileWidth(t)),l=Math.floor(o/this.getTileHeight(t));i.x>=1&&(a=this.getNumTiles(t).x-1);return i.y>=1/this.aspectRatio-1e-15&&(l=this.getNumTiles(t).y-1),new e.Point(a,l)}return e.TileSource.prototype.getTileAtPoint.call(this,t,i)},getTileUrl:function(e,t,i){if(this.emulateLegacyImagePyramid){var s=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(s=this.levels[e].url),s}var n,r,o,a,l,c,u,h,d,p,m,g,f,v,y,w=Math.pow(.5,this.maxLevel-e);return this.levelSizes?(n=this.levelSizes[e].width,r=this.levelSizes[e].height):(n=Math.ceil(this.width*w),r=Math.ceil(this.height*w)),o=this.getTileWidth(e),a=this.getTileHeight(e),l=Math.round(o/w),c=Math.round(a/w),y=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,n<o&&r<a?(g=2===this.version&&n===this.width?"full":3===this.version&&n===this.width&&r===this.height?"max":3===this.version?n+","+r:n+",",u="full"):(h=t*l,d=i*c,p=Math.min(l,this.width-h),m=Math.min(c,this.height-d),u=0===t&&0===i&&p===this.width&&m===this.height?"full":[h,d,p,m].join(","),f=Math.min(o,n-t*o),v=Math.min(a,r-i*a),g=2===this.version&&f===this.width?"full":3===this.version&&f===this.width&&v===this.height?"max":3===this.version?f+","+v:f+","),[this._id,u,g,"0",y].join("/")},__testonly__:{canBeTiled:i,constructLevels:s}})}(t),function(e){e.OsmTileSource=function(t,i,s,n,r){var o;(o=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&o.height||(o.width=65572864,o.height=65572864),o.tileSize||(o.tileSize=256,o.tileOverlap=0),o.tilesUrl||(o.tilesUrl="http://tile.openstreetmap.org/"),o.minLevel=8,e.TileSource.apply(this,[o])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"===e.type},configure:function(e,t,i){return e},getTileUrl:function(e,t,i){return this.tilesUrl+(e-8)+"/"+t+"/"+i+".png"}})}(t),function(e){e.TmsTileSource=function(t,i,s,n,r){var o;o=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var a,l=256*Math.ceil(o.width/256),c=256*Math.ceil(o.height/256);a=l>c?l/256:c/256,o.maxLevel=Math.ceil(Math.log(a)/Math.log(2))-1,o.tileSize=256,o.width=l,o.height=c,e.TileSource.apply(this,[o])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"===e.type},configure:function(e,t,i){return e},getTileUrl:function(e,t,i){var s=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(s-i)+".png"}})}(t),function(e){e.ZoomifyTileSource=function(e){void 0===e.tileSize&&(e.tileSize=256),void 0===e.fileFormat&&(e.fileFormat="jpg",this.fileFormat=e.fileFormat);var i={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(i.x,10)>e.tileSize||parseInt(i.y,10)>e.tileSize;)i.x=Math.floor(i.x/2),i.y=Math.floor(i.y/2),e.imageSizes.push({x:i.x,y:i.y}),e.gridSize.push(this._getGridSize(i.x,i.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,t.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,i){return{x:Math.ceil(e/i),y:Math.ceil(t/i)}},_calculateAbsoluteTileNumber:function(e,t,i){for(var s=0,n={},r=0;r<e;r++)s+=(n=this.gridSize[r]).x*n.y;return s+=(n=this.gridSize[e]).x*i+t},supports:function(e,t){return e.type&&"zoomifytileservice"===e.type},configure:function(e,t,i){return e},getTileUrl:function(e,t,i){var s,n=this._calculateAbsoluteTileNumber(e,t,i);return s=Math.floor(n/256),this.tilesUrl+"TileGroup"+s+"/"+e+"-"+t+"-"+i+"."+this.fileFormat}})}(t),function(e){function t(e,t){return t.levels}e.LegacyTileSource=function(t){var i,s,n;e.isArray(t)&&(i={type:"legacy-image-pyramid",levels:t}),i.levels=function(t){var i,s,n=[];for(s=0;s<t.length;s++)(i=t[s]).height&&i.width&&i.url?n.push({url:i.url,width:Number(i.width),height:Number(i.height)}):e.console.error("Unsupported image format: %s",i.url?i.url:"<no URL>");return n.sort((function(e,t){return e.height-t.height}))}(i.levels),i.levels.length>0?(s=i.levels[i.levels.length-1].width,n=i.levels[i.levels.length-1].height):(s=0,n=0,e.console.error("No supported image formats found")),e.extend(!0,i,{width:s,height:n,tileSize:Math.max(n,s),tileOverlap:0,minLevel:0,maxLevel:i.levels.length>0?i.levels.length-1:0}),e.TileSource.apply(this,[i]),this.levels=i.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"===e.type||e.documentElement&&"legacy-image-pyramid"===e.documentElement.getAttribute("type")},configure:function(i,s,n){var r;return r=e.isPlainObject(i)?t(this,i):function(i,s){if(!s||!s.documentElement)throw new Error(e.getString("Errors.Xml"));var n,r,o=s.documentElement,a=o.tagName,l=null,c=[];if("image"===a)try{for(l={type:o.getAttribute("type"),levels:[]},c=o.getElementsByTagName("level"),r=0;r<c.length;r++)n=c[r],l.levels.push({url:n.getAttribute("url"),width:parseInt(n.getAttribute("width"),10),height:parseInt(n.getAttribute("height"),10)});return t(i,l)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===a)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===a)throw new Error("Error: "+s)}throw new Error("Unknown element "+a)}(this,i),r},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,i){var s=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(s=this.levels[e].url),s}})}(t),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t,i){return e},getImageInfo:function(t){var i=this._image=new Image,s=this;this.crossOriginPolicy&&(i.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(i.useCredentials=this.ajaxWithCredentials),e.addEvent(i,"load",(function(){s.width=i.naturalWidth,s.height=i.naturalHeight,s.aspectRatio=s.width/s.height,s.dimensions=new e.Point(s.width,s.height),s._tileWidth=s.width,s._tileHeight=s.height,s.tileOverlap=0,s.minLevel=0,s.levels=s._buildLevels(),s.maxLevel=s.levels.length-1,s.ready=!0,s.raiseEvent("ready",{tileSource:s})})),e.addEvent(i,"error",(function(){s.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})})),i.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,i){var s=null;return e>=this.minLevel&&e<=this.maxLevel&&(s=this.levels[e].url),s},getContext2D:function(e,t,i){var s=null;return e>=this.minLevel&&e<=this.maxLevel&&(s=this.levels[e].context2D),s},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var t=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var i=this._image.naturalWidth,s=this._image.naturalHeight,n=document.createElement("canvas"),r=n.getContext("2d");if(n.width=i,n.height=s,r.drawImage(this._image,0,0,i,s),t[0].context2D=r,delete this._image,e.isCanvasTainted(n))return t;for(;i>=2&&s>=2;){i=Math.floor(i/2),s=Math.floor(s/2);var o=document.createElement("canvas"),a=o.getContext("2d");o.width=i,o.height=s,a.drawImage(n,0,0,i,s),t.splice(0,0,{context2D:a,width:i,height:s}),n=o,r=a}return t},_freeupCanvasMemory:function(){for(var e=0;e<this.levels.length;e++)this.levels[e].context2D&&(this.levels[e].context2D.canvas.height=0,this.levels[e].context2D.canvas.width=0)}})}(t),function(e){e.TileSourceCollection=function(t,i,s,n){e.console.error("TileSourceCollection is deprecated; use World instead")}}(t),function(e){function t(i){e.requestAnimationFrame((function(){!function(i){var s;i.shouldFade&&(s=1-(e.now()-i.fadeBeginTime)/i.fadeLength,s=Math.min(1,s),s=Math.max(0,s),i.imgGroup&&e.setElementOpacity(i.imgGroup,s,!0),s>0&&t(i))}(i)}))}function i(t,i){t.element.disabled||(i>=e.ButtonState.GROUP&&t.currentState===e.ButtonState.REST&&(!function(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}(t),t.currentState=e.ButtonState.GROUP),i>=e.ButtonState.HOVER&&t.currentState===e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),i>=e.ButtonState.DOWN&&t.currentState===e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function s(i,s){i.element.disabled||(s<=e.ButtonState.HOVER&&i.currentState===e.ButtonState.DOWN&&(i.imgDown&&(i.imgDown.style.visibility="hidden"),i.currentState=e.ButtonState.HOVER),s<=e.ButtonState.GROUP&&i.currentState===e.ButtonState.HOVER&&(i.imgHover&&(i.imgHover.style.visibility="hidden"),i.currentState=e.ButtonState.GROUP),s<=e.ButtonState.REST&&i.currentState===e.ButtonState.GROUP&&(!function(i){i.shouldFade=!0,i.fadeBeginTime=e.now()+i.fadeDelay,window.setTimeout((function(){t(i)}),i.fadeDelay)}(i),i.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var n=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor===e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(i(n,e.ButtonState.DOWN),n.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||i(n,e.ButtonState.HOVER)},focusHandler:function(e){n.tracker.enterHandler(e),n.raiseEvent("focus",{originalEvent:e.originalEvent})},leaveHandler:function(t){s(n,e.ButtonState.GROUP),t.insideElementPressed&&n.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){n.tracker.leaveHandler(e),n.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){i(n,e.ButtonState.DOWN),n.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(s(n,e.ButtonState.HOVER),n.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?s(n,e.ButtonState.GROUP):i(n,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&n.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){13===e.keyCode?(n.raiseEvent("click",{originalEvent:e.originalEvent}),n.raiseEvent("release",{originalEvent:e.originalEvent}),e.preventDefault=!0):e.preventDefault=!1}}),s(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){i(this,e.ButtonState.GROUP)},notifyGroupExit:function(){s(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(t),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var i,s=this.buttons.concat([]),n=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.element.style.display="inline-block",i=0;i<s.length;i++)this.element.appendChild(s[i].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<n.buttons.length;t++)n.buttons[t].notifyGroupEnter()},leaveHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<n.buttons.length;t++)n.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={addButton:function(e){this.buttons.push(e),this.element.appendChild(e.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var e=this.buttons.pop();this.element.removeChild(e.element),e.destroy()}this.tracker.destroy(),this.element=null}}}(t),function(e){e.Rect=function(t,i,s,n,r){var o,a;this.x="number"==typeof t?t:0,this.y="number"==typeof i?i:0,this.width="number"==typeof s?s:0,this.height="number"==typeof n?n:0,this.degrees="number"==typeof r?r:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(o=this.getTopRight(),this.x=o.x,this.y=o.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=270):this.degrees>=180?(o=this.getBottomRight(),this.x=o.x,this.y=o.y,this.degrees-=180):this.degrees>=90&&(o=this.getBottomLeft(),this.x=o.x,this.y=o.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=90)},e.Rect.fromSummits=function(t,i,s){var n=t.distanceTo(i),r=t.distanceTo(s),o=i.minus(t),a=Math.atan(o.y/o.x);return o.x<0?a+=Math.PI:o.y<0&&(a+=2*Math.PI),new e.Rect(t.x,t.y,n,r,a/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var i=this.getBoundingBox(),s=t.getBoundingBox(),n=Math.min(i.x,s.x),r=Math.min(i.y,s.y),o=Math.max(i.x+i.width,s.x+s.width),a=Math.max(i.y+i.height,s.y+s.height);return new e.Rect(n,r,o-n,a-r)},intersection:function(t){var i=1e-10,s=[],n=this.getTopLeft();t.containsPoint(n,i)&&s.push(n);var r=this.getTopRight();t.containsPoint(r,i)&&s.push(r);var o=this.getBottomLeft();t.containsPoint(o,i)&&s.push(o);var a=this.getBottomRight();t.containsPoint(a,i)&&s.push(a);var l=t.getTopLeft();this.containsPoint(l,i)&&s.push(l);var c=t.getTopRight();this.containsPoint(c,i)&&s.push(c);var u=t.getBottomLeft();this.containsPoint(u,i)&&s.push(u);var h=t.getBottomRight();this.containsPoint(h,i)&&s.push(h);for(var d=this._getSegments(),p=t._getSegments(),m=0;m<d.length;m++)for(var g=d[m],f=0;f<p.length;f++){var v=p[f],y=w(g[0],g[1],v[0],v[1]);y&&s.push(y)}function w(t,s,n,r){var o=s.minus(t),a=r.minus(n),l=-a.x*o.y+o.x*a.y;if(0===l)return null;var c=(o.x*(t.y-n.y)-o.y*(t.x-n.x))/l,u=(a.x*(t.y-n.y)-a.y*(t.x-n.x))/l;return-1e-10<=c&&c<=1-i&&-1e-10<=u&&u<=1-i?new e.Point(t.x+u*o.x,t.y+u*o.y):null}if(0===s.length)return null;for(var b=s[0].x,T=s[0].x,S=s[0].y,x=s[0].y,E=1;E<s.length;E++){var C=s[E];C.x<b&&(b=C.x),C.x>T&&(T=C.x),C.y<S&&(S=C.y),C.y>x&&(x=C.y)}return new e.Rect(b,S,T-b,x-S)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),i=this.getBottomLeft(),s=this.getBottomRight();return[[e,t],[t,s],[s,i],[i,e]]},rotate:function(t,i){if(0===(t=e.positiveModulo(t,360)))return this.clone();i=i||this.getCenter();var s=this.getTopLeft().rotate(t,i),n=this.getTopRight().rotate(t,i).minus(s);n=n.apply((function(e){return Math.abs(e)<1e-15?0:e}));var r=Math.atan(n.y/n.x);return n.x<0?r+=Math.PI:n.y<0&&(r+=2*Math.PI),new e.Rect(s.x,s.y,this.width,this.height,r/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),i=this.getTopRight(),s=this.getBottomLeft(),n=this.getBottomRight(),r=Math.min(t.x,i.x,s.x,n.x),o=Math.max(t.x,i.x,s.x,n.x),a=Math.min(t.y,i.y,s.y,n.y),l=Math.max(t.y,i.y,s.y,n.y);return new e.Rect(r,a,o-r,l-a)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),i=Math.floor(t.x),s=Math.floor(t.y),n=Math.ceil(t.width+t.x-i),r=Math.ceil(t.height+t.y-s);return new e.Rect(i,s,n,r)},containsPoint:function(e,t){t=t||0;var i=this.getTopLeft(),s=this.getTopRight(),n=this.getBottomLeft(),r=s.minus(i),o=n.minus(i);return(e.x-i.x)*r.x+(e.y-i.y)*r.y>=-t&&(e.x-s.x)*r.x+(e.y-s.y)*r.y<=t&&(e.x-i.x)*o.x+(e.y-i.y)*o.y>=-t&&(e.x-n.x)*o.x+(e.y-n.y)*o.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(t),function(e){var t={};function i(e){var t;e.quick&&(t="horizontal"===this.scroll?Math.floor(e.position.x/(this.panelWidth+4)):Math.floor(e.position.y/this.panelHeight),this.viewer.goToPage(t));this.element.focus()}function s(t){if(this.dragging=!0,this.element){var i=Number(this.element.style.marginLeft.replace("px","")),s=Number(this.element.style.marginTop.replace("px","")),n=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-t.delta.x>0?i>-(n-a.x)&&(this.element.style.marginLeft=i+2*t.delta.x+"px",r(this,a.x,i+2*t.delta.x)):-t.delta.x<0&&i<0&&(this.element.style.marginLeft=i+2*t.delta.x+"px",r(this,a.x,i+2*t.delta.x)):-t.delta.y>0?s>-(o-a.y)&&(this.element.style.marginTop=s+2*t.delta.y+"px",r(this,a.y,s+2*t.delta.y)):-t.delta.y<0&&s<0&&(this.element.style.marginTop=s+2*t.delta.y+"px",r(this,a.y,s+2*t.delta.y))}}function n(t){if(this.element){var i=Number(this.element.style.marginLeft.replace("px","")),s=Number(this.element.style.marginTop.replace("px","")),n=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?t.scroll>0?i>-(n-a.x)&&(this.element.style.marginLeft=i-60*t.scroll+"px",r(this,a.x,i-60*t.scroll)):t.scroll<0&&i<0&&(this.element.style.marginLeft=i-60*t.scroll+"px",r(this,a.x,i-60*t.scroll)):t.scroll<0?s>a.y-o&&(this.element.style.marginTop=s+60*t.scroll+"px",r(this,a.y,s+60*t.scroll)):t.scroll>0&&s<0&&(this.element.style.marginTop=s+60*t.scroll+"px",r(this,a.y,s+60*t.scroll)),t.preventDefault=!0}}function r(t,i,s){var n,r,o,a,l,c;for(n="horizontal"===t.scroll?t.panelWidth:t.panelHeight,r=Math.ceil(i/n)+5,l=r=(r=(o=Math.ceil((Math.abs(s)+i)/n)+1)-r)<0?0:r;l<o&&l<t.panels.length;l++)if(!(c=t.panels[l]).activePanel){var u,h=t.viewer.tileSources[l];u=h.referenceStripThumbnailUrl?{type:"image",url:h.referenceStripThumbnailUrl}:h,a=new e.Viewer({id:c.id,tileSources:[u],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:t.viewer.loadTilesWithAjax,ajaxHeaders:t.viewer.ajaxHeaders,useCanvas:t.useCanvas}),e.setElementPointerEventsNone(a.canvas),e.setElementPointerEventsNone(a.container),a.innerTracker.setTracking(!1),a.outerTracker.setTracking(!1),t.miniViewers[c.id]=a,c.activePanel=!0}}function o(e){var t=e.eventSource.element;"horizontal"===this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px"}function a(t){var i=t.eventSource.element;"horizontal"===this.scroll?i.style.marginBottom="-"+e.getElementSize(i).y/2+"px":i.style.marginLeft="-"+e.getElementSize(i).x/2+"px"}function l(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 38:case 39:n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 40:case 37:n.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}function c(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 61:case 48:case 119:case 87:case 100:n.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 45:case 115:case 83:case 97:n.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}e.ReferenceStrip=function(u){var h,d,p,m=u.viewer,g=e.getElementSize(m.element);for(u.id||(u.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=u.id,this.element.className="referencestrip"),u=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},u,{element:this.element}),e.extend(this,u),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(d=this.element.style).marginTop="0px",d.marginRight="0px",d.marginBottom="0px",d.marginLeft="0px",d.left="0px",d.bottom="0px",d.border="0px",d.background="#000",d.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=m,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,i),dragHandler:e.delegate(this,s),scrollHandler:e.delegate(this,n),enterHandler:e.delegate(this,o),leaveHandler:e.delegate(this,a),keyDownHandler:e.delegate(this,l),keyHandler:e.delegate(this,c),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px",m.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"===u.scroll?(this.element.style.width=g.x*u.sizeRatio*m.tileSources.length+12*m.tileSources.length+"px",this.element.style.height=g.y*u.sizeRatio+"px",m.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=g.y*u.sizeRatio*m.tileSources.length+12*m.tileSources.length+"px",this.element.style.width=g.x*u.sizeRatio+"px",m.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=g.x*this.sizeRatio+8,this.panelHeight=g.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},p=0;p<m.tileSources.length;p++)(h=e.makeNeutralElement("div")).id=this.element.id+"-"+p,h.style.width=this.panelWidth+"px",h.style.height=this.panelHeight+"px",h.style.display="inline",h.style.float="left",h.style.cssFloat="left",h.style.styleFloat="left",h.style.padding="2px",e.setElementTouchActionNone(h),e.setElementPointerEventsNone(h),this.element.appendChild(h),h.activePanel=!1,this.panels.push(h);r(this,"vertical"===this.scroll?g.y:g.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(t){var i,s=this.element.querySelector("#"+this.element.id+"-"+t),n=e.getElementSize(this.viewer.canvas),a=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),u=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==s&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=s,this.currentSelected.style.background="#999","horizontal"===this.scroll?(i=Number(t)*(this.panelWidth+3))>c+n.x-this.panelWidth?(i=Math.min(i,a-n.x),this.element.style.marginLeft=-i+"px",r(this,n.x,-i)):i<c&&(i=Math.max(0,i-n.x/2),this.element.style.marginLeft=-i+"px",r(this,n.x,-i)):(i=Number(t)*(this.panelHeight+3))>u+n.y-this.panelHeight?(i=Math.min(i,l-n.y),this.element.style.marginTop=-i+"px",r(this,n.y,-i)):i<u&&(i=Math.max(0,i-n.y/2),this.element.style.marginTop=-i+"px",r(this,n.y,-i)),this.currentPage=t,o.call(this,{eventSource:this.tracker}))},update:function(){return!!t[this.id].animating},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(t),function(e){e.DisplayRect=function(t,i,s,n,r,o){e.Rect.apply(this,[t,i,s,n]),this.minLevel=r,this.maxLevel=o},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(t),function(e){e.Spring=function(t){var i=arguments;"object"!=typeof t&&(t={initial:i.length&&"number"==typeof i[0]?i[0]:void 0,springStiffness:i.length>1?i[1].springStiffness:5,animationTime:i.length>1?i[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var t,i;this.current.time=e.now(),this._exponential?(t=this.start._logValue,i=this.target._logValue):(t=this.start.value,i=this.target.value);var s,n,r=this.current.time>=this.target.time?i:t+(i-t)*(s=this.springStiffness,n=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(s*-n))/(1-Math.exp(-s))),o=this.current.value;return this._exponential?this.current.value=Math.exp(r):this.current.value=r,o!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(t),function(e){e.ImageJob=function(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},t),this.data=null,this.userData={},this.errorMsg=null},e.ImageJob.prototype={start:function(){this.tries++;var e=this,t=this.abort;this.jobId=window.setTimeout((function(){e.finish(null,null,"Image load exceeded timeout ("+e.timeout+" ms)")}),this.timeout),this.abort=function(){e.source.downloadTileAbort(e),"function"==typeof t&&t()},this.source.downloadTileStart(this)},finish:function(e,t,i){this.data=e,this.request=t,this.errorMsg=i,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(t){if(!t.source){e.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var i=e.TileSource.prototype;t.source={downloadTileStart:i.downloadTileStart,downloadTileAbort:i.downloadTileAbort}}var s=this,n={src:t.src,tile:t.tile||{},source:t.source,loadWithAjax:t.loadWithAjax,ajaxHeaders:t.loadWithAjax?t.ajaxHeaders:null,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,postData:t.postData,callback:function(e){!function(e,t,i){""!==t.errorMsg&&(null===t.data||void 0===t.data)&&t.tries<1+e.tileRetryMax&&e.failedTiles.push(t);var s;e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&((s=e.jobQueue.shift()).start(),e.jobsInProgress++);e.tileRetryMax>0&&0===e.jobQueue.length&&(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.failedTiles.length>0&&(s=e.failedTiles.shift(),setTimeout((function(){s.start()}),e.tileRetryDelay),e.jobsInProgress++);i(t.data,t.errorMsg,t.request)}(s,e,t.callback)},abort:t.abort,timeout:this.timeout},r=new e.ImageJob(n);!this.jobLimit||this.jobsInProgress<this.jobLimit?(r.start(),this.jobsInProgress++):this.jobQueue.push(r)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(t),function(e){e.Tile=function(t,i,s,n,r,o,a,l,c,u,h,d){this.level=t,this.x=i,this.y=s,this.bounds=n,this.sourceBounds=u,this.exists=r,this._url=o,this.postData=h,this.context2D=a,this.loadWithAjax=l,this.ajaxHeaders=c,void 0===d&&(e.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),d=e.TileSource.prototype.getTileHashKey(t,i,s,o,c,h)),this.cacheKey=d,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(t){if(this.cacheImageRecord)if(this.loaded){if(!this.element){var i=this.getImage();if(!i)return;this.element=e.makeNeutralElement("div"),this.imgElement=i.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==t&&t.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),e.setElementOpacity(this.element,this.opacity)}else e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());else e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},get image(){return e.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return e.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return"function"==typeof this._url?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(t,i,s,n,r,o){var a,l,c,u=this.position.times(e.pixelDensityRatio),h=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(a=this.getCanvasContext(),this.loaded&&a?(t.save(),t.globalAlpha=this.opacity,"number"==typeof s&&1!==s&&(u=u.times(s),h=h.times(s)),n instanceof e.Point&&(u=u.plus(n)),1===t.globalAlpha&&this.hasTransparency&&(r&&(u.x=Math.round(u.x),u.y=Math.round(u.y),h.x=Math.round(h.x),h.y=Math.round(h.y)),t.clearRect(u.x,u.y,h.x,h.y)),i({context:t,tile:this,rendered:a}),this.sourceBounds?(l=Math.min(this.sourceBounds.width,a.canvas.width),c=Math.min(this.sourceBounds.height,a.canvas.height)):(l=a.canvas.width,c=a.canvas.height),t.translate(u.x+h.x/2,0),this.flipped&&t.scale(-1,1),t.drawImage(a.canvas,0,0,l,c,-h.x/2,u.y,h.x,h.y),t.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,i,s){var n=Math.max(1,Math.ceil((s.x-i.x)/2)),r=Math.max(1,Math.ceil((s.y-i.y)/2));return new e.Point(n,r).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply((function(e){return e%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(t),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,i,s){var n;n=e.isPlainObject(t)?t:{element:t,location:i,placement:s},this.element=n.element,this.style=n.element.style,this._init(n)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,i){var s=e.Placement.properties[this.placement];s&&(s.isHorizontallyCentered?t.x-=i.x/2:s.isRight&&(t.x-=i.x),s.isVerticallyCentered?t.y-=i.y/2:s.isBottom&&(t.y-=i.y))},destroy:function(){var t=this.element,i=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(i.display="none",document.body.appendChild(t))),this.onDraw=null,i.top="",i.left="",i.position="",null!==this.width&&(i.width=""),null!==this.height&&(i.height="");var s=e.getCssPropertyWithVendorPrefix("transformOrigin"),n=e.getCssPropertyWithVendorPrefix("transform");s&&n&&(i[s]="",i[n]="")},drawHTML:function(t,i){var s=this.element;s.parentNode!==t&&(s.prevElementParent=s.parentNode,s.prevNextSibling=s.nextSibling,t.appendChild(s),this.style.position="absolute",this.size=e.getElementSize(s));var n=this._getOverlayPositionAndSize(i),r=n.position,o=this.size=n.size,a=n.rotate;if(this.onDraw)this.onDraw(r,o,this.element);else{var l=this.style;l.left=r.x+"px",l.top=r.y+"px",null!==this.width&&(l.width=o.x+"px"),null!==this.height&&(l.height=o.y+"px");var c=e.getCssPropertyWithVendorPrefix("transformOrigin"),u=e.getCssPropertyWithVendorPrefix("transform");c&&u&&(a?(l[c]=this._getTransformOrigin(),l[u]="rotate("+a+"deg)"):(l[c]="",l[u]="")),l.display="block"}},_getOverlayPositionAndSize:function(t){var i=t.pixelFromPoint(this.location,!0),s=this._getSizeInPixels(t);this.adjust(i,s);var n=0;if(t.getRotation(!0)&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var r=new e.Rect(i.x,i.y,s.x,s.y),o=this._getBoundingBox(r,t.getRotation(!0));i=o.getTopLeft(),s=o.getSize()}else n=t.getRotation(!0);return{position:i,size:s,rotate:n}},_getSizeInPixels:function(t){var i=this.size.x,s=this.size.y;if(null!==this.width||null!==this.height){var n=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(i=n.x),null!==this.height&&(s=n.y)}if(this.checkResize&&(null===this.width||null===this.height)){var r=this.size=e.getElementSize(this.element);null===this.width&&(i=r.x),null===this.height&&(s=r.y)}return new e.Point(i,s)},_getBoundingBox:function(e,t){var i=this._getPlacementPoint(e);return e.rotate(t,i).getBoundingBox()},_getPlacementPoint:function(t){var i=new e.Point(t.x,t.y),s=e.Placement.properties[this.placement];return s&&(s.isHorizontallyCentered?i.x+=t.width/2:s.isRight&&(i.x+=t.width),s.isVerticallyCentered?i.y+=t.height/2:s.isBottom&&(i.y+=t.height)),i},_getTransformOrigin:function(){var t="",i=e.Placement.properties[this.placement];return i?(i.isLeft?t="left":i.isRight&&(t="right"),i.isTop?t+=" top":i.isBottom&&(t+=" bottom"),t):t},update:function(t,i){var s=e.isPlainObject(t)?t:{location:t,placement:i};this._init({location:s.location||this.location,placement:void 0!==s.placement?s.placement:this.placement,onDraw:s.onDraw||this.onDraw,checkResize:s.checkResize||this.checkResize,width:void 0!==s.width?s.width:this.width,height:void 0!==s.height?s.height:this.height,rotationMode:s.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var i=this.width,s=this.height;if(null===i||null===s){var n=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===i&&(i=n.x),null===s&&(s=n.y)}var r=this.location.clone();return this.adjust(r,new e.Point(i,s)),this._adjustBoundsForRotation(t,new e.Rect(r.x,r.y,i,s))},_adjustBoundsForRotation:function(t,i){if(!t||0===t.getRotation(!0)||this.rotationMode===e.OverlayRotationMode.EXACT)return i;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return i;var s=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(s.position.x,s.position.y,s.size.x,s.size.y))}return i.rotate(-t.getRotation(!0),this._getPlacementPoint(i))}}}(t),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var i=arguments;if(e.isPlainObject(t)||(t={source:i[0],viewport:i[1],element:i[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var s=this._calculateCanvasSize();this.canvas.width=s.x,this.canvas.height=s.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},e.Drawer.prototype={addOverlay:function(t,i,s,n){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,i,s,n),this},updateOverlay:function(t,i,s){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,i,s),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(t){var i=this.viewport.pixelFromPointNoRotate(t,!0);return new e.Point(i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio)},clipWithPolygons:function(e,t){if(this.useCanvas){var i=this._getContext(t);i.beginPath(),e.forEach((function(e){e.forEach((function(e,t){i[0===t?"moveTo":"lineTo"](e.x,e.y)}))})),i.clip()}},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var i=this.viewer.world,s=0;s<i.getItemCount();s++)i.getItemAt(s).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,i=0,s=0;s<t.getItemCount();s++){var n=t.getItemAt(s).getOpacity();n>i&&(i=n)}return i},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!==e.x||this.canvas.height!==e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(e,t){if(this.useCanvas){var i=this._getContext(e);if(t)i.clearRect(t.x,t.y,t.width,t.height);else{var s=i.canvas;i.clearRect(0,0,s.width,s.height)}}},viewportToDrawerRectangle:function(t){var i=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),s=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio,s.x*e.pixelDensityRatio,s.y*e.pixelDensityRatio)},drawTile:function(t,i,s,n,r,o,a){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(i,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var l=this._getContext(s);n=n||1,t.drawCanvas(l,i,n,r,o,a)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var i=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=i.x,this.sketchCanvas.height=i.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var s=this;this.viewer.addHandler("rotate",(function e(){if(0!==s.viewport.getRotation()){s.viewer.removeHandler("rotate",e);var t=s._calculateSketchCanvasSize();s.sketchCanvas.width=t.x,s.sketchCanvas.height=t.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var i=this._getContext(t);i.beginPath(),i.rect(e.x,e.y,e.width,e.height),i.clip()}},drawRectangle:function(e,t,i){if(this.useCanvas){var s=this._getContext(i);s.save(),s.fillStyle=t,s.fillRect(e.x,e.y,e.width,e.height),s.restore()}},blendSketch:function(t,i,s,n){var r=t;if(e.isPlainObject(r)||(r={opacity:t,scale:i,translate:s,compositeOperation:n}),this.useCanvas&&this.sketchCanvas){t=r.opacity,n=r.compositeOperation;var o=r.bounds;if(this.context.save(),this.context.globalAlpha=t,n&&(this.context.globalCompositeOperation=n),o)o.x<0&&(o.width+=o.x,o.x=0),o.x+o.width>this.canvas.width&&(o.width=this.canvas.width-o.x),o.y<0&&(o.height+=o.y,o.y=0),o.y+o.height>this.canvas.height&&(o.height=this.canvas.height-o.y),this.context.drawImage(this.sketchCanvas,o.x,o.y,o.width,o.height,o.x,o.y,o.width,o.height);else{i=r.scale||1;var a=(s=r.translate)instanceof e.Point?s:new e.Point(0,0),l=0,c=0;if(s){var u=this.sketchCanvas.width-this.canvas.width,h=this.sketchCanvas.height-this.canvas.height;l=Math.round(u/2),c=Math.round(h/2)}this.context.drawImage(this.sketchCanvas,a.x-l*i,a.y-c*i,(this.canvas.width+2*l)*i,(this.canvas.height+2*c)*i,-l,-c,this.canvas.width+2*l,this.canvas.height+2*c)}this.context.restore()}},drawDebugInfo:function(t,i,s,n){if(this.useCanvas){var r=this.viewer.world.getIndexOfItem(n)%this.debugGridColor.length,o=this.context;o.save(),o.lineWidth=2*e.pixelDensityRatio,o.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",o.strokeStyle=this.debugGridColor[r],o.fillStyle=this.debugGridColor[r],this.viewport.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),n.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:n.getRotation(!0),point:n.viewport.pixelFromPointNoRotate(n._getRotationPoint(!0),!0)}),n.viewport.getRotation(!0)%360==0&&n.getRotation(!0)%360==0&&n._drawer.viewer.viewport.getFlip()&&n._drawer._flip(),o.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var a=(t.position.x+t.size.x/2)*e.pixelDensityRatio,l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;o.translate(a,l),o.rotate(Math.PI/180*-this.viewport.getRotation(!0)),o.translate(-a,-l),0===t.x&&0===t.y&&(o.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),o.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),o.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),o.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),o.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),o.fillText("Order: "+s+" of "+i,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),o.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),o.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),n.getRotation(!0)%360!=0&&this._restoreRotationChanges(),n.viewport.getRotation(!0)%360==0&&n.getRotation(!0)%360==0&&n._drawer.viewer.viewport.getFlip()&&n._drawer._flip(),o.restore()}},debugRect:function(t){if(this.useCanvas){var i=this.context;i.save(),i.lineWidth=2*e.pixelDensityRatio,i.strokeStyle=this.debugGridColor[0],i.fillStyle=this.debugGridColor[0],i.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),i.restore()}},setImageSmoothingEnabled:function(e){this.useCanvas&&(this._imageSmoothingEnabled=e,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(e){e.msImageSmoothingEnabled=this._imageSmoothingEnabled,e.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(t){var i=this._getContext(t).canvas;return new e.Point(i.width,i.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var i=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),s=this._getContext(t.useSketch);s.save(),s.translate(i.x,i.y),this.viewer.viewport.flipped?(s.rotate(Math.PI/180*-t.degrees),s.scale(-1,1)):s.rotate(Math.PI/180*t.degrees),s.translate(-i.x,-i.y)},_flip:function(t){var i=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),s=this._getContext(t.useSketch);s.translate(i.x,0),s.scale(-1,1),s.translate(-i.x,0)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,i=this.viewport.getContainerSize();return{x:Math.round(i.x*t),y:Math.round(i.y*t)}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(t),function(e){e.Viewport=function(t){var i=arguments;i.length&&i[0]instanceof e.Point&&(t={containerSize:i[0],contentSize:i[1],config:i[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,t.initialDegrees=t.degrees,delete t.degrees,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:e.DEFAULT_SETTINGS.silenceMultiImageWarnings},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new e.Spring({initial:t.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={get degrees(){return e.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(t){e.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(t)},resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,i){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,i)},_setContentBounds:function(t,i){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(i),this._contentBounds=t.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(i),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:i,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),i=1/this.getHomeZoom(),s=i/this.getAspectRatio();return new e.Rect(t.x-i/2,t.y-s/2,i,s)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation(e))},getBoundsNoRotate:function(t){var i=this.getCenter(t),s=1/this.getZoom(t),n=s/this.getAspectRatio();return new e.Rect(i.x-s/2,i.y-n/2,s,n)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(e),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),i=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/i,t.y-=this._margins.top/i,t.width+=(this._margins.left+this._margins.right)/i,t.height+=(this._margins.top+this._margins.bottom)/i,t},getCenter:function(t){var i,s,n,r,o,a,l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),c=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?l:this.zoomPoint?(i=this.pixelFromPoint(this.zoomPoint,!0),r=(n=1/(s=this.getZoom()))/this.getAspectRatio(),o=new e.Rect(l.x-n/2,l.y-r/2,n,r),a=this._pixelFromPoint(this.zoomPoint,o).minus(i).rotate(-this.getRotation(!0)).divide(this._containerInnerSize.x*s),c.plus(a)):c},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var t=this.viewportToViewerElementRectangle(e).getBoundingBox(),i=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),s=!1,n=!1;if(this.wrapHorizontal);else{var r,o,a,l=t.x+t.width,c=i.x+i.width;r=t.width>i.width?this.visibilityRatio*i.width:this.visibilityRatio*t.width,o=i.x-l+r,a=c-t.x-r,r>i.width?(t.x+=(o+a)/2,s=!0):a<0?(t.x+=a,s=!0):o>0&&(t.x+=o,s=!0)}if(this.wrapVertical);else{var u,h,d,p=t.y+t.height,m=i.y+i.height;u=t.height>i.height?this.visibilityRatio*i.height:this.visibilityRatio*t.height,h=i.y-p+u,d=m-t.y-u,u>i.height?(t.y+=(h+d)/2,n=!0):d<0?(t.y+=d,n=!0):h>0&&(t.y+=h,n=!0)}var g=s||n,f=g?this.viewerElementToViewportRectangle(t):e.clone();return f.xConstrained=s,f.yConstrained=n,f.constraintApplied=g,f},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),i=this._applyZoomConstraints(t);t!==i&&this.zoomTo(i,this.zoomPoint,e);var s=this.getConstrainedBounds(!1);return s.constraintApplied&&(this.fitBounds(s,e),this._raiseConstraintsEvent(e)),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,i){var s=(i=i||{}).immediately||!1,n=i.constraints||!1,r=this.getAspectRatio(),o=t.getCenter(),a=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();a.getAspectRatio()>=r?a.height=a.width/r:a.width=a.height*r,a.x=o.x-a.width/2,a.y=o.y-a.height/2;var l=1/a.width;if(s)return this.panTo(o,!0),this.zoomTo(l,null,!0),n&&this.applyConstraints(!0),this;var c=this.getCenter(!0),u=this.getZoom(!0);this.panTo(c,!0),this.zoomTo(u,null,!0);var h=this.getBounds(),d=this.getZoom();if(0===d||Math.abs(l/d-1)<1e-8)return this.zoomTo(l,null,!0),this.panTo(o,s),n&&this.applyConstraints(!1),this;if(n){this.panTo(o,!1),l=this._applyZoomConstraints(l),this.zoomTo(l,null,!1);var p=this.getConstrainedBounds();this.panTo(c,!0),this.zoomTo(u,null,!0),this.fitBounds(p)}else{var m=a.rotate(-this.getRotation()).getTopLeft().times(l).minus(h.getTopLeft().times(d)).divide(l-d);this.zoomTo(l,m,s)}return this},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var i=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(i,t)},fitHorizontally:function(t){var i=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(i,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,i){var s=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(s.plus(t),i)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,i){return this.zoomTo(this.zoomSpring.target.value*e,t,i)},zoomTo:function(t,i,s){var n=this;return this.zoomPoint=i instanceof e.Point&&!isNaN(i.x)&&!isNaN(i.y)?i:null,s?this._adjustCenterSpringsForZoomPoint((function(){n.zoomSpring.resetTo(t)})):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:i,immediately:s}),this},setRotation:function(e,t){return this.rotateTo(e,null,t)},getRotation:function(e){return e?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(e,t,i){return this.rotateTo(e,t,i)},rotateTo:function(t,i,s){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===t&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=i instanceof e.Point&&!isNaN(i.x)&&!isNaN(i.y)?i:null,s)if(this.rotationPivot){if(!(t-this._oldDegrees))return this.rotationPivot=null,this;this._rotateAboutPivot(t)}else this.degreesSpring.resetTo(t);else{var n=e.positiveModulo(this.degreesSpring.current.value,360),r=e.positiveModulo(t,360),o=r-n;o>180?r-=360:o<-180&&(r+=360);var a=n-r;this.degreesSpring.resetTo(t+a),this.degreesSpring.springTo(t)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t,immediately:!!s,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(e,t,i){return this.rotateTo(this.degreesSpring.target.value+e,t,i)},resize:function(e,t){var i,s=this.getBoundsNoRotate(),n=s;this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(i=e.x/this.containerSize.x,n.width=s.width*i,n.height=n.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t});var r=this.fitBounds(n,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:e,maintain:t}),r},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint((function(){e.zoomSpring.update()})),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,t},_rotateAboutPivot:function(e){var t=!0===e,i=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),t?this.degreesSpring.update():this.degreesSpring.resetTo(e);var s=this.degreesSpring.current.value-this._oldDegrees,n=i.rotate(-1*s).times(-1);this.centerSpringX.shiftBy(n.x),this.centerSpringY.shiftBy(n.y)},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var i=this.pixelFromPoint(this.zoomPoint,!0).minus(t),s=this.deltaPointsFromPixels(i,!0);this.centerSpringX.shiftBy(s.x),this.centerSpringY.shiftBy(s.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation(t)),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation(t))},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,i){return t.minus(i.getTopLeft()).times(this._containerInnerSize.x/i.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(!0),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,i){var s=this.getBoundsNoRotate(i);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/s.width).plus(s.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(t),this.getCenter(t))},_viewportToImageDelta:function(t,i){var s=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/s,i*this._contentSizeNoRotate.x/s)},viewportToImageCoordinates:function(t,i){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var s=this.viewer.world.getItemCount();if(s>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===s){return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,i,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,i-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,i){var s=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*s,i/this._contentSizeNoRotate.x*s)},imageToViewportCoordinates:function(t,i){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var s=this.viewer.world.getItemCount();if(s>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===s){return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,i,!0)}}var n=this._imageToViewportDelta(t,i);return n.x+=this._contentBoundsNoRotate.x,n.y+=this._contentBoundsNoRotate.y,n},imageToViewportRectangle:function(t,i,s,n){var r=t;if(r instanceof e.Rect||(r=new e.Rect(t,i,s,n)),this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===o){return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,i,s,n,!0)}}var a=this.imageToViewportCoordinates(r.x,r.y),l=this._imageToViewportDelta(r.width,r.height);return new e.Rect(a.x,a.y,l.x,l.y,r.degrees)},viewportToImageRectangle:function(t,i,s,n){var r=t;if(r instanceof e.Rect||(r=new e.Rect(t,i,s,n)),this.viewer){var o=this.viewer.world.getItemCount();if(o>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===o){return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,i,s,n,!0)}}var a=this.viewportToImageCoordinates(r.x,r.y),l=this._viewportToImageDelta(r.width,r.height);return new e.Rect(a.x,a.y,l.x,l.y,r.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var i=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(i)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var i=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(i)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===i){return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}}var s=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/s*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)this.silenceMultiImageWarnings||e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===i){return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e||(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e})),this}}}(t),function(e){e.TiledImage=function(i){var s=this;e.console.assert(i.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(i.drawer,"[TiledImage] options.drawer is required"),e.console.assert(i.viewer,"[TiledImage] options.viewer is required"),e.console.assert(i.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(i.source,"[TiledImage] options.source is required"),e.console.assert(!i.clip||i.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=i.tileCache,delete i.tileCache,this._drawer=i.drawer,delete i.drawer,this._imageLoader=i.imageLoader,delete i.imageLoader,i.clip instanceof e.Rect&&(this._clip=i.clip.clone()),delete i.clip;var n=i.x||0;delete i.x;var r=i.y||0;delete i.y,this.normHeight=i.source.dimensions.y/i.source.dimensions.x,this.contentAspectX=i.source.dimensions.x/i.source.dimensions.y;var o=1;i.width?(o=i.width,delete i.width,i.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete i.height)):i.height&&(o=i.height/this.normHeight,delete i.height);var a=i.fitBounds;delete i.fitBounds;var l=i.fitBoundsPlacement||t.Placement.CENTER;delete i.fitBoundsPlacement;var c=i.degrees||0;delete i.degrees;var u=i.ajaxHeaders;delete i.ajaxHeaders,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:e.DEFAULT_SETTINGS.subPixelRoundingForTransparency},i),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:c,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),a&&this.fitBounds(a,l,!0),this._drawingHandler=function(t){s.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:s},t))},this._ownAjaxHeaders={},this.setAjaxHeaders(u,!1)},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),i=this._scaleSpring.update(),s=this._degreesSpring.update();return!!(e||t||i||s)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var i=this.getBoundsNoRotate(t);if(this._clip){var s=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,n=this._clip.times(s);i=new e.Rect(i.x+n.x,i.y+n.y,n.width,n.height)}return i.rotate(this.getRotation(t),this._getRotationPoint(t))},getTileBounds:function(e,t,i){var s=this.source.getNumTiles(e),n=(s.x+t%s.x)%s.x,r=(s.y+i%s.y)%s.y,o=this.source.getTileBounds(e,n,r);return this.getFlip()&&(o.x=1-o.x-o.width),o.x+=(t-n)/s.x,o.y+=this._worldHeightCurrent/this._worldWidthCurrent*((i-r)/s.y),o},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var t=this.imageToWindowCoordinates(new e.Point(0,0)),i=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(i.x-t.x,i.y-t.y)},_viewportToImageDelta:function(t,i,s){var n=s?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/n),i*(this.source.dimensions.y*this.contentAspectX/n))},viewportToImageCoordinates:function(t,i,s){var n;return t instanceof e.Point?(s=i,n=t):n=new e.Point(t,i),n=n.rotate(-this.getRotation(s),this._getRotationPoint(s)),s?this._viewportToImageDelta(n.x-this._xSpring.current.value,n.y-this._ySpring.current.value):this._viewportToImageDelta(n.x-this._xSpring.target.value,n.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,i,s){var n=s?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*n,i/this.source.dimensions.y/this.contentAspectX*n)},imageToViewportCoordinates:function(t,i,s){t instanceof e.Point&&(s=i,i=t.y,t=t.x);var n=this._imageToViewportDelta(t,i);return s?(n.x+=this._xSpring.current.value,n.y+=this._ySpring.current.value):(n.x+=this._xSpring.target.value,n.y+=this._ySpring.target.value),n.rotate(this.getRotation(s),this._getRotationPoint(s))},imageToViewportRectangle:function(t,i,s,n,r){var o=t;o instanceof e.Rect?r=i:o=new e.Rect(t,i,s,n);var a=this.imageToViewportCoordinates(o.getTopLeft(),r),l=this._imageToViewportDelta(o.width,o.height,r);return new e.Rect(a.x,a.y,l.x,l.y,o.degrees+this.getRotation(r))},viewportToImageRectangle:function(t,i,s,n,r){var o=t;t instanceof e.Rect?r=i:o=new e.Rect(t,i,s,n);var a=this.viewportToImageCoordinates(o.getTopLeft(),r),l=this._viewportToImageDelta(o.width,o.height,r);return new e.Rect(a.x,a.y,l.x,l.y,o.degrees-this.getRotation(r))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var i=e.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(i)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(t.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var i=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/i,(t.y-this._ySpring.current.value)/i,t.width/i,t.height/i,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var i=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(i&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(i)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}i||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},setCroppingPolygons:function(t){var i=function(t){return t.map((function(t){try{if(function(t){return t instanceof e.Point||"number"==typeof t.x&&"number"==typeof t.y}(t))return{x:t.x,y:t.y};throw new Error}catch(e){throw new Error("A Provided cropping polygon point is not supported")}}))};try{if(!e.isArray(t))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=t.map((function(e){return i(e)}))}catch(t){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(t),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(t,i,s){i=i||e.Placement.CENTER;var n=e.Placement.properties[i],r=this.contentAspectX,o=0,a=0,l=1,c=1;if(this._clip&&(r=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,c=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>r?(o=this._clip.x/this._clip.height*t.height,a=this._clip.y/this._clip.height*t.height):(o=this._clip.x/this._clip.width*t.width,a=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>r){var u=t.height/c,h=0;n.isHorizontallyCentered?h=(t.width-t.height*r)/2:n.isRight&&(h=t.width-t.height*r),this.setPosition(new e.Point(t.x-o+h,t.y-a),s),this.setHeight(u,s)}else{var d=t.width/l,p=0;n.isVerticallyCentered?p=(t.height-t.width/r)/2:n.isBottom&&(p=t.height-t.width/r),this.setPosition(new e.Point(t.x-o,t.y-a+p),s),this.setWidth(d,s)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(e){this.flipped=!!e,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},setAjaxHeaders:function(t,i){null===t&&(t={}),e.isPlainObject(t)?(this._ownAjaxHeaders=t,this._updateAjaxHeaders(i)):console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},_updateAjaxHeaders:function(t){if(void 0===t&&(t=!0),e.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=e.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,t){var i,s,n,r;for(var o in this.tilesMatrix)for(var a in i=this.source.getNumTiles(o),this.tilesMatrix[o])for(var l in s=(i.x+a%i.x)%i.x,this.tilesMatrix[o][a])if(n=(i.y+l%i.y)%i.y,(r=this.tilesMatrix[o][a][l]).loadWithAjax=this.loadTilesWithAjax,r.loadWithAjax){var c=this.source.getTileAjaxHeaders(o,s,n);r.ajaxHeaders=e.extend({},this.ajaxHeaders,c)}else r.ajaxHeaders=null;for(var u=0;u<this._imageLoader.jobQueue.length;u++){var h=this._imageLoader.jobQueue[u];h.loadWithAjax=h.tile.loadWithAjax,h.ajaxHeaders=h.tile.loadWithAjax?h.tile.ajaxHeaders:null}}},_setScale:function(e,t){var i=this._scaleSpring.target.value===e;if(t){if(i&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(i)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}i||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,i=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return i=Math.max(i,this.source.minLevel||0),{lowestLevel:e=Math.min(e,i),highestLevel:i}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var t=this.viewport,i=this._viewportToTiledImageRectangle(t.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var s=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(i=i.intersection(s)))return}for(var n=this._getLevelsInterval(),r=n.lowestLevel,o=n.highestLevel,a=null,l=!1,c=e.now(),u=o;u>=r;u--){var h=!1,d=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(u),!0).x*this._scaleSpring.current.value;if(u===r||!l&&d>=this.minPixelRatio)h=!0,l=!0;else if(!l)continue;var p=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(u),!1).x*this._scaleSpring.current.value,m=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,g=this.immediateRender?1:m,f=Math.min(1,(d-.5)/.5),v=g/Math.abs(g-p);if(a=this._updateLevel(l,h,u,f,v,i,c,a),this._providesCoverage(this.coverage,u))break}this._drawTiles(this.lastDrawn),a&&!a.context2D?(this._loadTile(a,c),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,i,s){var n,r,o,a;this.wrapHorizontal?(n=e.positiveModulo(i.x,1),r=e.positiveModulo(s.x,1)):(n=Math.max(0,i.x),r=Math.min(1,s.x));var l=1/this.source.aspectRatio;this.wrapVertical?(o=e.positiveModulo(i.y,l),a=e.positiveModulo(s.y,l)):(o=Math.max(0,i.y),a=Math.min(l,s.y));var c=this.source.getTileAtPoint(t,new e.Point(n,o)),u=this.source.getTileAtPoint(t,new e.Point(r,a)),h=this.source.getNumTiles(t);return this.wrapHorizontal&&(c.x+=h.x*Math.floor(i.x),u.x+=h.x*Math.floor(s.x)),this.wrapVertical&&(c.y+=h.y*Math.floor(i.y/l),u.y+=h.y*Math.floor(s.y/l)),{topLeft:c,bottomRight:u}},_updateLevel:function(e,t,i,s,n,r,o,a){var l=r.getBoundingBox().getTopLeft(),c=r.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:e,level:i,opacity:s,visibility:n,drawArea:r,topleft:l,bottomright:c,currenttime:o,best:a}),this._resetCoverage(this.coverage,i),this._resetCoverage(this.loadingCoverage,i);var u=this._getCornerTiles(i,l,c),h=u.topLeft,d=u.bottomRight,p=this.source.getNumTiles(i),m=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(d.x+=1,this.wrapHorizontal||(d.x=Math.min(d.x,p.x-1)));for(var g=h.x;g<=d.x;g++)for(var f=h.y;f<=d.y;f++){var v;if(this.getFlip()){var y=(p.x+g%p.x)%p.x;v=g+p.x-y-y-1}else v=g;null!==r.intersection(this.getTileBounds(i,v,f))&&(a=this._updateTile(t,e,v,f,i,s,n,m,p,o,a))}return a},_updateTile:function(e,t,i,s,n,r,o,a,l,c,u){var h=this._getTile(i,s,n,c,l,this._worldWidthCurrent,this._worldHeightCurrent),d=t;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:h}),this._setCoverage(this.coverage,n,i,s,!1);var p=h.loaded||h.loading||this._isCovered(this.loadingCoverage,n,i,s);if(this._setCoverage(this.loadingCoverage,n,i,s,p),!h.exists)return u;if(e&&!d&&(this._isCovered(this.coverage,n,i,s)?this._setCoverage(this.coverage,n,i,s,!0):d=!0),!d)return u;if(this._positionTile(h,this.source.tileOverlap,this.viewport,a,o),!h.loaded)if(h.context2D)this._setTileLoaded(h);else{var m=this._tileCache.getImageRecord(h.cacheKey);m&&this._setTileLoaded(h,m.getData())}h.loaded?this._blendTile(h,i,s,n,r,c)&&(this._needsDraw=!0):h.loading?this._tilesLoading++:p||(u=this._compareTiles(u,h));return u},_getTile:function(t,i,s,n,r,o,a){var l,c,u,h,d,p,m,g,f,v,y=this.tilesMatrix,w=this.source;return y[s]||(y[s]={}),y[s][t]||(y[s][t]={}),y[s][t][i]&&!y[s][t][i].flipped==!this.flipped||(l=(r.x+t%r.x)%r.x,c=(r.y+i%r.y)%r.y,u=this.getTileBounds(s,t,i),h=w.getTileBounds(s,l,c,!0),d=w.tileExists(s,l,c),p=w.getTileUrl(s,l,c),m=w.getTilePostData(s,l,c),this.loadTilesWithAjax?(g=w.getTileAjaxHeaders(s,l,c),e.isPlainObject(this.ajaxHeaders)&&(g=e.extend({},this.ajaxHeaders,g))):g=null,f=w.getContext2D?w.getContext2D(s,l,c):void 0,v=new e.Tile(s,t,i,u,d,p,f,this.loadTilesWithAjax,g,h,m,w.getTileHashKey(s,l,c,p,g,m)),this.getFlip()?0===l&&(v.isRightMost=!0):l===r.x-1&&(v.isRightMost=!0),c===r.y-1&&(v.isBottomMost=!0),v.flipped=this.flipped,y[s][t][i]=v),(v=y[s][t][i]).lastTouchTime=n,v},_loadTile:function(e,t){var i=this;e.loading=!0,this._imageLoader.addJob({src:e.getUrl(),tile:e,source:this.source,postData:e.postData,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(s,n,r){i._onTileLoad(e,t,s,n,r)},abort:function(){e.loading=!1}})},_onTileLoad:function(t,i,s,n,r){if(!s)return e.console.error("Tile %s failed to load: %s - error: %s",t,t.getUrl(),n),this.viewer.raiseEvent("tile-load-failed",{tile:t,tiledImage:this,time:i,message:n,tileRequest:r}),t.loading=!1,void(t.exists=!1);if(t.exists=!0,i<this.lastResetTime)return e.console.warn("Ignoring tile %s loaded before reset: %s",t,t.getUrl()),void(t.loading=!1);var o=this,a=function(){var e=o.source.getClosestLevel();o._setTileLoaded(t,s,e,r)};this._midDraw?window.setTimeout(a,1):a()},_setTileLoaded:function(t,i,s,n){var r=0,o=!1,a=this;function l(){return o&&e.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),r++,c}function c(){0===--r&&(t.loading=!1,t.loaded=!0,t.hasTransparency=a.source.hasTransparency(t.context2D,t.getUrl(),t.ajaxHeaders,t.postData),t.context2D||a._tileCache.cacheTile({data:i,tile:t,cutoff:s,tiledImage:a}),a._needsDraw=!0)}var u=l();this.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:this,tileRequest:n,get image(){return e.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),i},data:i,getCompletionCallback:l}),o=!0,u()},_positionTile:function(t,i,s,n,r){var o=t.bounds.getTopLeft();o.x*=this._scaleSpring.current.value,o.y*=this._scaleSpring.current.value,o.x+=this._xSpring.current.value,o.y+=this._ySpring.current.value;var a=t.bounds.getSize();a.x*=this._scaleSpring.current.value,a.y*=this._scaleSpring.current.value;var l=s.pixelFromPointNoRotate(o,!0),c=s.pixelFromPointNoRotate(o,!1),u=s.deltaPixelsFromPointsNoRotate(a,!0),h=s.deltaPixelsFromPointsNoRotate(a,!1),d=c.plus(h.divide(2)),p=n.squaredDistanceTo(d);i||(u=u.plus(new e.Point(1,1))),t.isRightMost&&this.wrapHorizontal&&(u.x+=.75),t.isBottomMost&&this.wrapVertical&&(u.y+=.75),t.position=l,t.size=u,t.squaredDistance=p,t.visibility=r},_blendTile:function(e,t,i,s,n,r){var o,a,l=1e3*this.blendTime;if(e.blendStart||(e.blendStart=r),o=r-e.blendStart,a=l?Math.min(1,o/l):1,this.alwaysBlend&&(a*=n),e.opacity=a,this.lastDrawn.push(e),1===a)this._setCoverage(this.coverage,s,t,i,!0),this._hasOpaqueTile=!0;else if(o<l)return!0;return!1},_compareTiles:function(e,t){return e?t.visibility>e.visibility||t.visibility===e.visibility&&t.squaredDistance<e.squaredDistance?t:e:t},_drawTiles:function(t){if(0!==this.opacity&&(0!==t.length||this.placeholderFillStyle)){var r,o,a,l=t[0];l&&(r=this.opacity<1||this.compositeOperation&&"source-over"!==this.compositeOperation||!this._isBottomItem()&&this.source.hasTransparency(l.context2D,l.getUrl(),l.ajaxHeaders,l.postData));var c,u=this.viewport.getZoom(!0),h=this.viewportToImageZoom(u);t.length>1&&h>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360==0&&e.supportsCanvas&&this.viewer.useCanvas&&(r=!0,o=l.getScaleForEdgeSmoothing(),a=l.getTranslationForEdgeSmoothing(o,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0))),r&&(o||(c=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360==0&&this.getRotation(!0)%360==0||(c.x=this._drawer.viewer.container.clientWidth-(c.x+c.width))),c=c.times(e.pixelDensityRatio)),this._drawer._clear(!0,c)),o||(this.viewport.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:r}),this.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:r}),this.viewport.getRotation(!0)%360==0&&this.getRotation(!0)%360==0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var d=!1;if(this._clip){this._drawer.saveContext(r);var p=this.imageToViewportRectangle(this._clip,!0);p=p.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var m=this._drawer.viewportToDrawerRectangle(p);o&&(m=m.times(o)),a&&(m=m.translate(a)),this._drawer.setClip(m,r),d=!0}if(this._croppingPolygons){var g=this;this._drawer.saveContext(r);try{var f=this._croppingPolygons.map((function(e){return e.map((function(e){var t=g.imageToViewportCoordinates(e.x,e.y,!0).rotate(-g.getRotation(!0),g._getRotationPoint(!0)),i=g._drawer.viewportCoordToDrawerCoord(t);return o&&(i=i.times(o)),a&&(i=i.plus(a)),i}))}));this._drawer.clipWithPolygons(f,r)}catch(t){e.console.error(t)}d=!0}if(this.placeholderFillStyle&&!1===this._hasOpaqueTile){var v=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));o&&(v=v.times(o)),a&&(v=v.translate(a));var y=null;y="function"==typeof this.placeholderFillStyle?this.placeholderFillStyle(this,this._drawer.context):this.placeholderFillStyle,this._drawer.drawRectangle(v,y,r)}var w=function(t){if("number"==typeof t)return n(t);if(!t||!e.Browser)return i;var r=t[e.Browser.vendor];s(r)&&(r=t["*"]);return n(r)}(this.subPixelRoundingForTransparency),b=!1;if(w===e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)b=!0;else if(w===e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){b=!(this.viewer&&this.viewer.isAnimating())}for(var T=t.length-1;T>=0;T--)l=t[T],this._drawer.drawTile(l,this._drawingHandler,r,o,a,b,this.source),l.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:l});d&&this._drawer.restoreContext(r),o||(this.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(r),this.viewport.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(r)),r&&(o&&(this.viewport.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:o,translate:a,compositeOperation:this.compositeOperation,bounds:c}),o&&(this.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(!1))),o||this.viewport.getRotation(!0)%360==0&&this.getRotation(!0)%360==0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(t)}},_drawDebugInfo:function(t){if(this.debugMode)for(var i=t.length-1;i>=0;i--){var s=t[i];try{this._drawer.drawDebugInfo(s,t.length,i,this)}catch(t){e.console.error(t)}}},_providesCoverage:function(e,t,i,s){var n,r,o,a;if(!e[t])return!1;if(void 0===i||void 0===s){for(o in n=e[t])if(Object.prototype.hasOwnProperty.call(n,o))for(a in r=n[o])if(Object.prototype.hasOwnProperty.call(r,a)&&!r[a])return!1;return!0}return void 0===e[t][i]||void 0===e[t][i][s]||!0===e[t][i][s]},_isCovered:function(e,t,i,s){return void 0===i||void 0===s?this._providesCoverage(e,t+1):this._providesCoverage(e,t+1,2*i,2*s)&&this._providesCoverage(e,t+1,2*i,2*s+1)&&this._providesCoverage(e,t+1,2*i+1,2*s)&&this._providesCoverage(e,t+1,2*i+1,2*s+1)},_setCoverage:function(t,i,s,n,r){t[i]?(t[i][s]||(t[i][s]={}),t[i][s][n]=r):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",i)},_resetCoverage:function(e,t){e[t]={}}});var i=e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function s(t){return t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function n(e){return s(e)?i:e}}(t),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},i=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.data,"[ImageRecord] options.data is required"),this._tiles=[],t.create.apply(null,[this,t.data,t.ownerTile]),this._destroyImplementation=t.destroy.bind(null,this),this.getImage=t.getImage.bind(null,this),this.getData=t.getData.bind(null,this),this.getRenderedContext=t.getRenderedContext.bind(null,this)};i.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var i=0;i<this._tiles.length;i++)if(this._tiles[i]===t)return void this._tiles.splice(i,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(s){e.console.assert(s,"[TileCache.cacheTile] options is required"),e.console.assert(s.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(s.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(s.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var n=s.cutoff||0,r=this._tilesLoaded.length,o=this._imagesLoaded[s.tile.cacheKey];if(o||(s.data||(e.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),s.data=s.image),e.console.assert(s.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),o=this._imagesLoaded[s.tile.cacheKey]=new i({data:s.data,ownerTile:s.tile,create:s.tiledImage.source.createTileCache,destroy:s.tiledImage.source.destroyTileCache,getImage:s.tiledImage.source.getTileCacheDataAsImage,getData:s.tiledImage.source.getTileCacheData,getRenderedContext:s.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),o.addTile(s.tile),s.tile.cacheImageRecord=o,this._imagesLoadedCount>this._maxImageCacheCount){for(var a,l,c,u,h,d,p=null,m=-1,g=null,f=this._tilesLoaded.length-1;f>=0;f--)(a=(d=this._tilesLoaded[f]).tile).level<=n||a.beingDrawn||(p?(u=a.lastTouchTime,l=p.lastTouchTime,h=a.level,c=p.level,(u<l||u===l&&h>c)&&(p=a,m=f,g=d)):(p=a,m=f,g=d));p&&m>=0&&(this._unloadTile(g),r=m)}this._tilesLoaded[r]=new t({tile:s.tile,tiledImage:s.tiledImage})},clearTilesFor:function(t){var i;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var s=0;s<this._tilesLoaded.length;++s)(i=this._tilesLoaded[s]).tiledImage===t&&(this._unloadTile(i),this._tilesLoaded.splice(s,1),s--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var i=t.tile,s=t.tiledImage;i.unload(),i.cacheImageRecord=null;var n=this._imagesLoaded[i.cacheKey];n.removeTile(i),n.getTileCount()||(n.destroy(),delete this._imagesLoaded[i.cacheKey],this._imagesLoadedCount--),s.viewer.raiseEvent("tile-unloaded",{tile:i,tiledImage:s})}}}(t),function(e){e.World=function(t){var i=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){i._autoRefigureSizes?i._figureSizes():i._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,i){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(i=i||{}).index){var s=Math.max(0,Math.min(this._items.length,i.index));this._items.splice(s,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,i){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==i,"[World.setItemIndex] index is required");var s=this.getIndexOfItem(t);if(i>=this._items.length)throw new Error("Index bigger than number of layers.");i!==s&&-1!==s&&(this._items.splice(s,1),this._items.splice(i,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:s,newIndex:i}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var i=e.indexOf(this._items,t);-1!==i&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(i,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var i=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<i.length;t++)e=i[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var i,s=(t=t||{}).immediately||!1,n=t.layout||e.DEFAULT_SETTINGS.collectionLayout,r=t.rows||e.DEFAULT_SETTINGS.collectionRows,o=t.columns||e.DEFAULT_SETTINGS.collectionColumns,a=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=a+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);i=!t.rows&&o?o:Math.ceil(this._items.length/r);var c,u,h,d,p,m=0,g=0;this.setAutoRefigureSizes(!1);for(var f=0;f<this._items.length;f++)f&&f%i==0&&("horizontal"===n?(g+=l,m=0):(m+=l,g=0)),d=(h=(u=(c=this._items[f]).getBounds()).width>u.height?a:a*(u.width/u.height))*(u.height/u.width),p=new e.Point(m+(a-h)/2,g+(a-d)/2),c.setPosition(p,s),c.setWidth(h,s),"horizontal"===n?m+=l:g+=l;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,i=this._contentSize?this._contentSize.clone():null,s=this._contentFactor||0;if(this._items.length){var n=this._items[0],r=n.getBounds();this._contentFactor=n.getContentSize().x/r.width;for(var o=n.getClippedBounds().getBoundingBox(),a=o.x,l=o.y,c=o.x+o.width,u=o.y+o.height,h=1;h<this._items.length;h++)r=(n=this._items[h]).getBounds(),this._contentFactor=Math.max(this._contentFactor,n.getContentSize().x/r.width),o=n.getClippedBounds().getBoundingBox(),a=Math.min(a,o.x),l=Math.min(l,o.y),c=Math.max(c,o.x+o.width),u=Math.max(u,o.y+o.height);this._homeBounds=new e.Rect(a,l,c-a,u-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===s&&this._homeBounds.equals(t)&&this._contentSize.equals(i)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(t)}(ia);var sa=ta(ia.exports);class na{constructor(e){this.modal=e,this.viewer=e.querySelector(".js-zoom-modal-viewer"),this.zoomInBtn=e,this.zoomOutBtn=e.querySelector(".js-zoom-out"),this.modal.addEventListener("open-a11y-modal",(()=>{this.init()})),this.modal.addEventListener("close-a11y-modal",(()=>{this.openSeaDragon.destroy()}))}init(){this.initialized=!0;const e=this.viewer.getAttribute("id"),t=this.viewer.getAttribute("data-tilesources"),i=this.modal.querySelector(".js-zoom-in"),s=this.modal.querySelector(".js-zoom-out"),n=this.modal.querySelector(".js-zoom-home");setTimeout((()=>{this.openSeaDragon=sa({id:e,tileSources:t,zoomInButton:i,zoomOutButton:s,homeButton:n,showFullPageControl:!1})}),1)}}class ra{constructor(e){if(this.elements={wrapper:e,video:e.querySelector("video"),image:e.querySelector("img"),toggle:e.querySelector(".js-ambient-video-toggle")},!this.elements.video)return!1;const t=matchMedia("(prefers-reduced-motion)");this.config={disableMotion:t.matches,cookieName:"BC_Ambient_Video_Opt"},e.hasAttribute("id")?this.config.id=e.getAttribute("id"):(this.config.id=`ambient-video-${Math.ceil(5e3*Math.random())}`,e.setAttribute("id",this.config.id)),this.config.cookieValue=this.getCookie(this.config.cookieName),this.classNames={noMotion:"no-motion",loading:"is-loading",ready:"is-ready",animate:"can-animate",error:"is-error",playing:"is-playing",paused:"is-paused"},this.isPlaying=!1,this.listenerInitiated=!1,this.videoReadyListener=this.handleVideoReady.bind(this),this.init()}init(){this.config.disableMotion?(this.elements.wrapper.classList.add(this.classNames.noMotion),this.pauseVideo()):(this.elements.wrapper.classList.add(this.classNames.loading),this.elements.video.addEventListener("loadeddata",this.videoReadyListener,!1)),this.elements.video.addEventListener("error",(e=>{this.elements.wrapper.classList.add(this.classNames.error)}),!0),this.elements.toggle.addEventListener("click",this.handleToggleClick.bind(this))}handleVideoReady(){!this.listenerInitiated&&this.elements.video.readyState>=2&&(this.listenerInitiated=!0,this.elements.wrapper.classList.remove(this.classNames.loading),this.elements.wrapper.classList.add(this.classNames.ready),"pause"===this.config.cookieValue?this.pauseVideo():this.playVideo(),setTimeout((()=>{this.elements.wrapper.classList.add(this.classNames.animate)}),1),this.elements.video.removeEventListener("loadeddata",this.videoReadyListener,!1))}handleToggleClick(){this.isPlaying?this.pauseVideo():this.playVideo()}pauseVideo(){this.elements.video.pause(),this.isPlaying=!1,this.stateSetAttributes(this.classNames.paused,this.classNames.playing),this.setCookie(this.config.cookieName,"pause",1)}playVideo(){this.elements.video.play(),this.isPlaying=!0,this.stateSetAttributes(this.classNames.playing,this.classNames.paused),this.setCookie(this.config.cookieName,"play",1)}stateSetAttributes(e,t){this.elements.toggle.classList.add(e),this.elements.toggle.classList.remove(t),this.elements.wrapper.classList.add(e),this.elements.wrapper.classList.remove(t)}getCookie(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}setCookie(e,t,i){var s=new Date;s.setTime(s.getTime()+864e5*i),document.cookie=e+"="+t+";path=/;expires="+s.toGMTString()}}var oa=function(e){throw new Error("Missing property '"+e+"' in MagicGrid config")},aa=function(e){!function(e){if(!e)throw new Error("No config object has been provided.");"boolean"!=typeof e.useTransform&&(e.useTransform=!0),"number"!=typeof e.gutter&&(e.gutter=25),e.container||oa("container"),e.items||e.static||oa("items or static")}(e),e.container instanceof HTMLElement?(this.container=e.container,this.containerClass=e.container.className):(this.containerClass=e.container,this.container=document.querySelector(e.container)),this.items=this.container.children,this.static=e.static||!1,this.size=e.items,this.gutter=e.gutter,this.maxColumns=e.maxColumns||!1,this.useMin=e.useMin||!1,this.useTransform=e.useTransform,this.animate=e.animate||!1,this.started=!1,this.init()};aa.prototype.init=function(){if(this.ready()&&!this.started){this.container.style.position="relative";for(var e=0;e<this.items.length;e++){var t=this.items[e].style;t.position="absolute",this.animate&&(t.transition=(this.useTransform?"transform":"top, left")+" 0.2s ease")}this.started=!0}},aa.prototype.colWidth=function(){return this.items[0].getBoundingClientRect().width+this.gutter},aa.prototype.setup=function(){var e=this.container.getBoundingClientRect().width,t=this.colWidth(),i=Math.floor(e/t)||1,s=[];this.maxColumns&&i>this.maxColumns&&(i=this.maxColumns);for(var n=0;n<i;n++)s[n]={height:0,index:n};return{cols:s,wSpace:e-i*t+this.gutter}},aa.prototype.nextCol=function(e,t){return this.useMin?function(e){var t=e[0];for(var i of e)i.height<t.height&&(t=i);return t}(e):e[t%e.length]},aa.prototype.positionItems=function(){var e=this.setup(),t=e.cols,i=e.wSpace,s=0,n=this.colWidth();i=Math.floor(i/2);for(var r=0;r<this.items.length;r++){var o=this.nextCol(t,r),a=this.items[r],l=o.height?this.gutter:0,c=o.index*n+i+"px",u=o.height+l+"px";this.useTransform?a.style.transform="translate("+c+", "+u+")":(a.style.top=u,a.style.left=c),a.getBoundingClientRect().height>0&&(o.height+=a.getBoundingClientRect().height+l),o.height>s&&(s=o.height)}this.container.style.height=s+"px"},aa.prototype.ready=function(){return!!this.static||this.items.length>=this.size},aa.prototype.getReady=function(){var e=this,t=setInterval((function(){e.container=document.querySelector(e.containerClass),e.items=e.container.children,e.ready()&&(clearInterval(t),e.init(),e.listen())}),100)},aa.prototype.listen=function(){var e,t=this;this.ready()?(window.addEventListener("resize",(function(){e||(e=setTimeout((function(){t.positionItems(),e=null}),200))})),this.positionItems()):this.getReady()};class la{#Y;#$;#Z;#X;#K;#J;#Q;constructor(e){this.#Y=e,this.#$=e.querySelector(".js-artwork-grid-list"),this.#Z=getComputedStyle(e).getPropertyValue("--ag-column-gutter"),this.#K=this.#Y.querySelector(".js-artwork-grid-more-mobile"),this.#J=this.#Y.querySelector(".js-artwork-grid-more-tablet"),this.#Q=this.#Y.querySelector(".js-artwork-grid-more-desktop"),this.#ee(),this.#te()}#ee(){this.#X=new aa({container:this.#$,static:!0,gutter:parseInt(this.#Z,10),maxColumns:5,useMin:!0}),this.#X.listen();this.#$.querySelectorAll("img").forEach((e=>{e.addEventListener("load",(e=>{this.#ie()}))}))}#te(){this.#K&&this.#se(this.#K),this.#J&&this.#se(this.#J),this.#Q&&this.#se(this.#Q)}#se(e){e.addEventListener("click",(()=>{const e=[...this.#$.querySelectorAll("li")].filter((e=>0===e.getBoundingClientRect().width))[0].querySelector("button");this.#Y.classList.add("show-more"),e.focus(),this.#ie(),setTimeout((()=>{this.#ie()}),300)}))}#ie(){this.#X&&this.#X.positionItems()}}class ca{constructor(e){this.nav=e,this.links=e.querySelectorAll("a"),this.linkParents=e.querySelectorAll("li"),this.anchorGroups={},this.anchorTargets=[],this.init()}init(){this.links.forEach((e=>{let t=e.getAttribute("href");if(t&&""!==t){t=t.replace("#","");const i=document.getElementById(t);i&&(this.anchorTargets.push(i),this.anchorGroups[t]={panel:i,id:t,link:e,linkParent:e.closest("li")})}})),this.handlePanels()}handlePanels(){const e=new IntersectionObserver((e=>{for(const t of e)if(t.isIntersecting){const e=t.target.getAttribute("id");this.linkParents.forEach((e=>e.classList.remove("is-active"))),this.anchorGroups[e].linkParent.classList.add("is-active")}}),{rootMargin:"-50% 0px"});this.anchorTargets.forEach((t=>e.observe(t)))}}function ua(){document.querySelectorAll(".js-anchor-nav").forEach((e=>{new ca(e)}))}!function(e,t,i,s){t.behaviors.nga_anchor_nav={attach:function(e){ua()}}}(jQuery,Drupal,once);class ha{#Y;#ne;constructor(e){this.#Y=e,this.#ne=e.querySelector("iframe");e.querySelector(".c-full-width-video__play").addEventListener("click",(()=>{this.handlePlay()}))}dispatchIframeAction(e){const t=new CustomEvent("videoIframeEvent",{detail:{action:e}});this.#ne.contentDocument.dispatchEvent(t)}handlePlay(){this.#Y.classList.add("is-playing"),this.dispatchIframeAction("play"),setTimeout((()=>{this.#Y.classList.add("remove-poster")}),300)}}class da{constructor(e){this.tablistNode=e,this.tabs=[],this.firstTab=null,this.lastTab=null,this.tabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]")),this.tabpanels=[];for(var t=0;t<this.tabs.length;t+=1){var i=this.tabs[t],s=document.getElementById(i.getAttribute("aria-controls"));i.tabIndex=-1,i.setAttribute("aria-selected","false"),this.tabpanels.push(s),i.addEventListener("keydown",this.onKeydown.bind(this)),i.addEventListener("click",this.onClick.bind(this)),this.firstTab||(this.firstTab=i),this.lastTab=i}this.setSelectedTab(this.firstTab)}setSelectedTab(e){for(var t=0;t<this.tabs.length;t+=1){var i=this.tabs[t];e===i?(i.setAttribute("aria-selected","true"),i.removeAttribute("tabindex"),this.tabpanels[t].classList.remove("is-hidden")):(i.setAttribute("aria-selected","false"),i.tabIndex=-1,this.tabpanels[t].classList.add("is-hidden"))}}moveFocusToTab(e){e.focus()}moveFocusToPreviousTab(e){var t;e===this.firstTab?this.moveFocusToTab(this.lastTab):(t=this.tabs.indexOf(e),this.moveFocusToTab(this.tabs[t-1]))}moveFocusToNextTab(e){var t;e===this.lastTab?this.moveFocusToTab(this.firstTab):(t=this.tabs.indexOf(e),this.moveFocusToTab(this.tabs[t+1]))}onKeydown(e){var t=e.currentTarget,i=!1;switch(e.key){case"ArrowLeft":this.moveFocusToPreviousTab(t),i=!0;break;case"ArrowRight":this.moveFocusToNextTab(t),i=!0;break;case"Home":this.moveFocusToTab(this.firstTab),i=!0;break;case"End":this.moveFocusToTab(this.lastTab),i=!0}i&&(e.stopPropagation(),e.preventDefault())}onClick(e){this.setSelectedTab(e.currentTarget)}}var pa={exports:{}};function ma(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ga,fa,va={exports:{}};function ya(){return ga||(ga=1,(e=va).exports=function(){var t,i;function s(){return t.apply(null,arguments)}function n(e){t=e}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var i,s=[],n=e.length;for(i=0;i<n;++i)s.push(t(e[i],i));return s}function p(e,t){for(var i in t)a(t,i)&&(e[i]=t[i]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,i,s){return Yi(e,t,i,s,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=g()),e._pf}function v(e){var t=null,s=!1,n=e._d&&!isNaN(e._d.getTime());return n&&(t=f(e),s=i.call(t.parsedDateParts,(function(e){return null!=e})),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s),e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?n:(e._isValid=n,e._isValid)}function y(e){var t=m(NaN);return null!=e?p(f(t),e):f(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t,i=Object(this),s=i.length>>>0;for(t=0;t<s;t++)if(t in i&&e.call(this,i[t],t,i))return!0;return!1};var w=s.momentProperties=[],b=!1;function T(e,t){var i,s,n,r=w.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=f(t)),c(t._locale)||(e._locale=t._locale),r>0)for(i=0;i<r;i++)c(n=t[s=w[i]])||(e[s]=n);return e}function S(e){T(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,s.updateOffset(this),b=!1)}function x(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function E(e){!1===s.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var i=!0;return p((function(){if(null!=s.deprecationHandler&&s.deprecationHandler(null,e),i){var n,r,o,l=[],c=arguments.length;for(r=0;r<c;r++){if(n="","object"==typeof arguments[r]){for(o in n+="\n["+r+"] ",arguments[0])a(arguments[0],o)&&(n+=o+": "+arguments[0][o]+", ");n=n.slice(0,-2)}else n=arguments[r];l.push(n)}E(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var k,_={};function D(e,t){null!=s.deprecationHandler&&s.deprecationHandler(e,t),_[e]||(E(t),_[e]=!0)}function P(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,i;for(i in e)a(e,i)&&(P(t=e[i])?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function M(e,t){var i,s=p({},e);for(i in t)a(t,i)&&(o(e[i])&&o(t[i])?(s[i]={},p(s[i],e[i]),p(s[i],t[i])):null!=t[i]?s[i]=t[i]:delete s[i]);for(i in e)a(e,i)&&!a(t,i)&&o(e[i])&&(s[i]=p({},s[i]));return s}function L(e){null!=e&&this.set(e)}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)a(e,t)&&i.push(t);return i};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function I(e,t,i){var s=this._calendar[e]||this._calendar.sameElse;return P(s)?s.call(t,i):s}function O(e,t,i){var s=""+Math.abs(e),n=t-s.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+s}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},F={};function q(e,t,i,s){var n=s;"string"==typeof s&&(n=function(){return this[s]()}),e&&(F[e]=n),t&&(F[t[0]]=function(){return O(n.apply(this,arguments),t[1],t[2])}),i&&(F[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,i,s=e.match(N);for(t=0,i=s.length;t<i;t++)F[s[t]]?s[t]=F[s[t]]:s[t]=z(s[t]);return function(t){var n,r="";for(n=0;n<i;n++)r+=P(s[n])?s[n].call(t,e):s[n];return r}}function j(e,t){return e.isValid()?(t=U(t,e.localeData()),H[t]=H[t]||V(t),H[t](e)):e.localeData().invalidDate()}function U(e,t){var i=5;function s(e){return t.longDateFormat(e)||e}for(B.lastIndex=0;i>=0&&B.test(e);)e=e.replace(B,s),B.lastIndex=0,i-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(N).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function $(){return this._invalidDate}var Z="%d",X=/\d{1,2}/;function K(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,i,s){var n=this._relativeTime[i];return P(n)?n(e,t,i,s):n.replace(/%d/i,e)}function ee(e,t){var i=this._relativeTime[e>0?"future":"past"];return P(i)?i(t):i.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ie(e){return"string"==typeof e?te[e]||te[e.toLowerCase()]:void 0}function se(e){var t,i,s={};for(i in e)a(e,i)&&(t=ie(i))&&(s[t]=e[i]);return s}var ne={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function re(e){var t,i=[];for(t in e)a(e,t)&&i.push({unit:t,priority:ne[t]});return i.sort((function(e,t){return e.priority-t.priority})),i}var oe,ae=/\d/,le=/\d\d/,ce=/\d{3}/,ue=/\d{4}/,he=/[+-]?\d{6}/,de=/\d\d?/,pe=/\d\d\d\d?/,me=/\d\d\d\d\d\d?/,ge=/\d{1,3}/,fe=/\d{1,4}/,ve=/[+-]?\d{1,6}/,ye=/\d+/,we=/[+-]?\d+/,be=/Z|[+-]\d\d:?\d\d/gi,Te=/Z|[+-]\d\d(?::?\d\d)?/gi,Se=/[+-]?\d+(\.\d{1,3})?/,xe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ee=/^[1-9]\d?/,Ce=/^([1-9]\d|\d)/;function ke(e,t,i){oe[e]=P(t)?t:function(e,s){return e&&i?i:t}}function _e(e,t){return a(oe,e)?oe[e](t._strict,t._locale):new RegExp(De(e))}function De(e){return Pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,s,n){return t||i||s||n})))}function Pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ae(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Me(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=Ae(t)),i}oe={};var Le={};function Re(e,t){var i,s,n=t;for("string"==typeof e&&(e=[e]),u(t)&&(n=function(e,i){i[t]=Me(e)}),s=e.length,i=0;i<s;i++)Le[e[i]]=n}function Ie(e,t){Re(e,(function(e,i,s,n){s._w=s._w||{},t(e,s._w,s,n)}))}function Oe(e,t,i){null!=t&&a(Le,e)&&Le[e](t,i._a,i,e)}function Ne(e){return e%4==0&&e%100!=0||e%400==0}var Be=0,He=1,Fe=2,qe=3,ze=4,Ve=5,je=6,Ue=7,Ge=8;function We(e){return Ne(e)?366:365}q("Y",0,0,(function(){var e=this.year();return e<=9999?O(e,4):"+"+e})),q(0,["YY",2],0,(function(){return this.year()%100})),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),ke("Y",we),ke("YY",de,le),ke("YYYY",fe,ue),ke("YYYYY",ve,he),ke("YYYYYY",ve,he),Re(["YYYYY","YYYYYY"],Be),Re("YYYY",(function(e,t){t[Be]=2===e.length?s.parseTwoDigitYear(e):Me(e)})),Re("YY",(function(e,t){t[Be]=s.parseTwoDigitYear(e)})),Re("Y",(function(e,t){t[Be]=parseInt(e,10)})),s.parseTwoDigitYear=function(e){return Me(e)+(Me(e)>68?1900:2e3)};var Ye,$e=Xe("FullYear",!0);function Ze(){return Ne(this.year())}function Xe(e,t){return function(i){return null!=i?(Je(this,e,i),s.updateOffset(this,t),this):Ke(this,e)}}function Ke(e,t){if(!e.isValid())return NaN;var i=e._d,s=e._isUTC;switch(t){case"Milliseconds":return s?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return s?i.getUTCSeconds():i.getSeconds();case"Minutes":return s?i.getUTCMinutes():i.getMinutes();case"Hours":return s?i.getUTCHours():i.getHours();case"Date":return s?i.getUTCDate():i.getDate();case"Day":return s?i.getUTCDay():i.getDay();case"Month":return s?i.getUTCMonth():i.getMonth();case"FullYear":return s?i.getUTCFullYear():i.getFullYear();default:return NaN}}function Je(e,t,i){var s,n,r,o,a;if(e.isValid()&&!isNaN(i)){switch(s=e._d,n=e._isUTC,t){case"Milliseconds":return void(n?s.setUTCMilliseconds(i):s.setMilliseconds(i));case"Seconds":return void(n?s.setUTCSeconds(i):s.setSeconds(i));case"Minutes":return void(n?s.setUTCMinutes(i):s.setMinutes(i));case"Hours":return void(n?s.setUTCHours(i):s.setHours(i));case"Date":return void(n?s.setUTCDate(i):s.setDate(i));case"FullYear":break;default:return}r=i,o=e.month(),a=29!==(a=e.date())||1!==o||Ne(r)?a:28,n?s.setUTCFullYear(r,o,a):s.setFullYear(r,o,a)}}function Qe(e){return P(this[e=ie(e)])?this[e]():this}function et(e,t){if("object"==typeof e){var i,s=re(e=se(e)),n=s.length;for(i=0;i<n;i++)this[s[i].unit](e[s[i].unit])}else if(P(this[e=ie(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function it(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=tt(t,12);return e+=(t-i)/12,1===i?Ne(e)?29:28:31-i%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",(function(){return this.month()+1})),q("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),q("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ke("M",de,Ee),ke("MM",de,le),ke("MMM",(function(e,t){return t.monthsShortRegex(e)})),ke("MMMM",(function(e,t){return t.monthsRegex(e)})),Re(["M","MM"],(function(e,t){t[He]=Me(e)-1})),Re(["MMM","MMMM"],(function(e,t,i,s){var n=i._locale.monthsParse(e,s,i._strict);null!=n?t[He]=n:f(i).invalidMonth=e}));var st="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),rt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ot=xe,at=xe;function lt(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rt).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone}function ct(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rt.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,i){var s,n,r,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=m([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(n=Ye.call(this._shortMonthsParse,o))?n:null:-1!==(n=Ye.call(this._longMonthsParse,o))?n:null:"MMM"===t?-1!==(n=Ye.call(this._shortMonthsParse,o))||-1!==(n=Ye.call(this._longMonthsParse,o))?n:null:-1!==(n=Ye.call(this._longMonthsParse,o))||-1!==(n=Ye.call(this._shortMonthsParse,o))?n:null}function ht(e,t,i){var s,n,r;if(this._monthsParseExact)return ut.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(n=m([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(i&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!i&&this._monthsParse[s].test(e))return s}}function dt(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Me(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var i=t,s=e.date();return s=s<29?s:Math.min(s,it(e.year(),i)),e._isUTC?e._d.setUTCMonth(i,s):e._d.setMonth(i,s),e}function pt(e){return null!=e?(dt(this,e),s.updateOffset(this,!0),this):Ke(this,"Month")}function mt(){return it(this.year(),this.month())}function gt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ot),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function vt(){function e(e,t){return t.length-e.length}var t,i,s,n,r=[],o=[],a=[];for(t=0;t<12;t++)i=m([2e3,t]),s=Pe(this.monthsShort(i,"")),n=Pe(this.months(i,"")),r.push(s),o.push(n),a.push(n),a.push(s);r.sort(e),o.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function yt(e,t,i,s,n,r,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,i,s,n,r,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,i,s,n,r,o),a}function wt(e){var t,i;return e<100&&e>=0?((i=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,i){var s=7+t-i;return-(7+wt(e,0,s).getUTCDay()-t)%7+s-1}function Tt(e,t,i,s,n){var r,o,a=1+7*(t-1)+(7+i-s)%7+bt(e,s,n);return a<=0?o=We(r=e-1)+a:a>We(e)?(r=e+1,o=a-We(e)):(r=e,o=a),{year:r,dayOfYear:o}}function St(e,t,i){var s,n,r=bt(e.year(),t,i),o=Math.floor((e.dayOfYear()-r-1)/7)+1;return o<1?s=o+xt(n=e.year()-1,t,i):o>xt(e.year(),t,i)?(s=o-xt(e.year(),t,i),n=e.year()+1):(n=e.year(),s=o),{week:s,year:n}}function xt(e,t,i){var s=bt(e,t,i),n=bt(e+1,t,i);return(We(e)-s+n)/7}function Et(e){return St(e,this._week.dow,this._week.doy).week}q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),ke("w",de,Ee),ke("ww",de,le),ke("W",de,Ee),ke("WW",de,le),Ie(["w","ww","W","WW"],(function(e,t,i,s){t[s.substr(0,1)]=Me(e)}));var Ct={dow:0,doy:6};function kt(){return this._week.dow}function _t(){return this._week.doy}function Dt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Pt(e){var t=St(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Mt(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Lt(e,t){return e.slice(t,7).concat(e.slice(0,t))}q("d",0,"do","day"),q("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),q("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),q("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),ke("d",de),ke("e",de),ke("E",de),ke("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ke("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ke("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ie(["dd","ddd","dddd"],(function(e,t,i,s){var n=i._locale.weekdaysParse(e,s,i._strict);null!=n?t.d=n:f(i).invalidWeekday=e})),Ie(["d","e","E"],(function(e,t,i,s){t[s]=Me(e)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),It="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ot="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Nt=xe,Bt=xe,Ht=xe;function Ft(e,t){var i=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Lt(i,this._week.dow):e?i[e.day()]:i}function qt(e){return!0===e?Lt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Lt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,i){var s,n,r,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=m([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(n=Ye.call(this._weekdaysParse,o))?n:null:"ddd"===t?-1!==(n=Ye.call(this._shortWeekdaysParse,o))?n:null:-1!==(n=Ye.call(this._minWeekdaysParse,o))?n:null:"dddd"===t?-1!==(n=Ye.call(this._weekdaysParse,o))||-1!==(n=Ye.call(this._shortWeekdaysParse,o))||-1!==(n=Ye.call(this._minWeekdaysParse,o))?n:null:"ddd"===t?-1!==(n=Ye.call(this._shortWeekdaysParse,o))||-1!==(n=Ye.call(this._weekdaysParse,o))||-1!==(n=Ye.call(this._minWeekdaysParse,o))?n:null:-1!==(n=Ye.call(this._minWeekdaysParse,o))||-1!==(n=Ye.call(this._weekdaysParse,o))||-1!==(n=Ye.call(this._shortWeekdaysParse,o))?n:null}function jt(e,t,i){var s,n,r;if(this._weekdaysParseExact)return Vt.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(n=m([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(i&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(i&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!i&&this._weekdaysParse[s].test(e))return s}}function Ut(e){if(!this.isValid())return null!=e?this:NaN;var t=Ke(this,"Day");return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Mt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Nt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function $t(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ht),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xt(){function e(e,t){return t.length-e.length}var t,i,s,n,r,o=[],a=[],l=[],c=[];for(t=0;t<7;t++)i=m([2e3,1]).day(t),s=Pe(this.weekdaysMin(i,"")),n=Pe(this.weekdaysShort(i,"")),r=Pe(this.weekdays(i,"")),o.push(s),a.push(n),l.push(r),c.push(s),c.push(n),c.push(r);o.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Qt(e,t){q(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ei(e,t){return t._meridiemParse}function ti(e){return"p"===(e+"").toLowerCase().charAt(0)}q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Kt),q("k",["kk",2],0,Jt),q("hmm",0,0,(function(){return""+Kt.apply(this)+O(this.minutes(),2)})),q("hmmss",0,0,(function(){return""+Kt.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),q("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),q("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),ke("a",ei),ke("A",ei),ke("H",de,Ce),ke("h",de,Ee),ke("k",de,Ee),ke("HH",de,le),ke("hh",de,le),ke("kk",de,le),ke("hmm",pe),ke("hmmss",me),ke("Hmm",pe),ke("Hmmss",me),Re(["H","HH"],qe),Re(["k","kk"],(function(e,t,i){var s=Me(e);t[qe]=24===s?0:s})),Re(["a","A"],(function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e})),Re(["h","hh"],(function(e,t,i){t[qe]=Me(e),f(i).bigHour=!0})),Re("hmm",(function(e,t,i){var s=e.length-2;t[qe]=Me(e.substr(0,s)),t[ze]=Me(e.substr(s)),f(i).bigHour=!0})),Re("hmmss",(function(e,t,i){var s=e.length-4,n=e.length-2;t[qe]=Me(e.substr(0,s)),t[ze]=Me(e.substr(s,2)),t[Ve]=Me(e.substr(n)),f(i).bigHour=!0})),Re("Hmm",(function(e,t,i){var s=e.length-2;t[qe]=Me(e.substr(0,s)),t[ze]=Me(e.substr(s))})),Re("Hmmss",(function(e,t,i){var s=e.length-4,n=e.length-2;t[qe]=Me(e.substr(0,s)),t[ze]=Me(e.substr(s,2)),t[Ve]=Me(e.substr(n))}));var ii=/[ap]\.?m?\.?/i,si=Xe("Hours",!0);function ni(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}var ri,oi={calendar:R,longDateFormat:G,invalidDate:Y,ordinal:Z,dayOfMonthOrdinalParse:X,relativeTime:J,months:st,monthsShort:nt,week:Ct,weekdays:Rt,weekdaysMin:Ot,weekdaysShort:It,meridiemParse:ii},ai={},li={};function ci(e,t){var i,s=Math.min(e.length,t.length);for(i=0;i<s;i+=1)if(e[i]!==t[i])return i;return s}function ui(e){return e?e.toLowerCase().replace("_","-"):e}function hi(e){for(var t,i,s,n,r=0;r<e.length;){for(t=(n=ui(e[r]).split("-")).length,i=(i=ui(e[r+1]))?i.split("-"):null;t>0;){if(s=pi(n.slice(0,t).join("-")))return s;if(i&&i.length>=t&&ci(n,i)>=t-1)break;t--}r++}return ri}function di(e){return!(!e||!e.match("^[^/\\\\]*$"))}function pi(t){var i=null;if(void 0===ai[t]&&e&&e.exports&&di(t))try{i=ri._abbr,ma("./locale/"+t),mi(i)}catch(e){ai[t]=null}return ai[t]}function mi(e,t){var i;return e&&((i=c(t)?vi(e):gi(e,t))?ri=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ri._abbr}function gi(e,t){if(null!==t){var i,s=oi;if(t.abbr=e,null!=ai[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=ai[e]._config;else if(null!=t.parentLocale)if(null!=ai[t.parentLocale])s=ai[t.parentLocale]._config;else{if(null==(i=pi(t.parentLocale)))return li[t.parentLocale]||(li[t.parentLocale]=[]),li[t.parentLocale].push({name:e,config:t}),null;s=i._config}return ai[e]=new L(M(s,t)),li[e]&&li[e].forEach((function(e){gi(e.name,e.config)})),mi(e),ai[e]}return delete ai[e],null}function fi(e,t){if(null!=t){var i,s,n=oi;null!=ai[e]&&null!=ai[e].parentLocale?ai[e].set(M(ai[e]._config,t)):(null!=(s=pi(e))&&(n=s._config),t=M(n,t),null==s&&(t.abbr=e),(i=new L(t)).parentLocale=ai[e],ai[e]=i),mi(e)}else null!=ai[e]&&(null!=ai[e].parentLocale?(ai[e]=ai[e].parentLocale,e===mi()&&mi(e)):null!=ai[e]&&delete ai[e]);return ai[e]}function vi(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ri;if(!r(e)){if(t=pi(e))return t;e=[e]}return hi(e)}function yi(){return k(ai)}function wi(e){var t,i=e._a;return i&&-2===f(e).overflow&&(t=i[He]<0||i[He]>11?He:i[Fe]<1||i[Fe]>it(i[Be],i[He])?Fe:i[qe]<0||i[qe]>24||24===i[qe]&&(0!==i[ze]||0!==i[Ve]||0!==i[je])?qe:i[ze]<0||i[ze]>59?ze:i[Ve]<0||i[Ve]>59?Ve:i[je]<0||i[je]>999?je:-1,f(e)._overflowDayOfYear&&(t<Be||t>Fe)&&(t=Fe),f(e)._overflowWeeks&&-1===t&&(t=Ue),f(e)._overflowWeekday&&-1===t&&(t=Ge),f(e).overflow=t),e}var bi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ti=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Si=/Z|[+-]\d\d(?::?\d\d)?/,xi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ei=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ci=/^\/?Date\((-?\d+)/i,ki=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_i={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Di(e){var t,i,s,n,r,o,a=e._i,l=bi.exec(a)||Ti.exec(a),c=xi.length,u=Ei.length;if(l){for(f(e).iso=!0,t=0,i=c;t<i;t++)if(xi[t][1].exec(l[1])){n=xi[t][0],s=!1!==xi[t][2];break}if(null==n)return void(e._isValid=!1);if(l[3]){for(t=0,i=u;t<i;t++)if(Ei[t][1].exec(l[3])){r=(l[2]||" ")+Ei[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(l[4]){if(!Si.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=n+(r||"")+(o||""),qi(e)}else e._isValid=!1}function Pi(e,t,i,s,n,r){var o=[Ai(e),nt.indexOf(t),parseInt(i,10),parseInt(s,10),parseInt(n,10)];return r&&o.push(parseInt(r,10)),o}function Ai(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Mi(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Li(e,t,i){return!e||It.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(i).weekdayMismatch=!0,i._isValid=!1,!1)}function Ri(e,t,i){if(e)return _i[e];if(t)return 0;var s=parseInt(i,10),n=s%100;return(s-n)/100*60+n}function Ii(e){var t,i=ki.exec(Mi(e._i));if(i){if(t=Pi(i[4],i[3],i[2],i[5],i[6],i[7]),!Li(i[1],t,e))return;e._a=t,e._tzm=Ri(i[8],i[9],i[10]),e._d=wt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function Oi(e){var t=Ci.exec(e._i);null===t?(Di(e),!1===e._isValid&&(delete e._isValid,Ii(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:s.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ni(e,t,i){return null!=e?e:null!=t?t:i}function Bi(e){var t=new Date(s.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Hi(e){var t,i,s,n,r,o=[];if(!e._d){for(s=Bi(e),e._w&&null==e._a[Fe]&&null==e._a[He]&&Fi(e),null!=e._dayOfYear&&(r=Ni(e._a[Be],s[Be]),(e._dayOfYear>We(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),i=wt(r,0,e._dayOfYear),e._a[He]=i.getUTCMonth(),e._a[Fe]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=s[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[qe]&&0===e._a[ze]&&0===e._a[Ve]&&0===e._a[je]&&(e._nextDay=!0,e._a[qe]=0),e._d=(e._useUTC?wt:yt).apply(null,o),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[qe]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(f(e).weekdayMismatch=!0)}}function Fi(e){var t,i,s,n,r,o,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(r=1,o=4,i=Ni(t.GG,e._a[Be],St($i(),1,4).year),s=Ni(t.W,1),((n=Ni(t.E,1))<1||n>7)&&(l=!0)):(r=e._locale._week.dow,o=e._locale._week.doy,c=St($i(),r,o),i=Ni(t.gg,e._a[Be],c.year),s=Ni(t.w,c.week),null!=t.d?((n=t.d)<0||n>6)&&(l=!0):null!=t.e?(n=t.e+r,(t.e<0||t.e>6)&&(l=!0)):n=r),s<1||s>xt(i,r,o)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(a=Tt(i,s,n,r,o),e._a[Be]=a.year,e._dayOfYear=a.dayOfYear)}function qi(e){if(e._f!==s.ISO_8601)if(e._f!==s.RFC_2822){e._a=[],f(e).empty=!0;var t,i,n,r,o,a,l,c=""+e._i,u=c.length,h=0;for(l=(n=U(e._f,e._locale).match(N)||[]).length,t=0;t<l;t++)r=n[t],(i=(c.match(_e(r,e))||[])[0])&&((o=c.substr(0,c.indexOf(i))).length>0&&f(e).unusedInput.push(o),c=c.slice(c.indexOf(i)+i.length),h+=i.length),F[r]?(i?f(e).empty=!1:f(e).unusedTokens.push(r),Oe(r,i,e)):e._strict&&!i&&f(e).unusedTokens.push(r);f(e).charsLeftOver=u-h,c.length>0&&f(e).unusedInput.push(c),e._a[qe]<=12&&!0===f(e).bigHour&&e._a[qe]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[qe]=zi(e._locale,e._a[qe],e._meridiem),null!==(a=f(e).era)&&(e._a[Be]=e._locale.erasConvertYear(a,e._a[Be])),Hi(e),wi(e)}else Ii(e);else Di(e)}function zi(e,t,i){var s;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((s=e.isPM(i))&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function Vi(e){var t,i,s,n,r,o,a=!1,l=e._f.length;if(0===l)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(n=0;n<l;n++)r=0,o=!1,t=T({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[n],qi(t),v(t)&&(o=!0),r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,a?r<s&&(s=r,i=t):(null==s||r<s||o)&&(s=r,i=t,o&&(a=!0));p(e,i||t)}function ji(e){if(!e._d){var t=se(e._i),i=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Hi(e)}}function Ui(e){var t=new S(wi(Gi(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gi(e){var t=e._i,i=e._f;return e._locale=e._locale||vi(e._l),null===t||void 0===i&&""===t?y({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new S(wi(t)):(h(t)?e._d=t:r(i)?Vi(e):i?qi(e):Wi(e),v(e)||(e._d=null),e))}function Wi(e){var t=e._i;c(t)?e._d=new Date(s.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Oi(e):r(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Hi(e)):o(t)?ji(e):u(t)?e._d=new Date(t):s.createFromInputFallback(e)}function Yi(e,t,i,s,n){var a={};return!0!==t&&!1!==t||(s=t,t=void 0),!0!==i&&!1!==i||(s=i,i=void 0),(o(e)&&l(e)||r(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=n,a._l=i,a._i=e,a._f=t,a._strict=s,Ui(a)}function $i(e,t,i,s){return Yi(e,t,i,s,!1)}s.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),s.ISO_8601=function(){},s.RFC_2822=function(){};var Zi=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=$i.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Xi=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=$i.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Ki(e,t){var i,s;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return $i();for(i=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](i)||(i=t[s]);return i}function Ji(){return Ki("isBefore",[].slice.call(arguments,0))}function Qi(){return Ki("isAfter",[].slice.call(arguments,0))}var es=function(){return Date.now?Date.now():+new Date},ts=["year","quarter","month","week","day","hour","minute","second","millisecond"];function is(e){var t,i,s=!1,n=ts.length;for(t in e)if(a(e,t)&&(-1===Ye.call(ts,t)||null!=e[t]&&isNaN(e[t])))return!1;for(i=0;i<n;++i)if(e[ts[i]]){if(s)return!1;parseFloat(e[ts[i]])!==Me(e[ts[i]])&&(s=!0)}return!0}function ss(){return this._isValid}function ns(){return _s(NaN)}function rs(e){var t=se(e),i=t.year||0,s=t.quarter||0,n=t.month||0,r=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=is(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+o+7*r,this._months=+n+3*s+12*i,this._data={},this._locale=vi(),this._bubble()}function os(e){return e instanceof rs}function as(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ls(e,t,i){var s,n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(s=0;s<n;s++)Me(e[s])!==Me(t[s])&&o++;return o+r}function cs(e,t){q(e,0,0,(function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+O(~~(e/60),2)+t+O(~~e%60,2)}))}cs("Z",":"),cs("ZZ",""),ke("Z",Te),ke("ZZ",Te),Re(["Z","ZZ"],(function(e,t,i){i._useUTC=!0,i._tzm=hs(Te,e)}));var us=/([\+\-]|\d\d)/gi;function hs(e,t){var i,s,n=(t||"").match(e);return null===n?null:0===(s=60*(i=((n[n.length-1]||[])+"").match(us)||["-",0,0])[1]+Me(i[2]))?0:"+"===i[0]?s:-s}function ds(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(x(e)||h(e)?e.valueOf():$i(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),s.updateOffset(i,!1),i):$i(e).local()}function ps(e){return-Math.round(e._d.getTimezoneOffset())}function ms(e,t,i){var n,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=hs(Te,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(n=ps(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==e&&(!t||this._changeInProgress?Ls(this,_s(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:ps(this)}function gs(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function fs(e){return this.utcOffset(0,e)}function vs(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ps(this),"m")),this}function ys(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=hs(be,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ws(e){return!!this.isValid()&&(e=e?$i(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function bs(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ts(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return T(t,this),(t=Gi(t))._a?(e=t._isUTC?m(t._a):$i(t._a),this._isDSTShifted=this.isValid()&&ls(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ss(){return!!this.isValid()&&!this._isUTC}function xs(){return!!this.isValid()&&this._isUTC}function Es(){return!!this.isValid()&&this._isUTC&&0===this._offset}s.updateOffset=function(){};var Cs=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ks=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _s(e,t){var i,s,n,r=e,o=null;return os(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(o=Cs.exec(e))?(i="-"===o[1]?-1:1,r={y:0,d:Me(o[Fe])*i,h:Me(o[qe])*i,m:Me(o[ze])*i,s:Me(o[Ve])*i,ms:Me(as(1e3*o[je]))*i}):(o=ks.exec(e))?(i="-"===o[1]?-1:1,r={y:Ds(o[2],i),M:Ds(o[3],i),w:Ds(o[4],i),d:Ds(o[5],i),h:Ds(o[6],i),m:Ds(o[7],i),s:Ds(o[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(n=As($i(r.from),$i(r.to)),(r={}).ms=n.milliseconds,r.M=n.months),s=new rs(r),os(e)&&a(e,"_locale")&&(s._locale=e._locale),os(e)&&a(e,"_isValid")&&(s._isValid=e._isValid),s}function Ds(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Ps(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function As(e,t){var i;return e.isValid()&&t.isValid()?(t=ds(t,e),e.isBefore(t)?i=Ps(e,t):((i=Ps(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Ms(e,t){return function(i,s){var n;return null===s||isNaN(+s)||(D(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=i,i=s,s=n),Ls(this,_s(i,s),e),this}}function Ls(e,t,i,n){var r=t._milliseconds,o=as(t._days),a=as(t._months);e.isValid()&&(n=null==n||n,a&&dt(e,Ke(e,"Month")+a*i),o&&Je(e,"Date",Ke(e,"Date")+o*i),r&&e._d.setTime(e._d.valueOf()+r*i),n&&s.updateOffset(e,o||a))}_s.fn=rs.prototype,_s.invalid=ns;var Rs=Ms(1,"add"),Is=Ms(-1,"subtract");function Os(e){return"string"==typeof e||e instanceof String}function Ns(e){return x(e)||h(e)||Os(e)||u(e)||Hs(e)||Bs(e)||null==e}function Bs(e){var t,i,s=o(e)&&!l(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=r.length;for(t=0;t<c;t+=1)i=r[t],n=n||a(e,i);return s&&n}function Hs(e){var t=r(e),i=!1;return t&&(i=0===e.filter((function(t){return!u(t)&&Os(e)})).length),t&&i}function Fs(e){var t,i,s=o(e)&&!l(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)i=r[t],n=n||a(e,i);return s&&n}function qs(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function zs(e,t){1===arguments.length&&(arguments[0]?Ns(arguments[0])?(e=arguments[0],t=void 0):Fs(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||$i(),n=ds(i,this).startOf("day"),r=s.calendarFormat(this,n)||"sameElse",o=t&&(P(t[r])?t[r].call(this,i):t[r]);return this.format(o||this.localeData().calendar(r,this,$i(i)))}function Vs(){return new S(this)}function js(e,t){var i=x(e)?e:$i(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function Us(e,t){var i=x(e)?e:$i(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function Gs(e,t,i,s){var n=x(e)?e:$i(e),r=x(t)?t:$i(t);return!!(this.isValid()&&n.isValid()&&r.isValid())&&("("===(s=s||"()")[0]?this.isAfter(n,i):!this.isBefore(n,i))&&(")"===s[1]?this.isBefore(r,i):!this.isAfter(r,i))}function Ws(e,t){var i,s=x(e)?e:$i(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()===s.valueOf():(i=s.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function Ys(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $s(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zs(e,t,i){var s,n,r;if(!this.isValid())return NaN;if(!(s=ds(e,this)).isValid())return NaN;switch(n=6e4*(s.utcOffset()-this.utcOffset()),t=ie(t)){case"year":r=Xs(this,s)/12;break;case"month":r=Xs(this,s);break;case"quarter":r=Xs(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-n)/864e5;break;case"week":r=(this-s-n)/6048e5;break;default:r=this-s}return i?r:Ae(r)}function Xs(e,t){if(e.date()<t.date())return-Xs(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(i,"months");return-(i+(t-s<0?(t-s)/(s-e.clone().add(i-1,"months")):(t-s)/(e.clone().add(i+1,"months")-s)))||0}function Ks(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Js(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?j(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(i,"Z")):j(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qs(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,i,s,n="moment",r="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=r+'[")]',this.format(e+t+i+s)}function en(e){e||(e=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)}function tn(e,t){return this.isValid()&&(x(e)&&e.isValid()||$i(e).isValid())?_s({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sn(e){return this.from($i(),e)}function nn(e,t){return this.isValid()&&(x(e)&&e.isValid()||$i(e).isValid())?_s({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function rn(e){return this.to($i(),e)}function on(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vi(e))&&(this._locale=t),this)}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var an=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ln(){return this._locale}var cn=1e3,un=60*cn,hn=60*un,dn=3506328*hn;function pn(e,t){return(e%t+t)%t}function mn(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-dn:new Date(e,t,i).valueOf()}function gn(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-dn:Date.UTC(e,t,i)}function fn(e){var t,i;if(void 0===(e=ie(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?gn:mn,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pn(t+(this._isUTC?0:this.utcOffset()*un),hn);break;case"minute":t=this._d.valueOf(),t-=pn(t,un);break;case"second":t=this._d.valueOf(),t-=pn(t,cn)}return this._d.setTime(t),s.updateOffset(this,!0),this}function vn(e){var t,i;if(void 0===(e=ie(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?gn:mn,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hn-pn(t+(this._isUTC?0:this.utcOffset()*un),hn)-1;break;case"minute":t=this._d.valueOf(),t+=un-pn(t,un)-1;break;case"second":t=this._d.valueOf(),t+=cn-pn(t,cn)-1}return this._d.setTime(t),s.updateOffset(this,!0),this}function yn(){return this._d.valueOf()-6e4*(this._offset||0)}function wn(){return Math.floor(this.valueOf()/1e3)}function bn(){return new Date(this.valueOf())}function Tn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Sn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xn(){return this.isValid()?this.toISOString():null}function En(){return v(this)}function Cn(){return p({},f(this))}function kn(){return f(this).overflow}function _n(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(e,t){var i,n,r,o=this._eras||vi("en")._eras;for(i=0,n=o.length;i<n;++i)switch("string"==typeof o[i].since&&(r=s(o[i].since).startOf("day"),o[i].since=r.valueOf()),typeof o[i].until){case"undefined":o[i].until=1/0;break;case"string":r=s(o[i].until).startOf("day").valueOf(),o[i].until=r.valueOf()}return o}function Pn(e,t,i){var s,n,r,o,a,l=this.eras();for(e=e.toUpperCase(),s=0,n=l.length;s<n;++s)if(r=l[s].name.toUpperCase(),o=l[s].abbr.toUpperCase(),a=l[s].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[s];break;case"NNNN":if(r===e)return l[s];break;case"NNNNN":if(a===e)return l[s]}else if([r,o,a].indexOf(e)>=0)return l[s]}function An(e,t){var i=e.since<=e.until?1:-1;return void 0===t?s(e.since).year():s(e.since).year()+(t-e.offset)*i}function Mn(){var e,t,i,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),s[e].since<=i&&i<=s[e].until)return s[e].name;if(s[e].until<=i&&i<=s[e].since)return s[e].name}return""}function Ln(){var e,t,i,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),s[e].since<=i&&i<=s[e].until)return s[e].narrow;if(s[e].until<=i&&i<=s[e].since)return s[e].narrow}return""}function Rn(){var e,t,i,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),s[e].since<=i&&i<=s[e].until)return s[e].abbr;if(s[e].until<=i&&i<=s[e].since)return s[e].abbr}return""}function In(){var e,t,i,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(i=r[e].since<=r[e].until?1:-1,n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return(this.year()-s(r[e].since).year())*i+r[e].offset;return this.year()}function On(e){return a(this,"_erasNameRegex")||Vn.call(this),e?this._erasNameRegex:this._erasRegex}function Nn(e){return a(this,"_erasAbbrRegex")||Vn.call(this),e?this._erasAbbrRegex:this._erasRegex}function Bn(e){return a(this,"_erasNarrowRegex")||Vn.call(this),e?this._erasNarrowRegex:this._erasRegex}function Hn(e,t){return t.erasAbbrRegex(e)}function Fn(e,t){return t.erasNameRegex(e)}function qn(e,t){return t.erasNarrowRegex(e)}function zn(e,t){return t._eraYearOrdinalRegex||ye}function Vn(){var e,t,i,s,n,r=[],o=[],a=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)i=Pe(c[e].name),s=Pe(c[e].abbr),n=Pe(c[e].narrow),o.push(i),r.push(s),a.push(n),l.push(i),l.push(s),l.push(n);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function jn(e,t){q(0,[e,e.length],0,t)}function Un(e){return Xn.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Gn(e){return Xn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wn(){return xt(this.year(),1,4)}function Yn(){return xt(this.isoWeekYear(),1,4)}function $n(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Zn(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function Xn(e,t,i,s,n){var r;return null==e?St(this,s,n).year:(t>(r=xt(e,s,n))&&(t=r),Kn.call(this,e,t,i,s,n))}function Kn(e,t,i,s,n){var r=Tt(e,t,i,s,n),o=wt(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Jn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}q("N",0,0,"eraAbbr"),q("NN",0,0,"eraAbbr"),q("NNN",0,0,"eraAbbr"),q("NNNN",0,0,"eraName"),q("NNNNN",0,0,"eraNarrow"),q("y",["y",1],"yo","eraYear"),q("y",["yy",2],0,"eraYear"),q("y",["yyy",3],0,"eraYear"),q("y",["yyyy",4],0,"eraYear"),ke("N",Hn),ke("NN",Hn),ke("NNN",Hn),ke("NNNN",Fn),ke("NNNNN",qn),Re(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,i,s){var n=i._locale.erasParse(e,s,i._strict);n?f(i).era=n:f(i).invalidEra=e})),ke("y",ye),ke("yy",ye),ke("yyy",ye),ke("yyyy",ye),ke("yo",zn),Re(["y","yy","yyy","yyyy"],Be),Re(["yo"],(function(e,t,i,s){var n;i._locale._eraYearOrdinalRegex&&(n=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[Be]=i._locale.eraYearOrdinalParse(e,n):t[Be]=parseInt(e,10)})),q(0,["gg",2],0,(function(){return this.weekYear()%100})),q(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),jn("gggg","weekYear"),jn("ggggg","weekYear"),jn("GGGG","isoWeekYear"),jn("GGGGG","isoWeekYear"),ke("G",we),ke("g",we),ke("GG",de,le),ke("gg",de,le),ke("GGGG",fe,ue),ke("gggg",fe,ue),ke("GGGGG",ve,he),ke("ggggg",ve,he),Ie(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,i,s){t[s.substr(0,2)]=Me(e)})),Ie(["gg","GG"],(function(e,t,i,n){t[n]=s.parseTwoDigitYear(e)})),q("Q",0,"Qo","quarter"),ke("Q",ae),Re("Q",(function(e,t){t[He]=3*(Me(e)-1)})),q("D",["DD",2],"Do","date"),ke("D",de,Ee),ke("DD",de,le),ke("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Re(["D","DD"],Fe),Re("Do",(function(e,t){t[Fe]=Me(e.match(de)[0])}));var Qn=Xe("Date",!0);function er(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}q("DDD",["DDDD",3],"DDDo","dayOfYear"),ke("DDD",ge),ke("DDDD",ce),Re(["DDD","DDDD"],(function(e,t,i){i._dayOfYear=Me(e)})),q("m",["mm",2],0,"minute"),ke("m",de,Ce),ke("mm",de,le),Re(["m","mm"],ze);var tr=Xe("Minutes",!1);q("s",["ss",2],0,"second"),ke("s",de,Ce),ke("ss",de,le),Re(["s","ss"],Ve);var ir,sr,nr=Xe("Seconds",!1);for(q("S",0,0,(function(){return~~(this.millisecond()/100)})),q(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),q(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),q(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),q(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),q(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),q(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ke("S",ge,ae),ke("SS",ge,le),ke("SSS",ge,ce),ir="SSSS";ir.length<=9;ir+="S")ke(ir,ye);function rr(e,t){t[je]=Me(1e3*("0."+e))}for(ir="S";ir.length<=9;ir+="S")Re(ir,rr);function or(){return this._isUTC?"UTC":""}function ar(){return this._isUTC?"Coordinated Universal Time":""}sr=Xe("Milliseconds",!1),q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var lr=S.prototype;function cr(e){return $i(1e3*e)}function ur(){return $i.apply(null,arguments).parseZone()}function hr(e){return e}lr.add=Rs,lr.calendar=zs,lr.clone=Vs,lr.diff=Zs,lr.endOf=vn,lr.format=en,lr.from=tn,lr.fromNow=sn,lr.to=nn,lr.toNow=rn,lr.get=Qe,lr.invalidAt=kn,lr.isAfter=js,lr.isBefore=Us,lr.isBetween=Gs,lr.isSame=Ws,lr.isSameOrAfter=Ys,lr.isSameOrBefore=$s,lr.isValid=En,lr.lang=an,lr.locale=on,lr.localeData=ln,lr.max=Xi,lr.min=Zi,lr.parsingFlags=Cn,lr.set=et,lr.startOf=fn,lr.subtract=Is,lr.toArray=Tn,lr.toObject=Sn,lr.toDate=bn,lr.toISOString=Js,lr.inspect=Qs,"undefined"!=typeof Symbol&&null!=Symbol.for&&(lr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lr.toJSON=xn,lr.toString=Ks,lr.unix=wn,lr.valueOf=yn,lr.creationData=_n,lr.eraName=Mn,lr.eraNarrow=Ln,lr.eraAbbr=Rn,lr.eraYear=In,lr.year=$e,lr.isLeapYear=Ze,lr.weekYear=Un,lr.isoWeekYear=Gn,lr.quarter=lr.quarters=Jn,lr.month=pt,lr.daysInMonth=mt,lr.week=lr.weeks=Dt,lr.isoWeek=lr.isoWeeks=Pt,lr.weeksInYear=$n,lr.weeksInWeekYear=Zn,lr.isoWeeksInYear=Wn,lr.isoWeeksInISOWeekYear=Yn,lr.date=Qn,lr.day=lr.days=Ut,lr.weekday=Gt,lr.isoWeekday=Wt,lr.dayOfYear=er,lr.hour=lr.hours=si,lr.minute=lr.minutes=tr,lr.second=lr.seconds=nr,lr.millisecond=lr.milliseconds=sr,lr.utcOffset=ms,lr.utc=fs,lr.local=vs,lr.parseZone=ys,lr.hasAlignedHourOffset=ws,lr.isDST=bs,lr.isLocal=Ss,lr.isUtcOffset=xs,lr.isUtc=Es,lr.isUTC=Es,lr.zoneAbbr=or,lr.zoneName=ar,lr.dates=C("dates accessor is deprecated. Use date instead.",Qn),lr.months=C("months accessor is deprecated. Use month instead",pt),lr.years=C("years accessor is deprecated. Use year instead",$e),lr.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gs),lr.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ts);var dr=L.prototype;function pr(e,t,i,s){var n=vi(),r=m().set(s,t);return n[i](r,e)}function mr(e,t,i){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return pr(e,t,i,"month");var s,n=[];for(s=0;s<12;s++)n[s]=pr(e,s,i,"month");return n}function gr(e,t,i,s){"boolean"==typeof e?(u(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,u(t)&&(i=t,t=void 0),t=t||"");var n,r=vi(),o=e?r._week.dow:0,a=[];if(null!=i)return pr(t,(i+o)%7,s,"day");for(n=0;n<7;n++)a[n]=pr(t,(n+o)%7,s,"day");return a}function fr(e,t){return mr(e,t,"months")}function vr(e,t){return mr(e,t,"monthsShort")}function yr(e,t,i){return gr(e,t,i,"weekdays")}function wr(e,t,i){return gr(e,t,i,"weekdaysShort")}function br(e,t,i){return gr(e,t,i,"weekdaysMin")}dr.calendar=I,dr.longDateFormat=W,dr.invalidDate=$,dr.ordinal=K,dr.preparse=hr,dr.postformat=hr,dr.relativeTime=Q,dr.pastFuture=ee,dr.set=A,dr.eras=Dn,dr.erasParse=Pn,dr.erasConvertYear=An,dr.erasAbbrRegex=Nn,dr.erasNameRegex=On,dr.erasNarrowRegex=Bn,dr.months=lt,dr.monthsShort=ct,dr.monthsParse=ht,dr.monthsRegex=ft,dr.monthsShortRegex=gt,dr.week=Et,dr.firstDayOfYear=_t,dr.firstDayOfWeek=kt,dr.weekdays=Ft,dr.weekdaysMin=zt,dr.weekdaysShort=qt,dr.weekdaysParse=jt,dr.weekdaysRegex=Yt,dr.weekdaysShortRegex=$t,dr.weekdaysMinRegex=Zt,dr.isPM=ti,dr.meridiem=ni,mi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Me(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),s.lang=C("moment.lang is deprecated. Use moment.locale instead.",mi),s.langData=C("moment.langData is deprecated. Use moment.localeData instead.",vi);var Tr=Math.abs;function Sr(){var e=this._data;return this._milliseconds=Tr(this._milliseconds),this._days=Tr(this._days),this._months=Tr(this._months),e.milliseconds=Tr(e.milliseconds),e.seconds=Tr(e.seconds),e.minutes=Tr(e.minutes),e.hours=Tr(e.hours),e.months=Tr(e.months),e.years=Tr(e.years),this}function xr(e,t,i,s){var n=_s(t,i);return e._milliseconds+=s*n._milliseconds,e._days+=s*n._days,e._months+=s*n._months,e._bubble()}function Er(e,t){return xr(this,e,t,1)}function Cr(e,t){return xr(this,e,t,-1)}function kr(e){return e<0?Math.floor(e):Math.ceil(e)}function _r(){var e,t,i,s,n,r=this._milliseconds,o=this._days,a=this._months,l=this._data;return r>=0&&o>=0&&a>=0||r<=0&&o<=0&&a<=0||(r+=864e5*kr(Pr(a)+o),o=0,a=0),l.milliseconds=r%1e3,e=Ae(r/1e3),l.seconds=e%60,t=Ae(e/60),l.minutes=t%60,i=Ae(t/60),l.hours=i%24,o+=Ae(i/24),a+=n=Ae(Dr(o)),o-=kr(Pr(n)),s=Ae(a/12),a%=12,l.days=o,l.months=a,l.years=s,this}function Dr(e){return 4800*e/146097}function Pr(e){return 146097*e/4800}function Ar(e){if(!this.isValid())return NaN;var t,i,s=this._milliseconds;if("month"===(e=ie(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,i=this._months+Dr(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(Pr(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function Mr(e){return function(){return this.as(e)}}var Lr=Mr("ms"),Rr=Mr("s"),Ir=Mr("m"),Or=Mr("h"),Nr=Mr("d"),Br=Mr("w"),Hr=Mr("M"),Fr=Mr("Q"),qr=Mr("y"),zr=Lr;function Vr(){return _s(this)}function jr(e){return e=ie(e),this.isValid()?this[e+"s"]():NaN}function Ur(e){return function(){return this.isValid()?this._data[e]:NaN}}var Gr=Ur("milliseconds"),Wr=Ur("seconds"),Yr=Ur("minutes"),$r=Ur("hours"),Zr=Ur("days"),Xr=Ur("months"),Kr=Ur("years");function Jr(){return Ae(this.days()/7)}var Qr=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,i,s,n){return n.relativeTime(t||1,!!i,e,s)}function io(e,t,i,s){var n=_s(e).abs(),r=Qr(n.as("s")),o=Qr(n.as("m")),a=Qr(n.as("h")),l=Qr(n.as("d")),c=Qr(n.as("M")),u=Qr(n.as("w")),h=Qr(n.as("y")),d=r<=i.ss&&["s",r]||r<i.s&&["ss",r]||o<=1&&["m"]||o<i.m&&["mm",o]||a<=1&&["h"]||a<i.h&&["hh",a]||l<=1&&["d"]||l<i.d&&["dd",l];return null!=i.w&&(d=d||u<=1&&["w"]||u<i.w&&["ww",u]),(d=d||c<=1&&["M"]||c<i.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=s,to.apply(null,d)}function so(e){return void 0===e?Qr:"function"==typeof e&&(Qr=e,!0)}function no(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ro(e,t){if(!this.isValid())return this.localeData().invalidDate();var i,s,n=!1,r=eo;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(r=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(r.ss=t.s-1)),s=io(this,!n,r,i=this.localeData()),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var oo=Math.abs;function ao(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,s,n,r,o,a,l=oo(this._milliseconds)/1e3,c=oo(this._days),u=oo(this._months),h=this.asSeconds();return h?(e=Ae(l/60),t=Ae(e/60),l%=60,e%=60,i=Ae(u/12),u%=12,s=l?l.toFixed(3).replace(/\.?0+$/,""):"",n=h<0?"-":"",r=ao(this._months)!==ao(h)?"-":"",o=ao(this._days)!==ao(h)?"-":"",a=ao(this._milliseconds)!==ao(h)?"-":"",n+"P"+(i?r+i+"Y":"")+(u?r+u+"M":"")+(c?o+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+s+"S":"")):"P0D"}var co=rs.prototype;return co.isValid=ss,co.abs=Sr,co.add=Er,co.subtract=Cr,co.as=Ar,co.asMilliseconds=Lr,co.asSeconds=Rr,co.asMinutes=Ir,co.asHours=Or,co.asDays=Nr,co.asWeeks=Br,co.asMonths=Hr,co.asQuarters=Fr,co.asYears=qr,co.valueOf=zr,co._bubble=_r,co.clone=Vr,co.get=jr,co.milliseconds=Gr,co.seconds=Wr,co.minutes=Yr,co.hours=$r,co.days=Zr,co.weeks=Jr,co.months=Xr,co.years=Kr,co.humanize=ro,co.toISOString=lo,co.toString=lo,co.toJSON=lo,co.locale=on,co.localeData=ln,co.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),co.lang=an,q("X",0,0,"unix"),q("x",0,0,"valueOf"),ke("x",we),ke("X",Se),Re("X",(function(e,t,i){i._d=new Date(1e3*parseFloat(e))})),Re("x",(function(e,t,i){i._d=new Date(Me(e))})),
//! moment.js
s.version="2.30.1",n($i),s.fn=lr,s.min=Ji,s.max=Qi,s.now=es,s.utc=m,s.unix=cr,s.months=fr,s.isDate=h,s.locale=mi,s.invalid=y,s.duration=_s,s.isMoment=x,s.weekdays=yr,s.parseZone=ur,s.localeData=vi,s.isDuration=os,s.monthsShort=vr,s.weekdaysMin=br,s.defineLocale=gi,s.updateLocale=fi,s.locales=yi,s.weekdaysShort=wr,s.normalizeUnits=ie,s.relativeTimeRounding=so,s.relativeTimeThreshold=no,s.calendarFormat=qs,s.prototype=lr,s.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},s}()),va.exports;var e}fa=pa,function(e,t){var i;if(window.moment)i=window.moment,fa.exports=t(i);else{try{i=ya()}catch(e){}fa.exports=t(i)}}(0,(function(e){var t="function"==typeof e,i=!!window.addEventListener,s=window.document,n=window.setTimeout,r=function(e,t,s,n){i?e.addEventListener(t,s,!!n):e.attachEvent("on"+t,s)},o=function(e,t,s,n){i?e.removeEventListener(t,s,!!n):e.detachEvent("on"+t,s)},a=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){a(e,t)||(e.className=""===e.className?t:e.className+" "+t)},c=function(e,t){var i;e.className=(i=(" "+e.className+" ").replace(" "+t+" "," ")).trim?i.trim():i.replace(/^\s+|\s+$/g,"")},u=function(e){return/Array/.test(Object.prototype.toString.call(e))},h=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},d=function(e){var t=e.getDay();return 0===t||6===t},p=function(e){return e%4==0&&e%100!=0||e%400==0},m=function(e,t){return[31,p(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},g=function(e){h(e)&&e.setHours(0,0,0,0)},f=function(e,t){return e.getTime()===t.getTime()},v=function(e,t,i){var s,n;for(s in t)(n=void 0!==e[s])&&"object"==typeof t[s]&&null!==t[s]&&void 0===t[s].nodeName?h(t[s])?i&&(e[s]=new Date(t[s].getTime())):u(t[s])?i&&(e[s]=t[s].slice(0)):e[s]=v({},t[s],i):!i&&n||(e[s]=t[s]);return e},y=function(e,t,i){var n;s.createEvent?((n=s.createEvent("HTMLEvents")).initEvent(t,!0,!1),n=v(n,i),e.dispatchEvent(n)):s.createEventObject&&(n=s.createEventObject(),n=v(n,i),e.fireEvent("on"+t,n))},w=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},b={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],selectMonth:"Select month",selectYear:"Select year",selectDate:"Select date"},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},T=function(e,t,i){for(t+=e.firstDay;t>=7;)t-=7;return i?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},S=function(e){var t=[],i="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),i="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+i+'"'+(e.isEmpty?'role="presentation"':"")+'><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},x=function(i,s,n){var r=new Date(n,s,i),o=t?e(r).isoWeek():function(e){e.setHours(0,0,0,0);var t=e.getDate(),i=e.getDay(),s=function(e){return(e+7-1)%7};e.setDate(t+3-s(i));var n=new Date(e.getFullYear(),0,4),r=(e.getTime()-n.getTime())/864e5;return 1+Math.round((r-3+s(n.getDay()))/7)}(r);return'<th class="pika-week">'+o+"</th>"},E=function(e,t,i,s){return'<tr class="pika-row'+(i?" pick-whole-week":"")+(s?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},C=function(e,t,i,s,n,r){var o,a,l,c,h,d=e._o,p=i===d.minYear,m=i===d.maxYear,g='<div id="'+r+'" class="pika-title" aria-live="assertive" aria-atomic="true">',f=!0,v=!0;for(l=[],o=0;o<12;o++)l.push('<option value="'+(i===n?o-t:12+o-t)+'"'+(o===s?' selected="selected"':"")+(p&&o<d.minMonth||m&&o>d.maxMonth?' disabled="disabled"':"")+">"+d.i18n.months[o]+"</option>");for(c='<div class="pika-label">'+d.i18n.months[s]+'<select class="pika-select pika-select-month" tabindex="-1" aria-label="'+d.i18n.selectMonth+'">'+l.join("")+"</select></div>",u(d.yearRange)?(o=d.yearRange[0],a=d.yearRange[1]+1):(o=i-d.yearRange,a=1+i+d.yearRange),l=[];o<a&&o<=d.maxYear;o++)o>=d.minYear&&l.push('<option value="'+o+'"'+(o===i?' selected="selected"':"")+">"+o+"</option>");return h='<div class="pika-label">'+i+d.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1" aria-label="'+d.i18n.selectYear+'">'+l.join("")+"</select></div>",d.showMonthAfterYear?g+=h+c:g+=c+h,p&&(0===s||d.minMonth>=s)&&(f=!1),m&&(11===s||d.maxMonth<=s)&&(v=!1),0===t&&(g+='<button class="pika-prev'+(f?"":" is-disabled")+'" type="button">'+d.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(g+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+d.i18n.nextMonth+"</button>"),g+"</div>"},k=function(e,t,i){return'<table class="pika-table" role="grid" aria-label="'+e.i18n.selectDate+'">'+function(e){var t,i=[];for(e.showWeekNumber&&i.push("<th></th>"),t=0;t<7;t++)i.push('<th scope="col"><abbr title="'+T(e,t)+'">'+T(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?i.reverse():i).join("")+"</tr></thead>"}(e)+"<tbody>"+t.join("")+"</tbody></table>"},_=function(o){var l=this,c=l.config(o);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t&&("keydown"!==e.type||27===e.keyCode||13===e.keyCode))if(a(t,"is-disabled")||(!a(t,"pika-button")||a(t,"is-empty")||a(t.parentNode,"is-disabled")?a(t,"pika-prev")?l.prevMonth():a(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),c.bound&&n((function(){l.hide(),c.blurFieldOnSelect&&c.field&&c.field.blur()}),100))),a(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(a(t,"pika-select-month")?l.gotoMonth(t.value):a(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:c.field&&"input"===e.target.tagName.toLowerCase()&&"button"!==e.target.getAttribute("type")&&c.field.blur();break;case 37:l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7);break;case 8:case 46:l.setDate(null)}},l._parseFieldValue=function(){if(c.parse)return c.parse(c.field.value,c.format);if(t){var i=e(c.field.value,c.format,c.formatStrict);return i&&i.isValid()?i.toDate():null}return new Date(Date.parse(c.field.value))},l._onInputChange=function(e){var t;e.firedBy!==l&&(t=l._parseFieldValue(),h(t)&&l.setDate(t),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=s.activeElement;do{if(a(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=n((function(){l.hide()}),50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,s=t;if(t){!i&&a(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),r(t,"change",l._onChange)));do{if(a(s,"pika-single")||s===c.trigger)return}while(s=s.parentNode);l._v&&t!==c.trigger&&s!==c.trigger&&l.hide()}},l.el=s.createElement("div"),l.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),r(l.el,"mousedown",l._onMouseDown,!0),r(l.el,"keydown",l._onMouseDown,!0),r(l.el,"touchend",l._onMouseDown,!0),r(l.el,"change",l._onChange),c.keyboardInput&&r(s,"keydown",l._onKeyChange),c.field&&(c.container?c.container.appendChild(l.el):c.bound?s.body.appendChild(l.el):c.field.parentNode.insertBefore(l.el,c.field.nextSibling),r(c.field,"change",l._onInputChange),c.defaultDate||(c.defaultDate=l._parseFieldValue(),c.setDefaultDate=!0));var u=c.defaultDate;h(u)?c.setDefaultDate?l.setDate(u,!0):l.gotoDate(u):l.gotoDate(new Date),c.bound?(this.hide(),l.el.className+=" is-bound",r(c.trigger,"click",l._onInputClick),r(c.trigger,"focus",l._onInputFocus),r(c.trigger,"blur",l._onInputBlur)):this.show()};return _.prototype={config:function(e){this._o||(this._o=v({},b,!0));var t=v(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var i=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=i>4?4:i,h(t.minDate)||(t.minDate=!1),h(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),u(t.yearRange)){var s=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||s,t.yearRange[1]=parseInt(t.yearRange[1],10)||s}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||b.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(i){return i=i||this._o.format,h(this._d)?this._o.toString?this._o.toString(this._d,i):t?e(this._d).format(i):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(i,s){t&&e.isMoment(i)&&this.setDate(i.toDate(),s)},getDate:function(){return h(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",y(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),h(e)){var i=this._o.minDate,s=this._o.maxDate;h(i)&&e<i?e=i:h(s)&&e>s&&(e=s),this._d=new Date(e.getTime()),g(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),y(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(e){var t=!0;if(h(e)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),s=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),n=e.getTime();s.setMonth(s.getMonth()+1),s.setDate(s.getDate()-1),t=n<i.getTime()||s.getTime()<n}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var i,s=this.getDate()||new Date,n=24*parseInt(t)*60*60*1e3;"add"===e?i=new Date(s.valueOf()+n):"subtract"===e&&(i=new Date(s.valueOf()-n)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=w({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(g(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=b.minDate,this._o.minYear=b.minYear,this._o.minMonth=b.minMonth,this._o.startRange=b.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(g(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=b.maxDate,this._o.maxYear=b.maxYear,this._o.maxMonth=b.maxMonth,this._o.endRange=b.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,i=this._o,s=i.minYear,r=i.maxYear,o=i.minMonth,a=i.maxMonth,l="";this._y<=s&&(this._y=s,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(a)&&this._m>a&&(this._m=a));for(var c=0;c<i.numberOfMonths;c++)t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),l+='<div class="pika-lendar">'+C(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,i.bound&&"hidden"!==i.field.type&&n((function(){i.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),i.bound&&i.field.setAttribute("aria-label",i.ariaLabel)}},adjustPosition:function(){var e,t,i,n,r,o,a,u,h,d,p,m;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,i=this.el.offsetWidth,n=this.el.offsetHeight,r=window.innerWidth||s.documentElement.clientWidth,o=window.innerHeight||s.documentElement.clientHeight,a=window.pageYOffset||s.body.scrollTop||s.documentElement.scrollTop,p=!0,m=!0,"function"==typeof e.getBoundingClientRect)u=(d=e.getBoundingClientRect()).left+window.pageXOffset,h=d.bottom+window.pageYOffset;else for(u=t.offsetLeft,h=t.offsetTop+t.offsetHeight;t=t.offsetParent;)u+=t.offsetLeft,h+=t.offsetTop;(this._o.reposition&&u+i>r||this._o.position.indexOf("right")>-1&&u-i+e.offsetWidth>0)&&(u=u-i+e.offsetWidth,p=!1),(this._o.reposition&&h+n>o+a||this._o.position.indexOf("top")>-1&&h-n-e.offsetHeight>0)&&(h=h-n-e.offsetHeight,m=!1),this.el.style.left=u+"px",this.el.style.top=h+"px",l(this.el,p?"left-aligned":"right-aligned"),l(this.el,m?"bottom-aligned":"top-aligned"),c(this.el,p?"right-aligned":"left-aligned"),c(this.el,m?"top-aligned":"bottom-aligned")}},render:function(e,t,i){var s=this._o,n=new Date,r=m(e,t),o=new Date(e,t,1).getDay(),a=[],l=[];g(n),s.firstDay>0&&(o-=s.firstDay)<0&&(o+=7);for(var c=0===t?11:t-1,u=11===t?0:t+1,p=0===t?e-1:e,v=11===t?e+1:e,y=m(p,c),w=r+o,b=w;b>7;)b-=7;w+=7-b;for(var T=!1,C=0,_=0;C<w;C++){var D=new Date(e,t,C-o+1),P=!!h(this._d)&&f(D,this._d),A=f(D,n),M=-1!==s.events.indexOf(D.toDateString()),L=C<o||C>=r+o,R=C-o+1,I=t,O=e,N=s.startRange&&f(s.startRange,D),B=s.endRange&&f(s.endRange,D),H=s.startRange&&s.endRange&&s.startRange<D&&D<s.endRange;L&&(C<o?(R=y+R,I=c,O=p):(R-=r,I=u,O=v));var F={day:R,month:I,year:O,hasEvent:M,isSelected:P,isToday:A,isDisabled:s.minDate&&D<s.minDate||s.maxDate&&D>s.maxDate||s.disableWeekends&&d(D)||s.disableDayFn&&s.disableDayFn(D),isEmpty:L,isStartRange:N,isEndRange:B,isInRange:H,showDaysInNextAndPreviousMonths:s.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:s.enableSelectionDaysInNextAndPreviousMonths};s.pickWholeWeek&&P&&(T=!0),l.push(S(F)),7==++_&&(s.showWeekNumber&&l.unshift(x(C-o,t,e)),a.push(E(l,s.isRTL,s.pickWholeWeek,T)),l=[],_=0,T=!1)}return k(s,a)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),c(this.el,"is-hidden"),this._o.bound&&(r(s,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&o(s,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"keydown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),e.keyboardInput&&o(s,"keydown",this._onKeyChange),e.field&&(o(e.field,"change",this._onInputChange),e.bound&&(o(e.trigger,"click",this._onInputClick),o(e.trigger,"focus",this._onInputFocus),o(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},_}));var wa=ta(pa.exports);const ba={bound:!1,minDate:new Date,maxDate:new Date(2500,12,31),format:"MM/DD/YYYY",i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Su","Mo","Tu","We","Th","Fr","Sa"]}};class Ta{#re=null;#oe=null;#ae=null;#le=null;#ce=null;#ue=null;#he=null;#de=null;#pe=null;#me={visit_start:"",visit_end:"",start_label:"",end_label:""};constructor(e){this.#ae=e;const t=this.#ae.querySelector(".js-tabs");this.#re=new da(t),this.#ue=this.#ae.querySelector(".js-start-date-field"),this.#he=document.querySelector(".form-item-visit-start input"),this.#de=this.#ae.querySelector(".js-end-date-field"),this.#pe=document.querySelector(".form-item-visit-end input"),this.#le=new wa({field:this.#ue,container:this.#ae.querySelector(".js-start-date"),...ba,onSelect:this.updateStartDate}),this.#ce=new wa({field:this.#de,container:this.#ae.querySelector(".js-end-date"),...ba,onSelect:this.updateEndDate}),this.#le.getDate()&&this.updateStartDate(this.#le.getDate()),this.#ce.getDate()&&this.updateEndDate(this.#ce.getDate());this.#ae.querySelector(".js-clear-range").addEventListener("click",this.handleClearButtonClick)}updateStartDate=e=>{if(this.#le.setStartRange(e),this.#ce.setStartRange(e),this.#ce.setMinDate(e),this.#le.draw(!0),this.#ce.draw(!0),this.dateRange.visit_start=this.#le.getMoment().format("yyyy-MM-DD"),this.dateRange.start_label=this.#le.getMoment().isSame((new Date).toISOString(),e)?"Today":this.#le.getMoment().format("MMM D"),this.#he.value=this.dateRange.visit_start,""===this.dateRange.visit_end){this.#ae.classList.add("start-only");const e=this.#ae.querySelector("#tab-2");this.#re.setSelectedTab(e)}};updateEndDate=e=>{this.#le.setEndRange(e),this.#le.setMaxDate(e),this.#ce.setEndRange(e),this.#le.draw(!0),this.#ce.draw(!0),this.dateRange.visit_end=this.#ce.getMoment().format("yyyy-MM-DD"),this.dateRange.end_label=this.#ce.getMoment().format("MMM D"),this.#pe.value=this.dateRange.visit_end,this.#ae.classList.remove("start-only")};handleClearIndividualPicker=e=>{e.clear(),e.setStartRange(!1),e.setEndRange(!1),e.setMinDate(new Date),e.setMaxDate(new Date(2500,12,31)),e.draw(!0)};handleClearButtonClick=()=>{this.handleClearIndividualPicker(this.#ce),this.handleClearIndividualPicker(this.#le),this.#he.value="",this.#pe.value="",this.#ae.classList.remove("start-only");const e=this.#ae.querySelector("#tab-1");this.#re.setSelectedTab(e)};get dateRange(){return this.#me}}!function(e,t,i,s){t.behaviors.nga_date_range_picker={attach:function(s){i("js-date-range",".js-date-range-dropdown",s).forEach((function(i){const s=i,n=new Xo(s,{bodyOpenClass:"open-date-range",closeBackgroundClass:"js-date-range-background"}),r=e(i).siblings(".o-dropdown__content").find(".js-date-range"),o=new Ta(r[0]);if(t&&void 0!==t&&drupalSettings&&"undefined"!=typeof drupalSettings){const t=r.find(".js-apply-range"),i=window.matchMedia("(min-width: 950px)"),a=e(s).siblings(".o-dropdown__content"),l=e("#events-date-modal .o-drawer-modal__content-body"),c=()=>l.append(r),u=()=>a.append(r);i.matches||c(),i.onchange=e=>e.matches?u():c(),t.on("click",(()=>{const t=e("form.views-exposed-form.bef-exposed-form");n.closeDisclosure(),setTimeout((()=>{t.trigger("change")}),240)})),e(".js-date-range-background").on("click",(()=>{""===o.dateRange.visit_start&&""===o.dateRange.visit_end||o.handleClearButtonClick()}))}}))}}}(jQuery,Drupal,once);class Sa{#ge;#fe;#ve;#ye;#we;#be;#Te;#Se;#xe;#Ee;#Ce;#ke;#_e=0;#De;#Pe=0;#Ae;#Me=0;#Le=0;#Re=!1;#Ie;constructor(){if(this.#ge=document.querySelector(".js-site-header"),!this.#ge)return;this.#Re=this.#ge.hasAttribute("data-ishome"),this.#Ie=this.#ge.querySelector(".c-site-header__lower"),this.#Te=[...document.querySelectorAll(".js-search-button")],this.#ve=[...document.querySelectorAll(".js-header-button")],this.#ye=this.#ve.map((e=>{const t=new Xo(e,{bodyOpenClass:"open-header",onOpen:this.#Oe});return e.addEventListener("click",(()=>{e.getAttribute(!1)?document.body.setAttribute("data-lenis-prevent","true"):document.body.removeAttribute("data-lenis-prevent")})),t})),this.#fe=document.querySelector(".js-site-header--scroller"),this.#De=this.#ge.offsetHeight,this.#Ae=this.#fe.offsetHeight;this.#fe.querySelectorAll("a[href], button").forEach((e=>{e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true")})),this.#we=document.querySelector(".js-mobile-menu-toggle"),this.#we.addEventListener("click",(()=>{this.#Ne(),this.#Oe()})),this.#be=[...document.querySelectorAll(".js-mobile-submenu-toggle")];const e=document.querySelector("#mobile-menu-modal");this.#Ce=new Jo(e);const t=document.querySelector("#search-tray-modal");this.#ke=new Jo(t),this.#Se=document.getElementById("gin-toolbar-bar"),this.#xe=document.querySelector(".gin-secondary-toolbar"),this.#Ee=document.querySelector("[data-sitewide-alert]"),this.#Be(),this.#He(),this.#Fe(),window.addEventListener("scroll",(()=>{this.#qe()})),window.triggerHeaderResize=()=>{this.#ze(this.#ge.offsetHeight),this.#He()},this.#be.forEach((e=>e.addEventListener("click",(()=>this.#Ne())))),t.addEventListener("open-a11y-modal",(()=>{this.#Oe()}));let i=null;nn.subscribe((e=>{e?i&&(i(),i=null,Es(this.#ge,{opacity:1},{duration:0})):i=en(Es(this.#ge,{opacity:0}))}),{immediate:!0})}#Ve(){let e=this.#Ie.getBoundingClientRect().top;e<this.#fe.offsetHeight&&(e=this.#fe.offsetHeight),document.documentElement.style.setProperty("--menu-modal-gap",`${e}px`)}#ze(e){const t=document.querySelector(".c-site-header__lower");this.#De=e-(t?.offsetHeight??0),this.#Ae=this.#fe.offsetHeight,(this.#Se?.offsetHeight||this.#xe?.offsetHeight||this.#_e)&&(this.#De=this.#De+(this.#Se?.offsetHeight??0)+(this.#xe?.offsetHeight??0)+this.#_e,this.#Pe=(this.#Se?.offsetHeight??0)+(this.#xe?.offsetHeight??0)+this.#_e,this.#Ae=this.#Ae+(this.#Se?.offsetHeight??0)),document.documentElement.style.setProperty("--site-alert-height",`${this.#_e}px`),document.documentElement.style.setProperty("--site-header-height",`${this.#De}px`),document.documentElement.style.setProperty("--scroller-header-height",`${this.#Ae}px`)}#Oe=()=>{!document.body.classList.contains("is-past-header")&&!document.body.classList.contains("open-header")&&this.#Le<this.#De&&document.documentElement.scrollTo({top:0,left:0,behavior:"smooth"})};#Be(){if(this.#Ee){const e=new MutationObserver(((e,t)=>{for(const i of e)this.#_e=i.target.offsetHeight,this.#ze(this.#ge.offsetHeight),0===i.target.childNodes.length&&(this.#_e=0,t.disconnect())}));e.observe(this.#Ee,{subtree:!0,childList:!0})}else this.#_e=0;new ResizeObserver((e=>{for(const t of e)this.#ze(t.target.offsetHeight)})).observe(this.#ge)}#He(){const e=window.innerWidth;document.documentElement.style.setProperty("--global-modal-width",8*e+"px")}#qe(){window.requestAnimationFrame((()=>{this.#Le=document.body.scrollTop||document.documentElement.scrollTop,this.#Le>this.#De?(document.body.classList.add("is-past-header"),this.#Le<this.#Me?document.body.classList.add("is-scrolled"):document.body.classList.remove("is-scrolled")):(document.body.classList.remove("is-past-header"),document.body.classList.remove("is-scrolled")),this.#Me=this.#Le}))}#Ne(){this.#ye.forEach((e=>{e.closeDisclosure()}))}#Fe(){let e;const t=()=>{clearTimeout(e),e=setTimeout((()=>{this.#ge?(this.#ze(this.#ge.offsetHeight),this.#He()):console.log("SiteHeader: Header element not found during resize")}),250)};window.addEventListener("resize",t),t()}}function xa(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function Ea(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>i.indexOf(e)<0)).forEach((i=>{void 0===e[i]?e[i]=t[i]:xa(t[i])&&xa(e[i])&&Object.keys(t[i]).length>0&&Ea(e[i],t[i])}))}const Ca={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ka(){const e="undefined"!=typeof document?document:{};return Ea(e,Ca),e}const _a={document:Ca,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function Da(){const e="undefined"!=typeof window?window:{};return Ea(e,_a),e}function Pa(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}function Aa(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function Ma(){return Date.now()}function La(e,t){void 0===t&&(t="x");const i=Da();let s,n,r;const o=function(e){const t=Da();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}(e);return i.WebKitCSSMatrix?(n=o.transform||o.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map((e=>e.replace(",","."))).join(", ")),r=new i.WebKitCSSMatrix("none"===n?"":n)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),"x"===t&&(n=i.WebKitCSSMatrix?r.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===t&&(n=i.WebKitCSSMatrix?r.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),n||0}function Ra(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Ia(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){const n=s<0||arguments.length<=s?void 0:arguments[s];if(null!=n&&(i=n,!("undefined"!=typeof window&&void 0!==window.HTMLElement?i instanceof HTMLElement:i&&(1===i.nodeType||11===i.nodeType)))){const i=Object.keys(Object(n)).filter((e=>t.indexOf(e)<0));for(let t=0,s=i.length;t<s;t+=1){const s=i[t],r=Object.getOwnPropertyDescriptor(n,s);void 0!==r&&r.enumerable&&(Ra(e[s])&&Ra(n[s])?n[s].__swiper__?e[s]=n[s]:Ia(e[s],n[s]):!Ra(e[s])&&Ra(n[s])?(e[s]={},n[s].__swiper__?e[s]=n[s]:Ia(e[s],n[s])):e[s]=n[s])}}}var i;return e}function Oa(e,t,i){e.style.setProperty(t,i)}function Na(e){let{swiper:t,targetPosition:i,side:s}=e;const n=Da(),r=-t.translate;let o,a=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(t.cssModeFrameID);const c=i>r?"next":"prev",u=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,h=()=>{o=(new Date).getTime(),null===a&&(a=o);const e=Math.max(Math.min((o-a)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let d=r+c*(i-r);if(u(d,i)&&(d=i),t.wrapperEl.scrollTo({[s]:d}),u(d,i))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[s]:d})})),void n.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=n.requestAnimationFrame(h)};h()}function Ba(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function Ha(e,t){void 0===t&&(t="");const i=Da(),s=[...e.children];return i.HTMLSlotElement&&e instanceof HTMLSlotElement&&s.push(...e.assignedElements()),t?s.filter((e=>e.matches(t))):s}function Fa(e){try{return void console.warn(e)}catch(e){}}function qa(e,t){void 0===t&&(t=[]);const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:Pa(t)),i}function za(e,t){return Da().getComputedStyle(e,null).getPropertyValue(t)}function Va(e){let t,i=e;if(i){for(t=0;null!==(i=i.previousSibling);)1===i.nodeType&&(t+=1);return t}}function ja(e,t){const i=[];let s=e.parentElement;for(;s;)t?s.matches(t)&&i.push(s):i.push(s),s=s.parentElement;return i}function Ua(e,t){t&&e.addEventListener("transitionend",(function i(s){s.target===e&&(t.call(e,s),e.removeEventListener("transitionend",i))}))}function Ga(e,t,i){const s=Da();return e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom"))}function Wa(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}let Ya,$a,Za;function Xa(){return Ya||(Ya=function(){const e=Da(),t=ka();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),Ya}function Ka(e){return void 0===e&&(e={}),$a||($a=function(e){let{userAgent:t}=void 0===e?{}:e;const i=Xa(),s=Da(),n=s.navigator.platform,r=t||s.navigator.userAgent,o={ios:!1,android:!1},a=s.screen.width,l=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const h=r.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===n;let m="MacIntel"===n;return!u&&m&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),m=!1),c&&!p&&(o.os="android",o.android=!0),(u||d||h)&&(o.os="ios",o.ios=!0),o}(e)),$a}function Ja(){return Za||(Za=function(){const e=Da(),t=Ka();let i=!1;function s(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(s()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,s]=t.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));i=e<16||16===e&&s<2}}const n=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),r=s();return{isSafari:i||r,needPerspectiveFix:i,need3dFix:r||n&&t.ios,isWebView:n}}()),Za}var Qa={on(e,t,i){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof t)return s;const n=i?"unshift":"push";return e.split(" ").forEach((e=>{s.eventsListeners[e]||(s.eventsListeners[e]=[]),s.eventsListeners[e][n](t)})),s},once(e,t,i){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof t)return s;function n(){s.off(e,n),n.__emitterProxy&&delete n.__emitterProxy;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];t.apply(s,r)}return n.__emitterProxy=t,s.on(e,n,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof e)return i;const s=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[s](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(((s,n)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&i.eventsListeners[e].splice(n,1)}))})),i):i},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,i,s;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];"string"==typeof r[0]||Array.isArray(r[0])?(t=r[0],i=r.slice(1,r.length),s=e):(t=r[0].events,i=r[0].data,s=r[0].context||e),i.unshift(s);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(s,[t,...i])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(s,i)}))})),e}};const el=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)};const tl=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)};const il=(e,t)=>{if(!e||e.destroyed||!e.params)return;const i=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(i){let t=i.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(i.shadowRoot?t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{i.shadowRoot&&(t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},sl=(e,t)=>{if(!e.slides[t])return;const i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},nl=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);const s="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),n=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const i=n,r=[i-t];return r.push(...Array.from({length:t}).map(((e,t)=>i+s+t))),void e.slides.forEach(((t,i)=>{r.includes(t.column)&&sl(e,i)}))}const r=n+s-1;if(e.params.rewind||e.params.loop)for(let s=n-t;s<=r+t;s+=1){const t=(s%i+i)%i;(t<n||t>r)&&sl(e,t)}else for(let s=Math.max(n-t,0);s<=Math.min(r+t,i-1);s+=1)s!==n&&(s>r||s<n)&&sl(e,s)};var rl={updateSize:function(){const e=this;let t,i;const s=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:s.clientWidth,i=void 0!==e.params.height&&null!==e.params.height?e.params.height:s.clientHeight,0===t&&e.isHorizontal()||0===i&&e.isVertical()||(t=t-parseInt(za(s,"padding-left")||0,10)-parseInt(za(s,"padding-right")||0,10),i=i-parseInt(za(s,"padding-top")||0,10)-parseInt(za(s,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))},updateSlides:function(){const e=this;function t(t,i){return parseFloat(t.getPropertyValue(e.getDirectionLabel(i))||0)}const i=e.params,{wrapperEl:s,slidesEl:n,size:r,rtlTranslate:o,wrongRTL:a}=e,l=e.virtual&&i.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=Ha(n,`.${e.params.slideClass}, swiper-slide`),h=l?e.virtual.slides.length:u.length;let d=[];const p=[],m=[];let g=i.slidesOffsetBefore;"function"==typeof g&&(g=i.slidesOffsetBefore.call(e));let f=i.slidesOffsetAfter;"function"==typeof f&&(f=i.slidesOffsetAfter.call(e));const v=e.snapGrid.length,y=e.slidesGrid.length;let w=i.spaceBetween,b=-g,T=0,S=0;if(void 0===r)return;"string"==typeof w&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*r:"string"==typeof w&&(w=parseFloat(w)),e.virtualSize=-w,u.forEach((e=>{o?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),i.centeredSlides&&i.cssMode&&(Oa(s,"--swiper-centered-offset-before",""),Oa(s,"--swiper-centered-offset-after",""));const x=i.grid&&i.grid.rows>1&&e.grid;let E;x?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();const C="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter((e=>void 0!==i.breakpoints[e].slidesPerView)).length>0;for(let s=0;s<h;s+=1){let n;if(E=0,u[s]&&(n=u[s]),x&&e.grid.updateSlide(s,n,u),!u[s]||"none"!==za(n,"display")){if("auto"===i.slidesPerView){C&&(u[s].style[e.getDirectionLabel("width")]="");const r=getComputedStyle(n),o=n.style.transform,a=n.style.webkitTransform;if(o&&(n.style.transform="none"),a&&(n.style.webkitTransform="none"),i.roundLengths)E=e.isHorizontal()?Ga(n,"width"):Ga(n,"height");else{const e=t(r,"width"),i=t(r,"padding-left"),s=t(r,"padding-right"),o=t(r,"margin-left"),a=t(r,"margin-right"),l=r.getPropertyValue("box-sizing");if(l&&"border-box"===l)E=e+o+a;else{const{clientWidth:t,offsetWidth:r}=n;E=e+i+s+o+a+(r-t)}}o&&(n.style.transform=o),a&&(n.style.webkitTransform=a),i.roundLengths&&(E=Math.floor(E))}else E=(r-(i.slidesPerView-1)*w)/i.slidesPerView,i.roundLengths&&(E=Math.floor(E)),u[s]&&(u[s].style[e.getDirectionLabel("width")]=`${E}px`);u[s]&&(u[s].swiperSlideSize=E),m.push(E),i.centeredSlides?(b=b+E/2+T/2+w,0===T&&0!==s&&(b=b-r/2-w),0===s&&(b=b-r/2-w),Math.abs(b)<.001&&(b=0),i.roundLengths&&(b=Math.floor(b)),S%i.slidesPerGroup==0&&d.push(b),p.push(b)):(i.roundLengths&&(b=Math.floor(b)),(S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup==0&&d.push(b),p.push(b),b=b+E+w),e.virtualSize+=E+w,T=E,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+f,o&&a&&("slide"===i.effect||"coverflow"===i.effect)&&(s.style.width=`${e.virtualSize+w}px`),i.setWrapperSize&&(s.style[e.getDirectionLabel("width")]=`${e.virtualSize+w}px`),x&&e.grid.updateWrapperSize(E,d),!i.centeredSlides){const t=[];for(let s=0;s<d.length;s+=1){let n=d[s];i.roundLengths&&(n=Math.floor(n)),d[s]<=e.virtualSize-r&&t.push(n)}d=t,Math.floor(e.virtualSize-r)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-r)}if(l&&i.loop){const t=m[0]+w;if(i.slidesPerGroup>1){const s=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/i.slidesPerGroup),n=t*i.slidesPerGroup;for(let e=0;e<s;e+=1)d.push(d[d.length-1]+n)}for(let s=0;s<e.virtual.slidesBefore+e.virtual.slidesAfter;s+=1)1===i.slidesPerGroup&&d.push(d[d.length-1]+t),p.push(p[p.length-1]+t),e.virtualSize+=t}if(0===d.length&&(d=[0]),0!==w){const t=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");u.filter(((e,t)=>!(i.cssMode&&!i.loop)||t!==u.length-1)).forEach((e=>{e.style[t]=`${w}px`}))}if(i.centeredSlides&&i.centeredSlidesBounds){let e=0;m.forEach((t=>{e+=t+(w||0)})),e-=w;const t=e>r?e-r:0;d=d.map((e=>e<=0?-g:e>t?t+f:e))}if(i.centerInsufficientSlides){let e=0;m.forEach((t=>{e+=t+(w||0)})),e-=w;const t=(i.slidesOffsetBefore||0)+(i.slidesOffsetAfter||0);if(e+t<r){const i=(r-e-t)/2;d.forEach(((e,t)=>{d[t]=e-i})),p.forEach(((e,t)=>{p[t]=e+i}))}}if(Object.assign(e,{slides:u,snapGrid:d,slidesGrid:p,slidesSizesGrid:m}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){Oa(s,"--swiper-centered-offset-before",-d[0]+"px"),Oa(s,"--swiper-centered-offset-after",e.size/2-m[m.length-1]/2+"px");const t=-e.snapGrid[0],i=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+i))}if(h!==c&&e.emit("slidesLengthChange"),d.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==y&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(l||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const t=`${i.containerModifierClass}backface-hidden`,s=e.el.classList.contains(t);h<=i.maxBackfaceHiddenSlides?s||e.el.classList.add(t):s&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,i=[],s=t.virtual&&t.params.virtual.enabled;let n,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const o=e=>s?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{i.push(e)}));else for(n=0;n<Math.ceil(t.params.slidesPerView);n+=1){const e=t.activeIndex+n;if(e>t.slides.length&&!s)break;i.push(o(e))}else i.push(o(t.activeIndex));for(n=0;n<i.length;n+=1)if(void 0!==i[n]){const e=i[n].offsetHeight;r=e>r?e:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let s=0;s<t.length;s+=1)t[s].swiperSlideOffset=(e.isHorizontal()?t[s].offsetLeft:t[s].offsetTop)-i-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,i=t.params,{slides:s,rtlTranslate:n,snapGrid:r}=t;if(0===s.length)return;void 0===s[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-e;n&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=i.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:"string"==typeof a&&(a=parseFloat(a));for(let e=0;e<s.length;e+=1){const l=s[e];let c=l.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(c-=s[0].swiperSlideOffset);const u=(o+(i.centeredSlides?t.minTranslate():0)-c)/(l.swiperSlideSize+a),h=(o-r[0]+(i.centeredSlides?t.minTranslate():0)-c)/(l.swiperSlideSize+a),d=-(o-c),p=d+t.slidesSizesGrid[e],m=d>=0&&d<=t.size-t.slidesSizesGrid[e],g=d>=0&&d<t.size-1||p>1&&p<=t.size||d<=0&&p>=t.size;g&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(e)),el(l,g,i.slideVisibleClass),el(l,m,i.slideFullyVisibleClass),l.progress=n?-u:u,l.originalProgress=n?-h:h}},updateProgress:function(e){const t=this;if(void 0===e){const i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}const i=t.params,s=t.maxTranslate()-t.minTranslate();let{progress:n,isBeginning:r,isEnd:o,progressLoop:a}=t;const l=r,c=o;if(0===s)n=0,r=!0,o=!0;else{n=(e-t.minTranslate())/s;const i=Math.abs(e-t.minTranslate())<1,a=Math.abs(e-t.maxTranslate())<1;r=i||n<=0,o=a||n>=1,i&&(n=0),a&&(n=1)}if(i.loop){const i=t.getSlideIndexByData(0),s=t.getSlideIndexByData(t.slides.length-1),n=t.slidesGrid[i],r=t.slidesGrid[s],o=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);a=l>=n?(l-n)/o:(l+o-r)/o,a>1&&(a-=1)}Object.assign(t,{progress:n,progressLoop:a,isBeginning:r,isEnd:o}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),r&&!l&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&t.emit("fromEdge"),t.emit("progress",n)},updateSlidesClasses:function(){const e=this,{slides:t,params:i,slidesEl:s,activeIndex:n}=e,r=e.virtual&&i.virtual.enabled,o=e.grid&&i.grid&&i.grid.rows>1,a=e=>Ha(s,`.${i.slideClass}${e}, swiper-slide${e}`)[0];let l,c,u;if(r)if(i.loop){let t=n-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=a(`[data-swiper-slide-index="${t}"]`)}else l=a(`[data-swiper-slide-index="${n}"]`);else o?(l=t.find((e=>e.column===n)),u=t.find((e=>e.column===n+1)),c=t.find((e=>e.column===n-1))):l=t[n];l&&(o||(u=function(e,t){const i=[];for(;e.nextElementSibling;){const s=e.nextElementSibling;t?s.matches(t)&&i.push(s):i.push(s),e=s}return i}(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&!u&&(u=t[0]),c=function(e,t){const i=[];for(;e.previousElementSibling;){const s=e.previousElementSibling;t?s.matches(t)&&i.push(s):i.push(s),e=s}return i}(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&0===!c&&(c=t[t.length-1]))),t.forEach((e=>{tl(e,e===l,i.slideActiveClass),tl(e,e===u,i.slideNextClass),tl(e,e===c,i.slidePrevClass)})),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:s,params:n,activeIndex:r,realIndex:o,snapIndex:a}=t;let l,c=e;const u=e=>{let i=e-t.virtual.slidesBefore;return i<0&&(i=t.virtual.slides.length+i),i>=t.virtual.slides.length&&(i-=t.virtual.slides.length),i};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:i}=e,s=e.rtlTranslate?e.translate:-e.translate;let n;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?s>=t[e]&&s<t[e+1]-(t[e+1]-t[e])/2?n=e:s>=t[e]&&s<t[e+1]&&(n=e+1):s>=t[e]&&(n=e);return i.normalizeSlideIndex&&(n<0||void 0===n)&&(n=0),n}(t)),s.indexOf(i)>=0)l=s.indexOf(i);else{const e=Math.min(n.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/n.slidesPerGroup)}if(l>=s.length&&(l=s.length-1),c===r&&!t.params.loop)return void(l!==a&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===r&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=u(c));const h=t.grid&&n.grid&&n.grid.rows>1;let d;if(t.virtual&&n.virtual.enabled&&n.loop)d=u(c);else if(h){const e=t.slides.find((e=>e.column===c));let i=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(i)&&(i=Math.max(t.slides.indexOf(e),0)),d=Math.floor(i/n.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");d=e?parseInt(e,10):c}else d=c;Object.assign(t,{previousSnapIndex:a,snapIndex:l,previousRealIndex:o,realIndex:d,previousIndex:r,activeIndex:c}),t.initialized&&nl(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==d&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const i=this,s=i.params;let n=e.closest(`.${s.slideClass}, swiper-slide`);!n&&i.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!n&&e.matches&&e.matches(`.${s.slideClass}, swiper-slide`)&&(n=e)}));let r,o=!1;if(n)for(let e=0;e<i.slides.length;e+=1)if(i.slides[e]===n){o=!0,r=e;break}if(!n||!o)return i.clickedSlide=void 0,void(i.clickedIndex=void 0);i.clickedSlide=n,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=r,s.slideToClickedSlide&&void 0!==i.clickedIndex&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}};var ol={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:i,translate:s,wrapperEl:n}=this;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;let r=La(n,e);return r+=this.cssOverflowAdjustment(),i&&(r=-r),r||0},setTranslate:function(e,t){const i=this,{rtlTranslate:s,params:n,wrapperEl:r,progress:o}=i;let a,l=0,c=0;i.isHorizontal()?l=s?-e:e:c=e,n.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?l:c,n.cssMode?r[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-l:-c:n.virtualTranslate||(i.isHorizontal()?l-=i.cssOverflowAdjustment():c-=i.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const u=i.maxTranslate()-i.minTranslate();a=0===u?0:(e-i.minTranslate())/u,a!==o&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,s,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===s&&(s=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(u=s&&e>l?l:s&&e<c?c:e,r.updateProgress(u),o.cssMode){const e=r.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return Na({swiper:r,targetPosition:-u,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(r.setTransition(0),r.setTranslate(u),i&&(r.emit("beforeTransitionStart",t,n),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(u),i&&(r.emit("beforeTransitionStart",t,n),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,i&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}};function al(e){let{swiper:t,runCallbacks:i,direction:s,step:n}=e;const{activeIndex:r,previousIndex:o}=t;let a=s;if(a||(a=r>o?"next":r<o?"prev":"reset"),t.emit(`transition${n}`),i&&r!==o){if("reset"===a)return void t.emit(`slideResetTransition${n}`);t.emit(`slideChangeTransition${n}`),"next"===a?t.emit(`slideNextTransition${n}`):t.emit(`slidePrevTransition${n}`)}}var ll={slideTo:function(e,t,i,s,n){void 0===e&&(e=0),void 0===i&&(i=!0),"string"==typeof e&&(e=parseInt(e,10));const r=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:d,wrapperEl:p,enabled:m}=r;if(!m&&!s&&!n||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;void 0===t&&(t=r.params.speed);const g=Math.min(r.params.slidesPerGroupSkip,o);let f=g+Math.floor((o-g)/r.params.slidesPerGroup);f>=l.length&&(f=l.length-1);const v=-l[f];if(a.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*v),i=Math.floor(100*c[e]),s=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=i&&t<s-(s-i)/2?o=e:t>=i&&t<s&&(o=e+1):t>=i&&(o=e)}if(r.initialized&&o!==h){if(!r.allowSlideNext&&(d?v>r.translate&&v>r.minTranslate():v<r.translate&&v<r.minTranslate()))return!1;if(!r.allowSlidePrev&&v>r.translate&&v>r.maxTranslate()&&(h||0)!==o)return!1}let y;o!==(u||0)&&i&&r.emit("beforeSlideChangeStart"),r.updateProgress(v),y=o>h?"next":o<h?"prev":"reset";const w=r.virtual&&r.params.virtual.enabled;if(!(w&&n)&&(d&&-v===r.translate||!d&&v===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==a.effect&&r.setTranslate(v),"reset"!==y&&(r.transitionStart(i,y),r.transitionEnd(i,y)),!1;if(a.cssMode){const e=r.isHorizontal(),i=d?v:-v;if(0===t)w&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),w&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{p[e?"scrollLeft":"scrollTop"]=i}))):p[e?"scrollLeft":"scrollTop"]=i,w&&requestAnimationFrame((()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1}));else{if(!r.support.smoothScroll)return Na({swiper:r,targetPosition:i,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}return!0}const b=Ja().isSafari;return w&&!n&&b&&r.isElement&&r.virtual.update(!1,!1,o),r.setTransition(t),r.setTranslate(v),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,s),r.transitionStart(i,y),0===t?r.transitionEnd(i,y):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(i,y))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,i,s){if(void 0===e&&(e=0),void 0===i&&(i=!0),"string"==typeof e){e=parseInt(e,10)}const n=this;if(n.destroyed)return;void 0===t&&(t=n.params.speed);const r=n.grid&&n.params.grid&&n.params.grid.rows>1;let o=e;if(n.params.loop)if(n.virtual&&n.params.virtual.enabled)o+=n.virtual.slidesBefore;else{let e;if(r){const t=o*n.params.grid.rows;e=n.slides.find((e=>1*e.getAttribute("data-swiper-slide-index")===t)).column}else e=n.getSlideIndexByData(o);const t=r?Math.ceil(n.slides.length/n.params.grid.rows):n.slides.length,{centeredSlides:i}=n.params;let a=n.params.slidesPerView;"auto"===a?a=n.slidesPerViewDynamic():(a=Math.ceil(parseFloat(n.params.slidesPerView,10)),i&&a%2==0&&(a+=1));let l=t-e<a;if(i&&(l=l||e<Math.ceil(a/2)),s&&i&&"auto"!==n.params.slidesPerView&&!r&&(l=!1),l){const s=i?e<n.activeIndex?"prev":"next":e-n.activeIndex-1<n.params.slidesPerView?"next":"prev";n.loopFix({direction:s,slideTo:!0,activeSlideIndex:"next"===s?e+1:e-t+1,slideRealIndex:"next"===s?n.realIndex:void 0})}if(r){const e=o*n.params.grid.rows;o=n.slides.find((t=>1*t.getAttribute("data-swiper-slide-index")===e)).column}else o=n.getSlideIndexByData(o)}return requestAnimationFrame((()=>{n.slideTo(o,t,i,s)})),n},slideNext:function(e,t,i){void 0===t&&(t=!0);const s=this,{enabled:n,params:r,animating:o}=s;if(!n||s.destroyed)return s;void 0===e&&(e=s.params.speed);let a=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(a=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<r.slidesPerGroupSkip?1:a,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame((()=>{s.slideTo(s.activeIndex+l,e,t,i)})),!0}return r.rewind&&s.isEnd?s.slideTo(0,e,t,i):s.slideTo(s.activeIndex+l,e,t,i)},slidePrev:function(e,t,i){void 0===t&&(t=!0);const s=this,{params:n,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=s;if(!l||s.destroyed)return s;void 0===e&&(e=s.params.speed);const u=s.virtual&&n.virtual.enabled;if(n.loop){if(c&&!u&&n.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}function h(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const d=h(a?s.translate:-s.translate),p=r.map((e=>h(e))),m=n.freeMode&&n.freeMode.enabled;let g=r[p.indexOf(d)-1];if(void 0===g&&(n.cssMode||m)){let e;r.forEach(((t,i)=>{d>=t&&(e=i)})),void 0!==e&&(g=m?r[e]:r[e>0?e-1:e])}let f=0;if(void 0!==g&&(f=o.indexOf(g),f<0&&(f=s.activeIndex-1),"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(f=f-s.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),n.rewind&&s.isBeginning){const n=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(n,e,t,i)}return n.loop&&0===s.activeIndex&&n.cssMode?(requestAnimationFrame((()=>{s.slideTo(f,e,t,i)})),!0):s.slideTo(f,e,t,i)},slideReset:function(e,t,i){void 0===t&&(t=!0);const s=this;if(!s.destroyed)return void 0===e&&(e=s.params.speed),s.slideTo(s.activeIndex,e,t,i)},slideToClosest:function(e,t,i,s){void 0===t&&(t=!0),void 0===s&&(s=.5);const n=this;if(n.destroyed)return;void 0===e&&(e=n.params.speed);let r=n.activeIndex;const o=Math.min(n.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/n.params.slidesPerGroup),l=n.rtlTranslate?n.translate:-n.translate;if(l>=n.snapGrid[a]){const e=n.snapGrid[a];l-e>(n.snapGrid[a+1]-e)*s&&(r+=n.params.slidesPerGroup)}else{const e=n.snapGrid[a-1];l-e<=(n.snapGrid[a]-e)*s&&(r-=n.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,n.slidesGrid.length-1),n.slideTo(r,e,t,i)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:i}=e,s="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let n,r=e.clickedIndex;const o=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;n=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-s/2||r>e.slides.length-e.loopedSlides+s/2?(e.loopFix(),r=e.getSlideIndex(Ha(i,`${o}[data-swiper-slide-index="${n}"]`)[0]),Aa((()=>{e.slideTo(r)}))):e.slideTo(r):r>e.slides.length-s?(e.loopFix(),r=e.getSlideIndex(Ha(i,`${o}[data-swiper-slide-index="${n}"]`)[0]),Aa((()=>{e.slideTo(r)}))):e.slideTo(r)}else e.slideTo(r)}};var cl={loopCreate:function(e){const t=this,{params:i,slidesEl:s}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;const n=()=>{Ha(s,`.${i.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}))},r=t.grid&&i.grid&&i.grid.rows>1,o=i.slidesPerGroup*(r?i.grid.rows:1),a=t.slides.length%o!=0,l=r&&t.slides.length%i.grid.rows!=0,c=e=>{for(let s=0;s<e;s+=1){const e=t.isElement?qa("swiper-slide",[i.slideBlankClass]):qa("div",[i.slideClass,i.slideBlankClass]);t.slidesEl.append(e)}};if(a){if(i.loopAddBlankSlides){c(o-t.slides.length%o),t.recalcSlides(),t.updateSlides()}else Fa("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else if(l){if(i.loopAddBlankSlides){c(i.grid.rows-t.slides.length%i.grid.rows),t.recalcSlides(),t.updateSlides()}else Fa("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else n();t.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:i=!0,direction:s,setTranslate:n,activeSlideIndex:r,byController:o,byMousewheel:a}=void 0===e?{}:e;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:h,slidesEl:d,params:p}=l,{centeredSlides:m}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled)return i&&(p.centeredSlides||0!==l.snapIndex?p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=h,void l.emit("loopFix");let g=p.slidesPerView;"auto"===g?g=l.slidesPerViewDynamic():(g=Math.ceil(parseFloat(p.slidesPerView,10)),m&&g%2==0&&(g+=1));const f=p.slidesPerGroupAuto?g:p.slidesPerGroup;let v=f;v%f!=0&&(v+=f-v%f),v+=p.loopAdditionalSlides,l.loopedSlides=v;const y=l.grid&&p.grid&&p.grid.rows>1;c.length<g+v?Fa("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&"row"===p.grid.fill&&Fa("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const w=[],b=[];let T=l.activeIndex;void 0===r?r=l.getSlideIndex(c.find((e=>e.classList.contains(p.slideActiveClass)))):T=r;const S="next"===s||!s,x="prev"===s||!s;let E=0,C=0;const k=y?Math.ceil(c.length/p.grid.rows):c.length,_=(y?c[r].column:r)+(m&&void 0===n?-g/2+.5:0);if(_<v){E=Math.max(v-_,f);for(let e=0;e<v-_;e+=1){const t=e-Math.floor(e/k)*k;if(y){const e=k-t-1;for(let t=c.length-1;t>=0;t-=1)c[t].column===e&&w.push(t)}else w.push(k-t-1)}}else if(_+g>k-v){C=Math.max(_-(k-2*v),f);for(let e=0;e<C;e+=1){const t=e-Math.floor(e/k)*k;y?c.forEach(((e,i)=>{e.column===t&&b.push(i)})):b.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame((()=>{l.__preventObserver__=!1})),x&&w.forEach((e=>{c[e].swiperLoopMoveDOM=!0,d.prepend(c[e]),c[e].swiperLoopMoveDOM=!1})),S&&b.forEach((e=>{c[e].swiperLoopMoveDOM=!0,d.append(c[e]),c[e].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===p.slidesPerView?l.updateSlides():y&&(w.length>0&&x||b.length>0&&S)&&l.slides.forEach(((e,t)=>{l.grid.updateSlide(t,e,l.slides)})),p.watchSlidesProgress&&l.updateSlidesOffset(),i)if(w.length>0&&x){if(void 0===t){const e=l.slidesGrid[T],t=l.slidesGrid[T+E]-e;a?l.setTranslate(l.translate-t):(l.slideTo(T+Math.ceil(E),0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(n){const e=y?w.length/p.grid.rows:w.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(b.length>0&&S)if(void 0===t){const e=l.slidesGrid[T],t=l.slidesGrid[T-C]-e;a?l.setTranslate(l.translate-t):(l.slideTo(T-C,0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=y?b.length/p.grid.rows:b.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=h,l.controller&&l.controller.control&&!o){const e={slideRealIndex:t,direction:s,setTranslate:n,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===p.slidesPerView&&i})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...e,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView&&i})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const s=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;s[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),s.forEach((e=>{i.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function ul(e,t,i){const s=Da(),{params:n}=e,r=n.edgeSwipeDetection,o=n.edgeSwipeThreshold;return!r||!(i<=o||i>=s.innerWidth-o)||"prevent"===r&&(t.preventDefault(),!0)}function hl(e){const t=this,i=ka();let s=e;s.originalEvent&&(s=s.originalEvent);const n=t.touchEventsData;if("pointerdown"===s.type){if(null!==n.pointerId&&n.pointerId!==s.pointerId)return;n.pointerId=s.pointerId}else"touchstart"===s.type&&1===s.targetTouches.length&&(n.touchId=s.targetTouches[0].identifier);if("touchstart"===s.type)return void ul(t,s,s.targetTouches[0].pageX);const{params:r,touches:o,enabled:a}=t;if(!a)return;if(!r.simulateTouch&&"mouse"===s.pointerType)return;if(t.animating&&r.preventInteractionOnTransition)return;!t.animating&&r.cssMode&&r.loop&&t.loopFix();let l=s.target;if("wrapper"===r.touchEventsTarget&&!function(e,t){const i=Da();let s=t.contains(e);!s&&i.HTMLSlotElement&&t instanceof HTMLSlotElement&&(s=[...t.assignedElements()].includes(e),s||(s=function(e,t){const i=[t];for(;i.length>0;){const t=i.shift();if(e===t)return!0;i.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t)));return s}(l,t.wrapperEl))return;if("which"in s&&3===s.which)return;if("button"in s&&s.button>0)return;if(n.isTouched&&n.isMoved)return;const c=!!r.noSwipingClass&&""!==r.noSwipingClass,u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(l=u[0]);const h=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,d=!(!s.target||!s.target.shadowRoot);if(r.noSwiping&&(d?function(e,t){return void 0===t&&(t=this),function t(i){if(!i||i===ka()||i===Da())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(e);return s||i.getRootNode?s||t(i.getRootNode().host):null}(t)}(h,l):l.closest(h)))return void(t.allowClick=!0);if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const p=o.currentX,m=o.currentY;if(!ul(t,s,p))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=m,n.touchStartTime=Ma(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1);let g=!0;l.matches(n.focusableElements)&&(g=!1,"SELECT"===l.nodeName&&(n.isTouched=!1)),i.activeElement&&i.activeElement.matches(n.focusableElements)&&i.activeElement!==l&&("mouse"===s.pointerType||"mouse"!==s.pointerType&&!l.matches(n.focusableElements))&&i.activeElement.blur();const f=g&&t.allowTouchMove&&r.touchStartPreventDefault;!r.touchStartForcePreventDefault&&!f||l.isContentEditable||s.preventDefault(),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.animating&&!r.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}function dl(e){const t=ka(),i=this,s=i.touchEventsData,{params:n,touches:r,rtlTranslate:o,enabled:a}=i;if(!a)return;if(!n.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==s.touchId)return;if(c.pointerId!==s.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find((e=>e.identifier===s.touchId)),!l||l.identifier!==s.touchId)return}else l=c;if(!s.isTouched)return void(s.startMoving&&s.isScrolling&&i.emit("touchMoveOpposite",c));const u=l.pageX,h=l.pageY;if(c.preventedByNestedSwiper)return r.startX=u,void(r.startY=h);if(!i.allowTouchMove)return c.target.matches(s.focusableElements)||(i.allowClick=!1),void(s.isTouched&&(Object.assign(r,{startX:u,startY:h,currentX:u,currentY:h}),s.touchStartTime=Ma()));if(n.touchReleaseOnEdges&&!n.loop)if(i.isVertical()){if(h<r.startY&&i.translate<=i.maxTranslate()||h>r.startY&&i.translate>=i.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else if(u<r.startX&&i.translate<=i.maxTranslate()||u>r.startX&&i.translate>=i.minTranslate())return;if(t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(s.focusableElements))return s.isMoved=!0,void(i.allowClick=!1);s.allowTouchCallbacks&&i.emit("touchMove",c),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=h;const d=r.currentX-r.startX,p=r.currentY-r.startY;if(i.params.threshold&&Math.sqrt(d**2+p**2)<i.params.threshold)return;if(void 0===s.isScrolling){let e;i.isHorizontal()&&r.currentY===r.startY||i.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:d*d+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(d))/Math.PI,s.isScrolling=i.isHorizontal()?e>n.touchAngle:90-e>n.touchAngle)}if(s.isScrolling&&i.emit("touchMoveOpposite",c),void 0===s.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(s.startMoving=!0)),s.isScrolling||"touchmove"===c.type&&s.preventTouchMoveFromPointerMove)return void(s.isTouched=!1);if(!s.startMoving)return;i.allowClick=!1,!n.cssMode&&c.cancelable&&c.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&c.stopPropagation();let m=i.isHorizontal()?d:p,g=i.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;n.oneWayMovement&&(m=Math.abs(m)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),r.diff=m,m*=n.touchRatio,o&&(m=-m,g=-g);const f=i.touchesDirection;i.swipeDirection=m>0?"prev":"next",i.touchesDirection=g>0?"prev":"next";const v=i.params.loop&&!n.cssMode,y="next"===i.touchesDirection&&i.allowSlideNext||"prev"===i.touchesDirection&&i.allowSlidePrev;if(!s.isMoved){if(v&&y&&i.loopFix({direction:i.swipeDirection}),s.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});i.wrapperEl.dispatchEvent(e)}s.allowMomentumBounce=!1,!n.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==n._loopSwapReset&&s.isMoved&&s.allowThresholdMove&&f!==i.touchesDirection&&v&&y&&Math.abs(m)>=1)return Object.assign(r,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,void(s.startTranslate=s.currentTranslate);i.emit("sliderMove",c),s.isMoved=!0,s.currentTranslate=m+s.startTranslate;let w=!0,b=n.resistanceRatio;if(n.touchReleaseOnEdges&&(b=0),m>0?(v&&y&&s.allowThresholdMove&&s.currentTranslate>(n.centeredSlides?i.minTranslate()-i.slidesSizesGrid[i.activeIndex+1]-("auto"!==n.slidesPerView&&i.slides.length-n.slidesPerView>=2?i.slidesSizesGrid[i.activeIndex+1]+i.params.spaceBetween:0)-i.params.spaceBetween:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>i.minTranslate()&&(w=!1,n.resistance&&(s.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+s.startTranslate+m)**b))):m<0&&(v&&y&&s.allowThresholdMove&&s.currentTranslate<(n.centeredSlides?i.maxTranslate()+i.slidesSizesGrid[i.slidesSizesGrid.length-1]+i.params.spaceBetween+("auto"!==n.slidesPerView&&i.slides.length-n.slidesPerView>=2?i.slidesSizesGrid[i.slidesSizesGrid.length-1]+i.params.spaceBetween:0):i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-("auto"===n.slidesPerView?i.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),s.currentTranslate<i.maxTranslate()&&(w=!1,n.resistance&&(s.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-s.startTranslate-m)**b))),w&&(c.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),i.allowSlidePrev||i.allowSlideNext||(s.currentTranslate=s.startTranslate),n.threshold>0){if(!(Math.abs(m)>n.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,void(r.diff=i.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}n.followFinger&&!n.cssMode&&((n.freeMode&&n.freeMode.enabled&&i.freeMode||n.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(s.currentTranslate),i.setTranslate(s.currentTranslate))}function pl(e){const t=this,i=t.touchEventsData;let s,n=e;n.originalEvent&&(n=n.originalEvent);if("touchend"===n.type||"touchcancel"===n.type){if(s=[...n.changedTouches].find((e=>e.identifier===i.touchId)),!s||s.identifier!==i.touchId)return}else{if(null!==i.touchId)return;if(n.pointerId!==i.pointerId)return;s=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)){if(!(["pointercancel","contextmenu"].includes(n.type)&&(t.browser.isSafari||t.browser.isWebView)))return}i.pointerId=null,i.touchId=null;const{params:r,touches:o,rtlTranslate:a,slidesGrid:l,enabled:c}=t;if(!c)return;if(!r.simulateTouch&&"mouse"===n.pointerType)return;if(i.allowTouchCallbacks&&t.emit("touchEnd",n),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&r.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);r.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=Ma(),h=u-i.touchStartTime;if(t.allowClick){const e=n.path||n.composedPath&&n.composedPath();t.updateClickedSlide(e&&e[0]||n.target,e),t.emit("tap click",n),h<300&&u-i.lastClickTime<300&&t.emit("doubleTap doubleClick",n)}if(i.lastClickTime=Ma(),Aa((()=>{t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===o.diff&&!i.loopSwapReset||i.currentTranslate===i.startTranslate&&!i.loopSwapReset)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let d;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,d=r.followFinger?a?t.translate:-t.translate:-i.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:d});const p=d>=-t.maxTranslate()&&!t.params.loop;let m=0,g=t.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=e<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==l[e+t]?(p||d>=l[e]&&d<l[e+t])&&(m=e,g=l[e+t]-l[e]):(p||d>=l[e])&&(m=e,g=l[l.length-1]-l[l.length-2])}let f=null,v=null;r.rewind&&(t.isBeginning?v=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(f=0));const y=(d-l[m])/g,w=m<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(h>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?f:m+w):t.slideTo(m)),"prev"===t.swipeDirection&&(y>1-r.longSwipesRatio?t.slideTo(m+w):null!==v&&y<0&&Math.abs(y)>r.longSwipesRatio?t.slideTo(v):t.slideTo(m))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(n.target===t.navigation.nextEl||n.target===t.navigation.prevEl)?n.target===t.navigation.nextEl?t.slideTo(m+w):t.slideTo(m):("next"===t.swipeDirection&&t.slideTo(null!==f?f:m+w),"prev"===t.swipeDirection&&t.slideTo(null!==v?v:m))}}function ml(){const e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:n,snapGrid:r}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=o&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||a?e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=n,e.allowSlideNext=s,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}function gl(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function fl(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:s}=e;if(!s)return;let n;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const r=e.maxTranslate()-e.minTranslate();n=0===r?0:(e.translate-e.minTranslate())/r,n!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function vl(e){const t=this;il(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function yl(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const wl=(e,t)=>{const i=ka(),{params:s,el:n,wrapperEl:r,device:o}=e,a=!!s.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;n&&"string"!=typeof n&&(i[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:a}),n[l]("touchstart",e.onTouchStart,{passive:!1}),n[l]("pointerdown",e.onTouchStart,{passive:!1}),i[l]("touchmove",e.onTouchMove,{passive:!1,capture:a}),i[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),i[l]("touchend",e.onTouchEnd,{passive:!0}),i[l]("pointerup",e.onTouchEnd,{passive:!0}),i[l]("pointercancel",e.onTouchEnd,{passive:!0}),i[l]("touchcancel",e.onTouchEnd,{passive:!0}),i[l]("pointerout",e.onTouchEnd,{passive:!0}),i[l]("pointerleave",e.onTouchEnd,{passive:!0}),i[l]("contextmenu",e.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&n[l]("click",e.onClick,!0),s.cssMode&&r[l]("scroll",e.onScroll),s.updateOnWindowResize?e[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",ml,!0):e[c]("observerUpdate",ml,!0),n[l]("load",e.onLoad,{capture:!0}))};const bl=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var Tl={setBreakpoint:function(){const e=this,{realIndex:t,initialized:i,params:s,el:n}=e,r=s.breakpoints;if(!r||r&&0===Object.keys(r).length)return;const o=ka(),a="window"!==s.breakpointsBase&&s.breakpointsBase?"container":s.breakpointsBase,l=["window","container"].includes(s.breakpointsBase)||!s.breakpointsBase?e.el:o.querySelector(s.breakpointsBase),c=e.getBreakpoint(r,a,l);if(!c||e.currentBreakpoint===c)return;const u=(c in r?r[c]:void 0)||e.originalParams,h=bl(e,s),d=bl(e,u),p=e.params.grabCursor,m=u.grabCursor,g=s.enabled;h&&!d?(n.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),e.emitContainerClasses()):!h&&d&&(n.classList.add(`${s.containerModifierClass}grid`),(u.grid.fill&&"column"===u.grid.fill||!u.grid.fill&&"column"===s.grid.fill)&&n.classList.add(`${s.containerModifierClass}grid-column`),e.emitContainerClasses()),p&&!m?e.unsetGrabCursor():!p&&m&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach((t=>{if(void 0===u[t])return;const i=s[t]&&s[t].enabled,n=u[t]&&u[t].enabled;i&&!n&&e[t].disable(),!i&&n&&e[t].enable()}));const f=u.direction&&u.direction!==s.direction,v=s.loop&&(u.slidesPerView!==s.slidesPerView||f),y=s.loop;f&&i&&e.changeDirection(),Ia(e.params,u);const w=e.params.enabled,b=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),g&&!w?e.disable():!g&&w&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",u),i&&(v?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!y&&b?(e.loopCreate(t),e.updateSlides()):y&&!b&&e.loopDestroy()),e.emit("breakpoint",u)},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),!e||"container"===t&&!i)return;let s=!1;const n=Da(),r="window"===t?n.innerHeight:i.clientHeight,o=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:r*t,point:e}}return{value:e,point:e}}));o.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<o.length;e+=1){const{point:r,value:a}=o[e];"window"===t?n.matchMedia(`(min-width: ${a}px)`).matches&&(s=r):a<=i.clientWidth&&(s=r)}return s||"max"}};var Sl={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function xl(e,t){return function(i){void 0===i&&(i={});const s=Object.keys(i)[0],n=i[s];"object"==typeof n&&null!==n?(!0===e[s]&&(e[s]={enabled:!0}),"navigation"===s&&e[s]&&e[s].enabled&&!e[s].prevEl&&!e[s].nextEl&&(e[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&e[s]&&e[s].enabled&&!e[s].el&&(e[s].auto=!0),s in e&&"enabled"in n?("object"!=typeof e[s]||"enabled"in e[s]||(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),Ia(t,i)):Ia(t,i)):Ia(t,i)}}const El={eventsEmitter:Qa,update:rl,translate:ol,transition:{setTransition:function(e,t){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`,i.wrapperEl.style.transitionDelay=0===e?"0ms":""),i.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const i=this,{params:s}=i;s.cssMode||(s.autoHeight&&i.updateAutoHeight(),al({swiper:i,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const i=this,{params:s}=i;i.animating=!1,s.cssMode||(i.setTransition(0),al({swiper:i,runCallbacks:e,direction:t,step:"End"}))}},slide:ll,loop:cl,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=hl.bind(e),e.onTouchMove=dl.bind(e),e.onTouchEnd=pl.bind(e),e.onDocumentTouchStart=yl.bind(e),t.cssMode&&(e.onScroll=fl.bind(e)),e.onClick=gl.bind(e),e.onLoad=vl.bind(e),wl(e,"on")},detachEvents:function(){wl(this,"off")}},breakpoints:Tl,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:s}=i;if(s){const t=e.slides.length-1,i=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*s;e.isLocked=e.size>i}else e.isLocked=1===e.snapGrid.length;!0===i.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===i.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:i,rtl:s,el:n,device:r}=e,o=function(e,t){const i=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((s=>{e[s]&&i.push(t+s)})):"string"==typeof e&&i.push(t+e)})),i}(["initialized",i.direction,{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:s},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...o),n.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},Cl={};class kl{constructor(){let e,t;for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?t=s[0]:[e,t]=s,t||(t={}),t=Ia({},t),e&&!t.el&&(t.el=e);const r=ka();if(t.el&&"string"==typeof t.el&&r.querySelectorAll(t.el).length>1){const e=[];return r.querySelectorAll(t.el).forEach((i=>{const s=Ia({},t,{el:i});e.push(new kl(s))})),e}const o=this;o.__swiper__=!0,o.support=Xa(),o.device=Ka({userAgent:t.userAgent}),o.browser=Ja(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const a={};o.modules.forEach((e=>{e({params:t,swiper:o,extendParams:xl(t,a),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const l=Ia({},Sl,a);return o.params=Ia({},l,Cl,t),o.originalParams=Ia({},o.params),o.passedParams=Ia({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach((e=>{o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=Va(Ha(t,`.${i.slideClass}, swiper-slide`)[0]);return Va(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find((t=>1*t.getAttribute("data-swiper-slide-index")===e)))}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=Ha(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),n=(i.maxTranslate()-s)*e+s;i.translateTo(n,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((i=>{const s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:i,slides:s,slidesGrid:n,slidesSizesGrid:r,size:o,activeIndex:a}=this;let l=1;if("number"==typeof i.slidesPerView)return i.slidesPerView;if(i.centeredSlides){let e,t=s[a]?Math.ceil(s[a].swiperSlideSize):0;for(let i=a+1;i<s.length;i+=1)s[i]&&!e&&(t+=Math.ceil(s[i].swiperSlideSize),l+=1,t>o&&(e=!0));for(let i=a-1;i>=0;i-=1)s[i]&&!e&&(t+=s[i].swiperSlideSize,l+=1,t>o&&(e=!0))}else if("current"===e)for(let e=a+1;e<s.length;e+=1){(t?n[e]+r[e]-n[a]<o:n[e]-n[a]<o)&&(l+=1)}else for(let e=a-1;e>=0;e-=1){n[a]-n[e]<o&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function s(){const t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}let n;if(i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&il(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if(("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const t=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;n=e.slideTo(t.length-1,0,!1,!0)}else n=e.slideTo(e.activeIndex,0,!1,!0);n||s()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const i=this,s=i.params.direction;return e||(e="horizontal"===s?"vertical":"horizontal"),e===s||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let n=(()=>{if(i&&i.shadowRoot&&i.shadowRoot.querySelector){return i.shadowRoot.querySelector(s())}return Ha(i,s())[0]})();return!n&&t.params.createElements&&(n=qa("div",t.params.wrapperClass),i.append(n),Ha(i,`.${t.params.slideClass}`).forEach((e=>{n.append(e)}))),Object.assign(t,{el:i,wrapperEl:n,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:n,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===za(i,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===za(i,"direction")),wrongRTL:"-webkit-box"===za(n,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach((e=>{e.complete?il(t,e):e.addEventListener("load",(e=>{il(t,e.target)}))})),nl(t),t.initialized=!0,nl(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:s,el:n,wrapperEl:r,slides:o}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),n&&"string"!=typeof n&&n.removeAttribute("style"),r&&r.removeAttribute("style"),o&&o.length&&o.forEach((e=>{e.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((e=>{i.off(e)})),!1!==e&&(i.el&&"string"!=typeof i.el&&(i.el.swiper=null),function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(i)),i.destroyed=!0),null}static extendDefaults(e){Ia(Cl,e)}static get extendedDefaults(){return Cl}static get defaults(){return Sl}static installModule(e){kl.prototype.__modules__||(kl.prototype.__modules__=[]);const t=kl.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>kl.installModule(e))),kl):(kl.installModule(e),kl)}}function _l(e,t,i,s){return e.params.createElements&&Object.keys(s).forEach((n=>{if(!i[n]&&!0===i.auto){let r=Ha(e.el,`.${s[n]}`)[0];r||(r=qa("div",s[n]),r.className=s[n],e.el.append(r)),i[n]=r,t[n]=r}})),i}function Dl(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;function r(e){let i;return e&&"string"==typeof e&&t.isElement&&(i=t.el.querySelector(e)||t.hostEl.querySelector(e),i)?i:(e&&("string"==typeof e&&(i=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&i&&i.length>1&&1===t.el.querySelectorAll(e).length?i=t.el.querySelector(e):i&&1===i.length&&(i=i[0])),e&&!i?e:i)}function o(e,i){const s=t.params.navigation;(e=Wa(e)).forEach((e=>{e&&(e.classList[i?"add":"remove"](...s.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=i),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](s.lockClass))}))}function a(){const{nextEl:e,prevEl:i}=t.navigation;if(t.params.loop)return o(i,!1),void o(e,!1);o(i,t.isBeginning&&!t.params.rewind),o(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),n("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),n("navigationNext"))}function u(){const e=t.params.navigation;if(t.params.navigation=_l(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let i=r(e.nextEl),s=r(e.prevEl);Object.assign(t.navigation,{nextEl:i,prevEl:s}),i=Wa(i),s=Wa(s);const n=(i,s)=>{i&&i.addEventListener("click","next"===s?c:l),!t.enabled&&i&&i.classList.add(...e.lockClass.split(" "))};i.forEach((e=>n(e,"next"))),s.forEach((e=>n(e,"prev")))}function h(){let{nextEl:e,prevEl:i}=t.navigation;e=Wa(e),i=Wa(i);const s=(e,i)=>{e.removeEventListener("click","next"===i?c:l),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>s(e,"next"))),i.forEach((e=>s(e,"prev")))}i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},s("init",(()=>{!1===t.params.navigation.enabled?d():(u(),a())})),s("toEdge fromEdge lock unlock",(()=>{a()})),s("destroy",(()=>{h()})),s("enable disable",(()=>{let{nextEl:e,prevEl:i}=t.navigation;e=Wa(e),i=Wa(i),t.enabled?a():[...e,...i].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),s("click",((e,i)=>{let{nextEl:s,prevEl:r}=t.navigation;s=Wa(s),r=Wa(r);const o=i.target;let a=r.includes(o)||s.includes(o);if(t.isElement&&!a){const e=i.path||i.composedPath&&i.composedPath();e&&(a=e.find((e=>s.includes(e)||r.includes(e))))}if(t.params.navigation.hideOnClick&&!a){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===o||t.pagination.el.contains(o)))return;let e;s.length?e=s[0].classList.contains(t.params.navigation.hiddenClass):r.length&&(e=r[0].classList.contains(t.params.navigation.hiddenClass)),n(!0===e?"navigationShow":"navigationHide"),[...s,...r].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const d=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},disable:d,update:a,init:u,destroy:h})}function Pl(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Al(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;const r="swiper-pagination";let o;i({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,bullets:[]};let a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,i){const{bulletActiveClass:s}=t.params.pagination;e&&(e=e[("prev"===i?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${s}-${i}`),(e=e[("prev"===i?"previous":"next")+"ElementSibling"])&&e.classList.add(`${s}-${i}-${i}`))}function u(e){const i=e.target.closest(Pl(t.params.pagination.bulletClass));if(!i)return;e.preventDefault();const s=Va(i)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===s)return;const e=(n=t.realIndex,r=s,o=t.slides.length,(r%=o)==1+(n%=o)?"next":r===n-1?"previous":void 0);"next"===e?t.slideNext():"previous"===e?t.slidePrev():t.slideToLoop(s)}else t.slideTo(s);var n,r,o}function h(){const e=t.rtl,i=t.params.pagination;if(l())return;let s,r,u=t.pagination.el;u=Wa(u);const h=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,d=t.params.loop?Math.ceil(h/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(r=t.previousRealIndex||0,s=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(s=t.snapIndex,r=t.previousSnapIndex):(r=t.previousIndex||0,s=t.activeIndex||0),"bullets"===i.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const n=t.pagination.bullets;let l,h,d;if(i.dynamicBullets&&(o=Ga(n[0],t.isHorizontal()?"width":"height"),u.forEach((e=>{e.style[t.isHorizontal()?"width":"height"]=o*(i.dynamicMainBullets+4)+"px"})),i.dynamicMainBullets>1&&void 0!==r&&(a+=s-(r||0),a>i.dynamicMainBullets-1?a=i.dynamicMainBullets-1:a<0&&(a=0)),l=Math.max(s-a,0),h=l+(Math.min(n.length,i.dynamicMainBullets)-1),d=(h+l)/2),n.forEach((e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${i.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...t)})),u.length>1)n.forEach((e=>{const n=Va(e);n===s?e.classList.add(...i.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),i.dynamicBullets&&(n>=l&&n<=h&&e.classList.add(...`${i.bulletActiveClass}-main`.split(" ")),n===l&&c(e,"prev"),n===h&&c(e,"next"))}));else{const e=n[s];if(e&&e.classList.add(...i.bulletActiveClass.split(" ")),t.isElement&&n.forEach(((e,t)=>{e.setAttribute("part",t===s?"bullet-active":"bullet")})),i.dynamicBullets){const e=n[l],t=n[h];for(let e=l;e<=h;e+=1)n[e]&&n[e].classList.add(...`${i.bulletActiveClass}-main`.split(" "));c(e,"prev"),c(t,"next")}}if(i.dynamicBullets){const s=Math.min(n.length,i.dynamicMainBullets+4),r=(o*s-o)/2-d*o,a=e?"right":"left";n.forEach((e=>{e.style[t.isHorizontal()?a:"top"]=`${r}px`}))}}u.forEach(((e,r)=>{if("fraction"===i.type&&(e.querySelectorAll(Pl(i.currentClass)).forEach((e=>{e.textContent=i.formatFractionCurrent(s+1)})),e.querySelectorAll(Pl(i.totalClass)).forEach((e=>{e.textContent=i.formatFractionTotal(d)}))),"progressbar"===i.type){let n;n=i.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const r=(s+1)/d;let o=1,a=1;"horizontal"===n?o=r:a=r,e.querySelectorAll(Pl(i.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${o}) scaleY(${a})`,e.style.transitionDuration=`${t.params.speed}ms`}))}"custom"===i.type&&i.renderCustom?(e.innerHTML=i.renderCustom(t,s+1,d),0===r&&n("paginationRender",e)):(0===r&&n("paginationRender",e),n("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](i.lockClass)}))}function d(){const e=t.params.pagination;if(l())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let s=t.pagination.el;s=Wa(s);let r="";if("bullets"===e.type){let s=t.params.loop?Math.ceil(i/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&s>i&&(s=i);for(let i=0;i<s;i+=1)e.renderBullet?r+=e.renderBullet.call(t,i,e.bulletClass):r+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],s.forEach((i=>{"custom"!==e.type&&(i.innerHTML=r||""),"bullets"===e.type&&t.pagination.bullets.push(...i.querySelectorAll(Pl(e.bulletClass)))})),"custom"!==e.type&&n("paginationRender",s[0])}function p(){t.params.pagination=_l(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let i;"string"==typeof e.el&&t.isElement&&(i=t.el.querySelector(e.el)),i||"string"!=typeof e.el||(i=[...document.querySelectorAll(e.el)]),i||(i=e.el),i&&0!==i.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(i)&&i.length>1&&(i=[...t.el.querySelectorAll(e.el)],i.length>1&&(i=i.find((e=>ja(e,".swiper")[0]===t.el)))),Array.isArray(i)&&1===i.length&&(i=i[0]),Object.assign(t.pagination,{el:i}),i=Wa(i),i.forEach((i=>{"bullets"===e.type&&e.clickable&&i.classList.add(...(e.clickableClass||"").split(" ")),i.classList.add(e.modifierClass+e.type),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(i.classList.add(`${e.modifierClass}${e.type}-dynamic`),a=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&i.classList.add(e.progressbarOppositeClass),e.clickable&&i.addEventListener("click",u),t.enabled||i.classList.add(e.lockClass)})))}function m(){const e=t.params.pagination;if(l())return;let i=t.pagination.el;i&&(i=Wa(i),i.forEach((i=>{i.classList.remove(e.hiddenClass),i.classList.remove(e.modifierClass+e.type),i.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(i.classList.remove(...(e.clickableClass||"").split(" ")),i.removeEventListener("click",u))}))),t.pagination.bullets&&t.pagination.bullets.forEach((t=>t.classList.remove(...e.bulletActiveClass.split(" "))))}s("changeDirection",(()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:i}=t.pagination;i=Wa(i),i.forEach((i=>{i.classList.remove(e.horizontalClass,e.verticalClass),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),s("init",(()=>{!1===t.params.pagination.enabled?g():(p(),d(),h())})),s("activeIndexChange",(()=>{void 0===t.snapIndex&&h()})),s("snapIndexChange",(()=>{h()})),s("snapGridLengthChange",(()=>{d(),h()})),s("destroy",(()=>{m()})),s("enable disable",(()=>{let{el:e}=t.pagination;e&&(e=Wa(e),e.forEach((e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass))))})),s("lock unlock",(()=>{h()})),s("click",((e,i)=>{const s=i.target,r=Wa(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&r&&r.length>0&&!s.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&s===t.navigation.nextEl||t.navigation.prevEl&&s===t.navigation.prevEl))return;const e=r[0].classList.contains(t.params.pagination.hiddenClass);n(!0===e?"paginationShow":"paginationHide"),r.forEach((e=>e.classList.toggle(t.params.pagination.hiddenClass)))}}));const g=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=Wa(e),e.forEach((e=>e.classList.add(t.params.pagination.paginationDisabledClass)))),m()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=Wa(e),e.forEach((e=>e.classList.remove(t.params.pagination.paginationDisabledClass)))),p(),d(),h()},disable:g,render:d,update:h,init:p,destroy:m})}function Ml(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;const r=ka();let o,a,l,c,u=!1,h=null,d=null;function p(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:i}=t,{dragEl:s,el:n}=e,r=t.params.scrollbar,o=t.params.loop?t.progressLoop:t.progress;let c=a,u=(l-a)*o;i?(u=-u,u>0?(c=a-u,u=0):-u+a>l&&(c=l+u)):u<0?(c=a+u,u=0):u+a>l&&(c=l-u),t.isHorizontal()?(s.style.transform=`translate3d(${u}px, 0, 0)`,s.style.width=`${c}px`):(s.style.transform=`translate3d(0px, ${u}px, 0)`,s.style.height=`${c}px`),r.hide&&(clearTimeout(h),n.style.opacity=1,h=setTimeout((()=>{n.style.opacity=0,n.style.transitionDuration="400ms"}),1e3))}function m(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{dragEl:i,el:s}=e;i.style.width="",i.style.height="",l=t.isHorizontal()?s.offsetWidth:s.offsetHeight,c=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),a="auto"===t.params.scrollbar.dragSize?l*c:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?i.style.width=`${a}px`:i.style.height=`${a}px`,s.style.display=c>=1?"none":"",t.params.scrollbar.hide&&(s.style.opacity=0),t.params.watchOverflow&&t.enabled&&e.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function g(e){return t.isHorizontal()?e.clientX:e.clientY}function f(e){const{scrollbar:i,rtlTranslate:s}=t,{el:n}=i;let r;r=(g(e)-function(e){const t=Da(),i=ka(),s=e.getBoundingClientRect(),n=i.body,r=e.clientTop||n.clientTop||0,o=e.clientLeft||n.clientLeft||0,a=e===t?t.scrollY:e.scrollTop,l=e===t?t.scrollX:e.scrollLeft;return{top:s.top+a-r,left:s.left+l-o}}(n)[t.isHorizontal()?"left":"top"]-(null!==o?o:a/2))/(l-a),r=Math.max(Math.min(r,1),0),s&&(r=1-r);const c=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*r;t.updateProgress(c),t.setTranslate(c),t.updateActiveIndex(),t.updateSlidesClasses()}function v(e){const i=t.params.scrollbar,{scrollbar:s,wrapperEl:r}=t,{el:a,dragEl:l}=s;u=!0,o=e.target===l?g(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),r.style.transitionDuration="100ms",l.style.transitionDuration="100ms",f(e),clearTimeout(d),a.style.transitionDuration="0ms",i.hide&&(a.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),n("scrollbarDragStart",e)}function y(e){const{scrollbar:i,wrapperEl:s}=t,{el:r,dragEl:o}=i;u&&(e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1,f(e),s.style.transitionDuration="0ms",r.style.transitionDuration="0ms",o.style.transitionDuration="0ms",n("scrollbarDragMove",e))}function w(e){const i=t.params.scrollbar,{scrollbar:s,wrapperEl:r}=t,{el:o}=s;u&&(u=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",r.style.transitionDuration=""),i.hide&&(clearTimeout(d),d=Aa((()=>{o.style.opacity=0,o.style.transitionDuration="400ms"}),1e3)),n("scrollbarDragEnd",e),i.snapOnRelease&&t.slideToClosest())}function b(e){const{scrollbar:i,params:s}=t,n=i.el;if(!n)return;const o=n,a=!!s.passiveListeners&&{passive:!1,capture:!1},l=!!s.passiveListeners&&{passive:!0,capture:!1};if(!o)return;const c="on"===e?"addEventListener":"removeEventListener";o[c]("pointerdown",v,a),r[c]("pointermove",y,a),r[c]("pointerup",w,l)}function T(){const{scrollbar:e,el:i}=t;t.params.scrollbar=_l(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const s=t.params.scrollbar;if(!s.el)return;let n,o;if("string"==typeof s.el&&t.isElement&&(n=t.el.querySelector(s.el)),n||"string"!=typeof s.el)n||(n=s.el);else if(n=r.querySelectorAll(s.el),!n.length)return;t.params.uniqueNavElements&&"string"==typeof s.el&&n.length>1&&1===i.querySelectorAll(s.el).length&&(n=i.querySelector(s.el)),n.length>0&&(n=n[0]),n.classList.add(t.isHorizontal()?s.horizontalClass:s.verticalClass),n&&(o=n.querySelector(Pl(t.params.scrollbar.dragClass)),o||(o=qa("div",t.params.scrollbar.dragClass),n.append(o))),Object.assign(e,{el:n,dragEl:o}),s.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&b("on"),n&&n.classList[t.enabled?"remove":"add"](...Pa(t.params.scrollbar.lockClass))}function S(){const e=t.params.scrollbar,i=t.scrollbar.el;i&&i.classList.remove(...Pa(t.isHorizontal()?e.horizontalClass:e.verticalClass)),t.params.scrollbar.el&&t.scrollbar.el&&b("off")}i({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},s("changeDirection",(()=>{if(!t.scrollbar||!t.scrollbar.el)return;const e=t.params.scrollbar;let{el:i}=t.scrollbar;i=Wa(i),i.forEach((i=>{i.classList.remove(e.horizontalClass,e.verticalClass),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),s("init",(()=>{!1===t.params.scrollbar.enabled?x():(T(),m(),p())})),s("update resize observerUpdate lock unlock changeDirection",(()=>{m()})),s("setTranslate",(()=>{p()})),s("setTransition",((e,i)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&(t.scrollbar.dragEl.style.transitionDuration=`${e}ms`)}(i)})),s("enable disable",(()=>{const{el:e}=t.scrollbar;e&&e.classList[t.enabled?"remove":"add"](...Pa(t.params.scrollbar.lockClass))})),s("destroy",(()=>{S()}));const x=()=>{t.el.classList.add(...Pa(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...Pa(t.params.scrollbar.scrollbarDisabledClass)),S()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(...Pa(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...Pa(t.params.scrollbar.scrollbarDisabledClass)),T(),m(),p()},disable:x,updateSize:m,setTranslate:p,init:T,destroy:S})}function Ll(e){let{swiper:t,extendParams:i,on:s}=e;function n(e,t){const i=function(){let e,t,i;return(s,n)=>{for(t=-1,e=s.length;e-t>1;)i=e+t>>1,s[i]<=n?t=i:e=i;return e}}();let s,n;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=i(this.x,e),s=n-1,(e-this.x[s])*(this.y[n]-this.y[s])/(this.x[n]-this.x[s])+this.y[s]):0},this}function r(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}i({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},s("beforeInit",(()=>{if("undefined"!=typeof window&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){("string"==typeof t.params.controller.control?[...document.querySelectorAll(t.params.controller.control)]:[t.params.controller.control]).forEach((e=>{if(t.controller.control||(t.controller.control=[]),e&&e.swiper)t.controller.control.push(e.swiper);else if(e){const i=`${t.params.eventsPrefix}init`,s=n=>{t.controller.control.push(n.detail[0]),t.update(),e.removeEventListener(i,s)};e.addEventListener(i,s)}}))}else t.controller.control=t.params.controller.control})),s("update",(()=>{r()})),s("resize",(()=>{r()})),s("observerUpdate",(()=>{r()})),s("setTranslate",((e,i,s)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTranslate(i,s)})),s("setTransition",((e,i,s)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTransition(i,s)})),Object.assign(t.controller,{setTranslate:function(e,i){const s=t.controller.control;let r,o;const a=t.constructor;function l(e){if(e.destroyed)return;const i=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(!function(e){t.controller.spline=t.params.loop?new n(t.slidesGrid,e.slidesGrid):new n(t.snapGrid,e.snapGrid)}(e),o=-t.controller.spline.interpolate(-i)),o&&"container"!==t.params.controller.by||(r=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),!Number.isNaN(r)&&Number.isFinite(r)||(r=1),o=(i-t.minTranslate())*r+e.minTranslate()),t.params.controller.inverse&&(o=e.maxTranslate()-o),e.updateProgress(o),e.setTranslate(o,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(s))for(let e=0;e<s.length;e+=1)s[e]!==i&&s[e]instanceof a&&l(s[e]);else s instanceof a&&i!==s&&l(s)},setTransition:function(e,i){const s=t.constructor,n=t.controller.control;let r;function o(i){i.destroyed||(i.setTransition(e,t),0!==e&&(i.transitionStart(),i.params.autoHeight&&Aa((()=>{i.updateAutoHeight()})),Ua(i.wrapperEl,(()=>{n&&i.transitionEnd()}))))}if(Array.isArray(n))for(r=0;r<n.length;r+=1)n[r]!==i&&n[r]instanceof s&&o(n[r]);else n instanceof s&&i!==n&&o(n)}})}function Rl(e){let{swiper:t,extendParams:i,on:s}=e;i({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),t.a11y={clicked:!1};let n,r,o=null,a=(new Date).getTime();function l(e){const t=o;0!==t.length&&(t.innerHTML="",t.innerHTML=e)}function c(e){(e=Wa(e)).forEach((e=>{e.setAttribute("tabIndex","0")}))}function u(e){(e=Wa(e)).forEach((e=>{e.setAttribute("tabIndex","-1")}))}function h(e,t){(e=Wa(e)).forEach((e=>{e.setAttribute("role",t)}))}function d(e,t){(e=Wa(e)).forEach((e=>{e.setAttribute("aria-roledescription",t)}))}function p(e,t){(e=Wa(e)).forEach((e=>{e.setAttribute("aria-label",t)}))}function m(e){(e=Wa(e)).forEach((e=>{e.setAttribute("aria-disabled",!0)}))}function g(e){(e=Wa(e)).forEach((e=>{e.setAttribute("aria-disabled",!1)}))}function f(e){if(13!==e.keyCode&&32!==e.keyCode)return;const i=t.params.a11y,s=e.target;if(!t.pagination||!t.pagination.el||s!==t.pagination.el&&!t.pagination.el.contains(e.target)||e.target.matches(Pl(t.params.pagination.bulletClass))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const e=Wa(t.navigation.prevEl);Wa(t.navigation.nextEl).includes(s)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?l(i.lastSlideMessage):l(i.nextSlideMessage)),e.includes(s)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?l(i.firstSlideMessage):l(i.prevSlideMessage))}t.pagination&&s.matches(Pl(t.params.pagination.bulletClass))&&s.click()}}function v(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function y(){return v()&&t.params.pagination.clickable}const w=(e,t,i)=>{c(e),"BUTTON"!==e.tagName&&(h(e,"button"),e.addEventListener("keydown",f)),p(e,i),function(e,t){(e=Wa(e)).forEach((e=>{e.setAttribute("aria-controls",t)}))}(e,t)},b=e=>{r&&r!==e.target&&!r.contains(e.target)&&(n=!0),t.a11y.clicked=!0},T=()=>{n=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.destroyed||(t.a11y.clicked=!1)}))}))},S=e=>{a=(new Date).getTime()},x=e=>{if(t.a11y.clicked||!t.params.a11y.scrollOnFocus)return;if((new Date).getTime()-a<100)return;const i=e.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!i||!t.slides.includes(i))return;r=i;const s=t.slides.indexOf(i)===t.activeIndex,o=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(i);s||o||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame((()=>{n||(t.params.loop?t.slideToLoop(parseInt(i.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(i),0),n=!1)})))},E=()=>{const e=t.params.a11y;e.itemRoleDescriptionMessage&&d(t.slides,e.itemRoleDescriptionMessage),e.slideRole&&h(t.slides,e.slideRole);const i=t.slides.length;e.slideLabelMessage&&t.slides.forEach(((s,n)=>{const r=t.params.loop?parseInt(s.getAttribute("data-swiper-slide-index"),10):n;p(s,e.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,i))}))},C=()=>{const e=t.params.a11y;t.el.append(o);const i=t.el;e.containerRoleDescriptionMessage&&d(i,e.containerRoleDescriptionMessage),e.containerMessage&&p(i,e.containerMessage),e.containerRole&&h(i,e.containerRole);const s=t.wrapperEl,n=e.id||s.getAttribute("id")||`swiper-wrapper-${r=16,"x".repeat(r).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;var r;const a=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";var l;l=n,Wa(s).forEach((e=>{e.setAttribute("id",l)})),function(e,t){(e=Wa(e)).forEach((e=>{e.setAttribute("aria-live",t)}))}(s,a),E();let{nextEl:c,prevEl:u}=t.navigation?t.navigation:{};if(c=Wa(c),u=Wa(u),c&&c.forEach((t=>w(t,n,e.nextSlideMessage))),u&&u.forEach((t=>w(t,n,e.prevSlideMessage))),y()){Wa(t.pagination.el).forEach((e=>{e.addEventListener("keydown",f)}))}ka().addEventListener("visibilitychange",S),t.el.addEventListener("focus",x,!0),t.el.addEventListener("focus",x,!0),t.el.addEventListener("pointerdown",b,!0),t.el.addEventListener("pointerup",T,!0)};s("beforeInit",(()=>{o=qa("span",t.params.a11y.notificationClass),o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true")})),s("afterInit",(()=>{t.params.a11y.enabled&&C()})),s("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{t.params.a11y.enabled&&E()})),s("fromEdge toEdge afterInit lock unlock",(()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:e,prevEl:i}=t.navigation;i&&(t.isBeginning?(m(i),u(i)):(g(i),c(i))),e&&(t.isEnd?(m(e),u(e)):(g(e),c(e)))}()})),s("paginationUpdate",(()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;v()&&t.pagination.bullets.forEach((i=>{t.params.pagination.clickable&&(c(i),t.params.pagination.renderBullet||(h(i,"button"),p(i,e.paginationBulletMessage.replace(/\{\{index\}\}/,Va(i)+1)))),i.matches(Pl(t.params.pagination.bulletActiveClass))?i.setAttribute("aria-current","true"):i.removeAttribute("aria-current")}))}()})),s("destroy",(()=>{t.params.a11y.enabled&&function(){o&&o.remove();let{nextEl:e,prevEl:i}=t.navigation?t.navigation:{};e=Wa(e),i=Wa(i),e&&e.forEach((e=>e.removeEventListener("keydown",f))),i&&i.forEach((e=>e.removeEventListener("keydown",f))),y()&&Wa(t.pagination.el).forEach((e=>{e.removeEventListener("keydown",f)}));ka().removeEventListener("visibilitychange",S),t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("focus",x,!0),t.el.removeEventListener("pointerdown",b,!0),t.el.removeEventListener("pointerup",T,!0))}()}))}function Il(e){let{swiper:t,extendParams:i,on:s}=e;i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let n=!1,r=!1;function o(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const i=e.clickedIndex,s=e.clickedSlide;if(s&&s.classList.contains(t.params.thumbs.slideThumbActiveClass))return;if(null==i)return;let n;n=e.params.loop?parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10):i,t.params.loop?t.slideToLoop(n):t.slideTo(n)}function a(){const{thumbs:e}=t.params;if(n)return!1;n=!0;const i=t.constructor;if(e.swiper instanceof i)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(Ra(e.swiper)){const s=Object.assign({},e.swiper);Object.assign(s,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new i(s),r=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",o),!0}function l(e){const i=t.thumbs.swiper;if(!i||i.destroyed)return;const s="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView;let n=1;const r=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(n=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(n=1),n=Math.floor(n),i.slides.forEach((e=>e.classList.remove(r))),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let e=0;e<n;e+=1)Ha(i.slidesEl,`[data-swiper-slide-index="${t.realIndex+e}"]`).forEach((e=>{e.classList.add(r)}));else for(let e=0;e<n;e+=1)i.slides[t.realIndex+e]&&i.slides[t.realIndex+e].classList.add(r);const o=t.params.thumbs.autoScrollOffset,a=o&&!i.params.loop;if(t.realIndex!==i.realIndex||a){const n=i.activeIndex;let r,l;if(i.params.loop){const e=i.slides.find((e=>e.getAttribute("data-swiper-slide-index")===`${t.realIndex}`));r=i.slides.indexOf(e),l=t.activeIndex>t.previousIndex?"next":"prev"}else r=t.realIndex,l=r>t.previousIndex?"next":"prev";a&&(r+="next"===l?o:-1*o),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(r)<0&&(i.params.centeredSlides?r=r>n?r-Math.floor(s/2)+1:r+Math.floor(s/2)-1:r>n&&i.params.slidesPerGroup,i.slideTo(r,e?0:void 0))}}t.thumbs={swiper:null},s("beforeInit",(()=>{const{thumbs:e}=t.params;if(e&&e.swiper)if("string"==typeof e.swiper||e.swiper instanceof HTMLElement){const i=ka(),s=()=>{const s="string"==typeof e.swiper?i.querySelector(e.swiper):e.swiper;if(s&&s.swiper)e.swiper=s.swiper,a(),l(!0);else if(s){const i=`${t.params.eventsPrefix}init`,n=r=>{e.swiper=r.detail[0],s.removeEventListener(i,n),a(),l(!0),e.swiper.update(),t.update()};s.addEventListener(i,n)}return s},n=()=>{if(t.destroyed)return;s()||requestAnimationFrame(n)};requestAnimationFrame(n)}else a(),l(!0)})),s("slideChange update resize observerUpdate",(()=>{l()})),s("setTransition",((e,i)=>{const s=t.thumbs.swiper;s&&!s.destroyed&&s.setTransition(i)})),s("beforeDestroy",(()=>{const e=t.thumbs.swiper;e&&!e.destroyed&&r&&e.destroy()})),Object.assign(t.thumbs,{init:a,update:l})}function Ol(e,t){const i=Ba(t);return i!==t&&(i.style.backfaceVisibility="hidden",i.style["-webkit-backface-visibility"]="hidden"),i}function Nl(e){let{swiper:t,duration:i,transformElements:s,allSlides:n}=e;const{activeIndex:r}=t;if(t.params.virtualTranslate&&0!==i){let e,i=!1;e=n?s:s.filter((e=>{const i=e.classList.contains("swiper-slide-transform")?(e=>{if(!e.parentElement)return t.slides.find((t=>t.shadowRoot&&t.shadowRoot===e.parentNode));return e.parentElement})(e):e;return t.getSlideIndex(i)===r})),e.forEach((e=>{Ua(e,(()=>{if(i)return;if(!t||t.destroyed)return;i=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)}))}))}}function Bl(e,t,i){const s=`swiper-slide-shadow swiper-slide-shadow-${e}`,n=Ba(t);let r=n.querySelector(`.${s.split(" ").join(".")}`);return r||(r=qa("div",s.split(" ")),n.append(r)),r}function Hl(e){let{swiper:t,extendParams:i,on:s}=e;i({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const n=e=>"string"==typeof e?e:`${e}px`;!function(e){const{effect:t,swiper:i,on:s,setTranslate:n,setTransition:r,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=e;let u;s("beforeInit",(()=>{if(i.params.effect!==t)return;i.classNames.push(`${i.params.containerModifierClass}${t}`),a&&a()&&i.classNames.push(`${i.params.containerModifierClass}3d`);const e=o?o():{};Object.assign(i.params,e),Object.assign(i.originalParams,e)})),s("setTranslate",(()=>{i.params.effect===t&&n()})),s("setTransition",((e,s)=>{i.params.effect===t&&r(s)})),s("transitionEnd",(()=>{if(i.params.effect===t&&l){if(!c||!c().slideShadows)return;i.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),l()}})),s("virtualUpdate",(()=>{i.params.effect===t&&(i.slides.length||(u=!0),requestAnimationFrame((()=>{u&&i.slides&&i.slides.length&&(n(),u=!1)})))}))}({effect:"creative",swiper:t,on:s,setTranslate:()=>{const{slides:e,wrapperEl:i,slidesSizesGrid:s}=t,r=t.params.creativeEffect,{progressMultiplier:o}=r,a=t.params.centeredSlides,l=function(e){return t=>Math.abs(t)>0&&e.browser&&e.browser.need3dFix&&Math.abs(t)%90==0?t+.001:t}(t);if(a){const e=s[0]/2-t.params.slidesOffsetBefore||0;i.style.transform=`translateX(calc(50% - ${e}px))`}for(let i=0;i<e.length;i+=1){const s=e[i],c=s.progress,u=Math.min(Math.max(s.progress,-r.limitProgress),r.limitProgress);let h=u;a||(h=Math.min(Math.max(s.originalProgress,-r.limitProgress),r.limitProgress));const d=s.swiperSlideOffset,p=[t.params.cssMode?-d-t.translate:-d,0,0],m=[0,0,0];let g=!1;t.isHorizontal()||(p[1]=p[0],p[0]=0);let f={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};u<0?(f=r.next,g=!0):u>0&&(f=r.prev,g=!0),p.forEach(((e,t)=>{p[t]=`calc(${e}px + (${n(f.translate[t])} * ${Math.abs(u*o)}))`})),m.forEach(((e,t)=>{let i=f.rotate[t]*Math.abs(u*o);m[t]=i})),s.style.zIndex=-Math.abs(Math.round(c))+e.length;const v=p.join(", "),y=`rotateX(${l(m[0])}deg) rotateY(${l(m[1])}deg) rotateZ(${l(m[2])}deg)`,w=h<0?`scale(${1+(1-f.scale)*h*o})`:`scale(${1-(1-f.scale)*h*o})`,b=h<0?1+(1-f.opacity)*h*o:1-(1-f.opacity)*h*o,T=`translate3d(${v}) ${y} ${w}`;if(g&&f.shadow||!g){let e=s.querySelector(".swiper-slide-shadow");if(!e&&f.shadow&&(e=Bl("creative",s)),e){const t=r.shadowPerProgress?u*(1/r.limitProgress):u;e.style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const S=Ol(0,s);S.style.transform=T,S.style.opacity=b,f.origin&&(S.style.transformOrigin=f.origin)}},setTransition:e=>{const i=t.slides.map((e=>Ba(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),Nl({swiper:t,duration:e,transformElements:i,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}function Fl(e){if(e?.visibleSlides&&e.visibleSlides.length===e.slides.length){e.el.querySelectorAll(".swiper-slide").forEach((e=>{e.removeAttribute("aria-hidden");e.querySelectorAll('a, button, input, select, textarea, [tabindex="0"]').forEach((e=>{e.removeAttribute("tabindex"),e.removeAttribute("aria-hidden")}))}))}else e.slides.forEach((e=>{e.classList.contains("swiper-slide-active")?(e.removeAttribute("aria-hidden"),e.setAttribute("aria-current",!0)):(e.setAttribute("aria-hidden",!0),e.removeAttribute("aria-current"));e.querySelectorAll('a, button, input, select, textarea, [tabindex="0"]').forEach((t=>{e.classList.contains("swiper-slide-active")?(t.removeAttribute("tabindex"),t.removeAttribute("aria-hidden")):(t.setAttribute("tabindex",-1),t.setAttribute("aria-hidden",!0))}))}))}function ql(e){e.slides.forEach((e=>{e.classList.contains("swiper-slide-thumb-active")?e.setAttribute("aria-current",!0):e.removeAttribute("aria-current")}))}function zl(e){e.slides.forEach((e=>{e.classList.contains("swiper-slide-active")?e.setAttribute("aria-atomic",!0):e.removeAttribute("aria-atomic")}))}Object.keys(El).forEach((e=>{Object.keys(El[e]).forEach((t=>{kl.prototype[t]=El[e][t]}))})),kl.use([function(e){let{swiper:t,on:i,emit:s}=e;const n=Da();let r=null,o=null;const a=()=>{t&&!t.destroyed&&t.initialized&&(s("beforeResize"),s("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&s("orientationchange")};i("init",(()=>{t.params.resizeObserver&&void 0!==n.ResizeObserver?t&&!t.destroyed&&t.initialized&&(r=new ResizeObserver((e=>{o=n.requestAnimationFrame((()=>{const{width:i,height:s}=t;let n=i,r=s;e.forEach((e=>{let{contentBoxSize:i,contentRect:s,target:o}=e;o&&o!==t.el||(n=s?s.width:(i[0]||i).inlineSize,r=s?s.height:(i[0]||i).blockSize)})),n===i&&r===s||a()}))})),r.observe(t.el)):(n.addEventListener("resize",a),n.addEventListener("orientationchange",l))})),i("destroy",(()=>{o&&n.cancelAnimationFrame(o),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null),n.removeEventListener("resize",a),n.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;const r=[],o=Da(),a=function(e,i){void 0===i&&(i={});const s=new(o.MutationObserver||o.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void n("observerUpdate",e[0]);const i=function(){n("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(i):o.setTimeout(i,0)}));s.observe(e,{attributes:void 0===i.attributes||i.attributes,childList:t.isElement||(void 0===i.childList||i).childList,characterData:void 0===i.characterData||i.characterData}),r.push(s)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=ja(t.hostEl);for(let t=0;t<e.length;t+=1)a(e[t])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}})),s("destroy",(()=>{r.forEach((e=>{e.disconnect()})),r.splice(0,r.length)}))}]);class Vl{#je;#Ue;constructor(e){this.#Ue=e.querySelector('[data-part="carousel"]');const t=e.querySelector(".swiper-slide:last-of-type"),i=e.querySelector(".c-media-carousel__fraction"),s=e.querySelector(".c-media-carousel__next"),n=e.querySelector(".c-media-carousel__prev");t&&(this.#je=new kl(this.#Ue,{modules:[Al,Rl,Dl],on:{slideChange:function(e){Fl(e)},transitionEnd:function(e){Fl(e)},init:function(e){Fl(e)},reachEnd:function(){this.snapGrid=[...this.slidesGrid]},snapGridLengthChange:function(){this.snapGrid.length!=this.slidesGrid.length&&(this.snapGrid=this.slidesGrid.slice(0))}},speed:400,spaceBetween:20,slidesPerView:"auto",slidesPerGroup:1,slidesOffsetAfter:this.#Ue.clientWidth-t.clientWidth,watchSlidesProgress:!0,init:!1,keyboard:{enabled:!0},navigation:{nextEl:s,prevEl:n},pagination:{type:"custom",el:i,renderCustom:function(e,t){return`${t} of ${e.slides.length}`}},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide"}}),this.#je.init(),this.#je.snapGrid=[...this.#je.slidesGrid])}}class jl{constructor(e){this.wrapper=e,this.primarySliderEl=e.querySelector(".js-artwork-primary-slider"),this.carouselSliderEl=e.querySelector(".js-artwork-carousel-slider"),this.prevEl=e.querySelector(".js-artwork-prev"),this.nextEl=e.querySelector(".js-artwork-next"),this.scrollbarEl=e.querySelector(".js-artwork-slider-scrollbar"),this.zoomButton=e.querySelector(".js-zoom-button"),this.embed3dButton=e.querySelector(".js-embed-3d-button"),this.downloadButton=e.querySelector(".js-download-link"),this.vdButton=e.querySelector(".js-vd-button"),this.init()}init(){const e=new kl(".js-artwork-carousel-slider",{modules:[Ml,Il],slidesPerView:"auto",spaceBetween:20,watchSlidesProgress:!0,slideToClickedSlide:!0,scrollbar:{el:this.scrollbarEl,draggable:!0}}),t=new kl(".js-artwork-primary-slider",{modules:[Dl,Il],spaceBetween:20,slidesPerView:1,init:!1,thumbs:{swiper:e},navigation:{nextEl:this.nextEl,prevEl:this.prevEl}});var i,s;s=t,(i=e).slides.forEach((e=>{e.addEventListener("keydown",(e=>{if(13!==e.keyCode&&32!==e.keyCode)return;let t=e.target.dataset.slideIndex;t&&(i.slideTo(t-1),s.slideTo(t-1))}))})),t.on("afterInit",(e=>{const t=new Event("artwork-slider-initialized");window.dispatchEvent(t),this.handleSlide(e)})),t.on("init",(()=>{Fl(t),ql(e)})),t.on("slideChange",(i=>{this.handleSlide(i),Fl(t),zl(t),ql(e)})),t.on("transitionEnd",(()=>{Fl(t),zl(t),ql(e)})),t.init()}handleSlide(e){const t=e.slides[e.activeIndex];if(document.getElementById("js-slide-current").innerHTML=e.activeIndex+1,this.zoomButton){const e=t.getAttribute("data-zoom-modal");"false"==e?(this.zoomButton.disabled=!0,this.zoomButton.setAttribute("data-modalid","")):(this.zoomButton.disabled=!1,this.zoomButton.setAttribute("data-modalid",e))}if(this.vdButton){const e=t.getAttribute("data-vd-modal");"false"==e?(this.vdButton.disabled=!0,this.vdButton.setAttribute("data-modalid","")):(this.vdButton.disabled=!1,this.vdButton.setAttribute("data-modalid",e))}if(this.downloadButton){const e=t.getAttribute("data-download-url");"false"==e?(this.downloadButton.classList.add("is-disabled"),this.downloadButton.href=""):(this.downloadButton.classList.remove("is-disabled"),this.downloadButton.href=e)}}}class Ul{constructor(e){this.el=e,this.checkSticky(),window.addEventListener("load",(()=>{this.checkSticky()})),window.addEventListener("artwork-slider-initialized",(()=>{this.checkSticky()})),window.addEventListener("resize",(()=>{this.checkSticky()}))}checkSticky(){this.el.offsetHeight<=window.innerHeight?this.el.classList.add("is-sticky"):this.el.classList.remove("is-sticky")}}class Gl{constructor(e){const t=e.querySelector('[data-part="image-carousel"]'),i=e.querySelector('[data-part="description-carousel"]'),s=e.querySelector(".c-image-description-carousel__fraction"),n=e.querySelector(".c-image-description-carousel__next"),r=e.querySelector(".c-image-description-carousel__prev"),o=new kl(i,{modules:[Rl,Hl],speed:400,spaceBetween:0,slidesPerView:1,slidesPerGroup:1,enabled:!1,effect:"creative",creativeEffect:{prev:{translate:[0,"-10%",0],opacity:0},next:{translate:[0,"10%",0],opacity:0}},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide"},init:!1}),a=new kl(t,{modules:[Dl,Al,Rl,Ll],speed:400,spaceBetween:24,slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,slideToClickedSlide:!0,navigation:{nextEl:n,prevEl:r},pagination:{type:"custom",el:s,renderCustom:function(e,t,i){return`${t} of ${i}`}},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide"},init:!1});o.on("transitionEnd",(function(){Fl(o)})),o.init(),a.on("slideChange",(e=>{o.enable(),o.slideTo(e.realIndex),o.disable(),Fl(a)})),a.on("transitionEnd",(function(){Fl(a)})),a.init()}}function Wl(){document.querySelectorAll(".js-breadcrumb").forEach((e=>{const t=e.querySelector(".c-breadcrumb--expand-button");null!=t&&t.addEventListener("click",(t=>{const i=e.querySelectorAll(".c-breadcrumb__item--hidden");i.forEach((e=>{e.classList.remove("c-breadcrumb__item--hidden")})),t.target.parentElement.classList.add("c-breadcrumb__item--hidden"),i.length>0&&i[0].querySelector("a").focus()}))}))}!function(e,t){t.behaviors.nga_media_carousels={attach:function(){once("media-carousel",".js-media-carousel").forEach((function(e){new Vl(e)})),once("artwork-media-slider",".js-artwork-media-slider").forEach((function(e){new jl(e)})),once("image-description-carousel",".js-image-description-carousel").forEach((function(e){new Gl(e)})),once("media-item",".js-artwork-detail-media").forEach((function(e){new Ul(e)}))}}}(jQuery,Drupal,once),function(e,t,i,s){t.behaviors.nga_breadcrumb={attach:function(e){Wl()}}}(jQuery,Drupal,once);const Yl=e=>{let t=`${e.title}`,i=!1;return"Artist"===e.type?i=`${e.title}<br><span class="o-combobox__result-subtitle f-text--text-m">${e.constituent_type}</span>`:"Artwork"===e.type?i=`${e.title}<br><span class="o-combobox__result-subtitle f-text--text-m">${e.artist_name}</span>`:e?.constituent_type&&(i=`${e.title}<br><span class="o-combobox__result-subtitle f-text--text-m">${e.constituent_type}</span>`),{title:t,content:i,id:e.nid}};class $l{#Ge;#We;#Y;#w;#Ye;#$e;#Ze;#Xe;#Ke;#Je;#Qe;#et;#tt;#it;#st;#nt;#rt;#ot;constructor(){this.#Ge={},this.#We={}}init(e,t={}){t?.endpoint||console.error("NO ENDPOINT SET IN `options`"),t?.param||console.error("NO PARAM SET IN `options`");const i={idPrefix:"",preselect:[],endpoint:"",param:"keywords",paramValuePrefix:!1,minLength:3,resultItemClass:"result-item",resultTextKey:"title",resultIdKey:"nid",prepareJsonResults:!1,handleSuggestionValues:this.defaultHandleSuggestionAPIResultValues.bind(this),multiSelect:!0};this.#We={...i,...t},this.#Y=e,this.#w=e.querySelector(".js-combobox-input"),this.#Ye=e.querySelector(".js-combobox-suggestions"),this.#$e=e.querySelector(".js-combobox-loader"),this.#Xe=e.querySelector(".js-combobox-no-results-text").textContent,this.#Ze=e.querySelector(".js-combobox-no-input-text").textContent,this.#Ke=e.querySelector(".js-combobox-no-available"),this.#Je=e.querySelector(".js-combobox-form-group"),this.#Qe=e.querySelector(".js-combobox-clear"),this.#rt=this.#We.endpoint,this.#st=this.#We.resultTextKey,this.#nt=this.#We.resultIdKey,this.#et="is-active",this.#tt=this.#We.resultItemClass,this.#it="has-combobox-value",this.#ot=this.#Y.querySelector('button[type="submit"]'),this.#We.handleSuggestionValues&&"function"==typeof this.#We.handleSuggestionValues||(this.#We.handleSuggestionValues=this.defaultHandleSuggestionAPIResultValues.bind(this)),this.activeData={param:this.#We.param,permaParams:this.#We?.permaParams,paramValuePrefix:this.#We?.permaValuePrefix,resultNameKey:this.#st,resultIdKey:this.#nt,selectedValues:[],resultValues:[],jsonResult:{}},this.#at(!0),this.#We?.preselect&&this.#We.preselect.length>0&&this.#lt(),this.#Ye.addEventListener("keydown",(e=>{this.#ct(e)})),this.#w.addEventListener("keydown",(e=>{this.#ut(e)})),this.#w.addEventListener("focus",(()=>{this.#ht()})),this.#w.addEventListener("click",(()=>{this.#ht(),this.#dt()})),this.#Je.addEventListener("focusout",(e=>{this.#Y.contains(e.relatedTarget)||this.#pt()})),this.#w.addEventListener("input",((e,t)=>{let i=null;return function(...s){clearTimeout(i),i=setTimeout((()=>e.apply(this,s)),t)}})((()=>{this.#dt()}),750)),this.#Qe&&this.#Qe.addEventListener("click",(()=>{this.#pt(),this.#mt()})),this.#ot&&this.#ot.addEventListener("click",(()=>{this.#pt()}))}addEventListener(e,t){"function"==typeof t&&(void 0===this.#Ge[e]&&(this.#Ge[e]=[]),this.#Ge[e].push(t))}dispatchEvent(e,t){if(void 0===this.#Ge[e])return;const i=new CustomEvent(e,{detail:t});this.#Ge[e].forEach((e=>{e(i)}))}#lt(){this.#We.preselect.forEach((e=>{this.activeData.selectedValues.push({id:e.id,title:e.title})}))}#dt(){this.#gt(),0===this.#w.value.length?(this.#Y.classList.remove(this.#it),this.#at(!0)):(this.#Y.classList.add(this.#it),this.#w.value.length>=this.#We.minLength?this.#ft():this.#at(!0))}async#ft(){this.#vt();let e=this.#rt,t=this.#w.value.normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=`${this.#We.paramValuePrefix?this.#We.paramValuePrefix:""}${t}`;if(e.includes(this.#We.param)){let t=new RegExp(String.raw`[?&]${this.#We.param})=[^?&]+`,"g");e.replace(t,i)}else e=e.includes("?")?`${e}&${this.#We.param}=${i}`:`${e}?${this.#We.param}=${i}`;this.#We.permaParams&&(e.includes(this.#We.permaParams)||(e=`${e}${this.#We.permaParams}`));const s=await fetch(e);if(!s.ok)return this.#at(),this.#yt(),void console.error({request:s});this.results=await s.json();let n=!1;if(this.#We.prepareJsonResults&&"function"==typeof this.#We.prepareJsonResults){const e=this.#We.prepareJsonResults(this.results);this.results=e.results,n=!!e?.noneAvailable&&e.noneAvailable}0===this.results.length?this.#at(!1,n):this.#wt()}#ht(){this.#Y.classList.add(this.#et)}#pt(){this.#gt(),this.#Y.classList.remove(this.#et)}#bt(){return this.#Y.classList.contains(this.#et)}#vt(){this.#$e.hidden=!1,this.#Ye.classList.add("is-loading")}#yt(){this.#$e.hidden=!0,this.#Ye.classList.remove("is-loading")}#at(e=!1,t=!1){this.#Ye.innerHTML="";const i=document.createElement("li");t&&this.#Ke?i.textContent=this.#Ke.textContent:i.textContent=e?this.#Ze:this.#Xe,i.classList.add(this.#tt),i.classList.add("is-no-results"),this.#Ye.appendChild(i),this.#Y.classList.remove(this.#it),this.#yt()}#wt(){this.#Ye.innerHTML="",this.activeData.resultValues=[];let e=this.results,t=[];e.forEach((e=>{t.push({itemContent:this.#We.handleSuggestionValues(e),result:e})})),this.#We.alterResultValues&&"function"==typeof this.#We.alterResultValues&&(t=this.#We.alterResultValues(t)),t.forEach((e=>{this.#Tt(e.itemContent,e.result)})),this.#St(),this.#yt()}defaultHandleSuggestionAPIResultValues(e){return{title:e[this.#st],id:`${this.#We.idPrefix}${e[this.#nt]}`}}#Tt(e,t){const i=e?.uid||t[this.#nt];this.#xt(e,t,i);const s=this.activeData.selectedValues.filter((e=>e.id===i)),n=document.createElement("li");n.classList.add(this.#tt),n.setAttribute("id",`${e.id}`),n.setAttribute("data-resultid",`${i}`),n.setAttribute("data-resultlabel",`${e.title}`),n.setAttribute("role","option"),n.setAttribute("tabindex","-1"),n.innerHTML=e?.content||e.title,s.length>0&&(n.setAttribute("aria-selected","true"),n.classList.add("is-selected")),this.#Ye.appendChild(n)}#xt(e,t,i){const s=this.#Et(e,t,i);this.activeData.resultValues.push(s)}#St(){this.#Ye.querySelectorAll('[role="option"]').forEach((e=>{e.addEventListener("click",(()=>{this.#Ct(e)}))}))}#Ct(e=!1){let t=e||document.activeElement;if(this.#Ye.contains(t)){if(t.hasAttribute("aria-selected")){t.setAttribute("aria-selected","false"),t.classList.remove("is-selected");const e=this.#kt(t);e&&this.dispatchEvent("removeResult",{item:e,data:this.activeData})}else{t.setAttribute("aria-selected","true"),t.classList.add("is-selected");const e=this.#_t(t);e&&this.dispatchEvent("addResult",{item:e,data:this.activeData})}this.#w.focus(),this.#pt()}}#Et(e,t,i){return{id:i,title:e.title,content:e,prefixedID:`${this.#We.idPrefix}${i}`,result:t}}#_t(e){const t=e.getAttribute("data-resultid");this.#We?.multiSelect||(this.activeData.selectedValues=[]);const i=this.activeData.resultValues.filter((e=>e.id===t)),s=this.activeData.selectedValues.filter((e=>e.id===t));return i.length>0&&s.length<=0&&(this.activeData.selectedValues.push(i[0]),i[0])}#kt(e){const t=e.getAttribute("data-resultid"),i=this.activeData.resultValues.filter((e=>e.id=t));return i.length>0&&(this.activeData.selectedValues=this.activeData.selectedValues.filter((e=>e.id!==t)),i[0])}remove(e){this.activeData.selectedValues=this.activeData.selectedValues.filter((t=>t.id!==e))}add({title:e,id:t}){this.activeData.selectedValues.push({id:t,title:e})}#mt(){this.dispatchEvent("clearResults",{removing:this.activeData.selectedValues,data:this.activeData}),this.#w.value="",this.#w.focus(),this.#at(!0),this.activeData.selectedValues=[],this.activeData.resultValues=[]}updateEndpoint(e){this.#rt=e}#Dt(){const e=this.#Ye.querySelector("li");this.#Pt(e.getAttribute("id")),e.focus()}#At(){const e=this.#Ye.querySelectorAll("li"),t=e[e.length-1];this.#Pt(t.getAttribute("id")),t.focus()}#Mt(){const e=document.activeElement;this.#Ye.contains(e)&&e.nextElementSibling?(e.nextElementSibling.focus(),this.#Pt(e.getAttribute("id"))):this.#Dt()}#Lt(){const e=document.activeElement;this.#Ye.contains(e)?e.previousElementSibling?(e.previousElementSibling.focus(),this.#Pt(e.getAttribute("id"))):this.#At():this.#Dt()}#Pt(e){this.#w.setAttribute("aria-activedescendant",e)}#gt(){this.#w.setAttribute("aria-activedescendant","")}#ut(e){switch(e.key){case"ArrowDown":e.preventDefault(),this.#Dt();break;case"ArrowUp":e.preventDefault(),this.#At();break;case"Enter":this.#pt();break;case"Escape":this.#bt()?(e.preventDefault(),this.#pt()):""!=this.#w.value&&(e.preventDefault(),this.#w.value="");break;default:this.#bt()||this.#ht()}}#ct(e){switch(e.key){case"Enter":this.#bt()&&(e.preventDefault(),this.#Ct(),this.#pt(),this.#w.focus());break;case"Escape":this.#bt()&&(e.preventDefault(),e.stopPropagation(),this.#pt(),this.#w.focus());break;case"ArrowDown":e.preventDefault(),this.#Mt();break;case"ArrowUp":e.preventDefault(),this.#Lt();break;case"ArrowLeft":case"ArrowRight":e.preventDefault(),this.#w.focus();break;case"Home":e.preventDefault(),this.#Dt();break;case"End":e.preventDefault(),this.#At();break;default:1==e.key.length||e.key.length>1&&/[^a-zA-Z0-9]/.test(e.key)?(this.#w.value=this.#w.value+e.key,this.#w.focus()):"Spacebar"==e.key&&(this.#w.value=this.#w.value+" ",this.#w.focus())}}}var Zl={exports:{}};!function(e,t){!function(i){var s=t,n=e&&e.exports==s&&e,r="object"==typeof ea&&ea;r.global!==r&&r.window!==r||(i=r);var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[\x01-\x7F]/g,l=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,u={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","\t":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr","":"ordf","":"aacute","":"Aacute","":"agrave","":"Agrave","":"abreve","":"Abreve","":"acirc","":"Acirc","":"aring","":"angst","":"auml","":"Auml","":"atilde","":"Atilde","":"aogon","":"Aogon","":"amacr","":"Amacr","":"aelig","":"AElig","":"bscr","":"bopf","":"bfr","":"Bopf","":"Bscr","":"Bfr","":"cfr","":"cscr","":"copf","":"Cfr","":"Cscr","":"Copf","":"cacute","":"Cacute","":"ccirc","":"Ccirc","":"ccaron","":"Ccaron","":"cdot","":"Cdot","":"ccedil","":"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf","":"dcaron","":"Dcaron","":"dstrok","":"Dstrok","":"eth","":"ETH","":"ee","":"escr","":"efr","":"eopf","":"Escr","":"Efr","":"Eopf","":"eacute","":"Eacute","":"egrave","":"Egrave","":"ecirc","":"Ecirc","":"ecaron","":"Ecaron","":"euml","":"Euml","":"edot","":"Edot","":"eogon","":"Eogon","":"emacr","":"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf","":"Fscr","":"fflig","":"ffilig","":"ffllig","":"filig",fj:"fjlig","":"fllig","":"fnof","":"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr","":"gacute","":"gbreve","":"Gbreve","":"gcirc","":"Gcirc","":"gdot","":"Gdot","":"Gcedil","":"hfr","":"planckh","":"hscr","":"hopf","":"Hscr","":"Hfr","":"Hopf","":"hcirc","":"Hcirc","":"hbar","":"hstrok","":"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf","":"Iscr","":"Im","":"iacute","":"Iacute","":"igrave","":"Igrave","":"icirc","":"Icirc","":"iuml","":"Iuml","":"itilde","":"Itilde","":"Idot","":"iogon","":"Iogon","":"imacr","":"Imacr","":"ijlig","":"IJlig","":"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf","":"jcirc","":"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr","":"kcedil","":"Kcedil","":"lfr","":"lscr","":"ell","":"lopf","":"Lscr","":"Lfr","":"Lopf","":"lacute","":"Lacute","":"lcaron","":"Lcaron","":"lcedil","":"Lcedil","":"lstrok","":"Lstrok","":"lmidot","":"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf","":"Mscr","":"nfr","":"nopf","":"nscr","":"Nopf","":"Nscr","":"Nfr","":"nacute","":"Nacute","":"ncaron","":"Ncaron","":"ntilde","":"Ntilde","":"ncedil","":"Ncedil","":"numero","":"eng","":"ENG","":"oopf","":"ofr","":"oscr","":"Oscr","":"Ofr","":"Oopf","":"ordm","":"oacute","":"Oacute","":"ograve","":"Ograve","":"ocirc","":"Ocirc","":"ouml","":"Ouml","":"odblac","":"Odblac","":"otilde","":"Otilde","":"oslash","":"Oslash","":"omacr","":"Omacr","":"oelig","":"OElig","":"pfr","":"pscr","":"popf","":"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr","":"Qopf","":"kgreen","":"rfr","":"ropf","":"rscr","":"Rscr","":"Re","":"Ropf","":"racute","":"Racute","":"rcaron","":"Rcaron","":"rcedil","":"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS","":"sacute","":"Sacute","":"scirc","":"Scirc","":"scaron","":"Scaron","":"scedil","":"Scedil","":"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf","":"tcaron","":"Tcaron","":"tcedil","":"Tcedil","":"trade","":"tstrok","":"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr","":"uacute","":"Uacute","":"ugrave","":"Ugrave","":"ubreve","":"Ubreve","":"ucirc","":"Ucirc","":"uring","":"Uring","":"uuml","":"Uuml","":"udblac","":"Udblac","":"utilde","":"Utilde","":"uogon","":"Uogon","":"umacr","":"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr","":"wcirc","":"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf","":"yacute","":"Yacute","":"ycirc","":"Ycirc","":"yuml","":"Yuml","":"zscr","":"zfr","":"zopf","":"Zfr","":"Zopf","":"Zscr","":"zacute","":"Zacute","":"zcaron","":"Zcaron","":"zdot","":"Zdot","":"imped","":"thorn","":"THORN","":"napos","":"alpha","":"Alpha","":"beta","":"Beta","":"gamma","":"Gamma","":"delta","":"Delta","":"epsi","":"epsiv","":"Epsilon","":"gammad","":"Gammad","":"zeta","":"Zeta","":"eta","":"Eta","":"theta","":"thetav","":"Theta","":"iota","":"Iota","":"kappa","":"kappav","":"Kappa","":"lambda","":"Lambda","":"mu","":"micro","":"Mu","":"nu","":"Nu","":"xi","":"Xi","":"omicron","":"Omicron","":"pi","":"piv","":"Pi","":"rho","":"rhov","":"Rho","":"sigma","":"Sigma","":"sigmaf","":"tau","":"Tau","":"upsi","":"Upsilon","":"Upsi","":"phi","":"phiv","":"Phi","":"chi","":"Chi","":"psi","":"Psi","":"omega","":"ohm","":"acy","":"Acy","":"bcy","":"Bcy","":"vcy","":"Vcy","":"gcy","":"Gcy","":"gjcy","":"GJcy","":"dcy","":"Dcy","":"djcy","":"DJcy","":"iecy","":"IEcy","":"iocy","":"IOcy","":"jukcy","":"Jukcy","":"zhcy","":"ZHcy","":"zcy","":"Zcy","":"dscy","":"DScy","":"icy","":"Icy","":"iukcy","":"Iukcy","":"yicy","":"YIcy","":"jcy","":"Jcy","":"jsercy","":"Jsercy","":"kcy","":"Kcy","":"kjcy","":"KJcy","":"lcy","":"Lcy","":"ljcy","":"LJcy","":"mcy","":"Mcy","":"ncy","":"Ncy","":"njcy","":"NJcy","":"ocy","":"Ocy","":"pcy","":"Pcy","":"rcy","":"Rcy","":"scy","":"Scy","":"tcy","":"Tcy","":"tshcy","":"TSHcy","":"ucy","":"Ucy","":"ubrcy","":"Ubrcy","":"fcy","":"Fcy","":"khcy","":"KHcy","":"tscy","":"TScy","":"chcy","":"CHcy","":"dzcy","":"DZcy","":"shcy","":"SHcy","":"shchcy","":"SHCHcy","":"hardcy","":"HARDcy","":"ycy","":"Ycy","":"softcy","":"SOFTcy","":"ecy","":"Ecy","":"yucy","":"YUcy","":"yacy","":"YAcy","":"aleph","":"beth","":"gimel","":"daleth"},h=/["&'<>`]/g,d={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},p=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,f={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},v={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},y={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},w=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],b=String.fromCharCode,T={}.hasOwnProperty,S=function(e,t){return T.call(e,t)},x=function(e,t){if(!e)return t;var i,s={};for(i in t)s[i]=S(e,i)?e[i]:t[i];return s},E=function(e,t){var i="";return e>=55296&&e<=57343||e>1114111?(t&&_("character reference outside the permissible Unicode range"),""):S(y,e)?(t&&_("disallowed character reference"),y[e]):(t&&function(e,t){for(var i=-1,s=e.length;++i<s;)if(e[i]==t)return!0;return!1}(w,e)&&_("disallowed character reference"),e>65535&&(i+=b((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=b(e))},C=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},k=function(e){return"&#"+e+";"},_=function(e){throw Error("Parse error: "+e)},D=function(e,t){(t=x(t,D.options)).strict&&m.test(e)&&_("forbidden code point");var i=t.encodeEverything,s=t.useNamedReferences,n=t.allowUnsafeSymbols,r=t.decimal?k:C,d=function(e){return r(e.charCodeAt(0))};return i?(e=e.replace(a,(function(e){return s&&S(u,e)?"&"+u[e]+";":d(e)})),s&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),s&&(e=e.replace(c,(function(e){return"&"+u[e]+";"})))):s?(n||(e=e.replace(h,(function(e){return"&"+u[e]+";"}))),e=(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(c,(function(e){return"&"+u[e]+";"}))):n||(e=e.replace(h,d)),e.replace(o,(function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1);return r(1024*(t-55296)+i-56320+65536)})).replace(l,d)};D.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var P=function(e,t){var i=(t=x(t,P.options)).strict;return i&&p.test(e)&&_("malformed character reference"),e.replace(g,(function(e,s,n,r,o,a,l,c,u){var h,d,p,m,g,y;return s?f[g=s]:n?(g=n,(y=r)&&t.isAttributeValue?(i&&"="==y&&_("`&` did not start a character reference"),e):(i&&_("named character reference was not terminated by a semicolon"),v[g]+(y||""))):o?(p=o,d=a,i&&!d&&_("character reference was not terminated by a semicolon"),h=parseInt(p,10),E(h,i)):l?(m=l,d=c,i&&!d&&_("character reference was not terminated by a semicolon"),h=parseInt(m,16),E(h,i)):(i&&_("named character reference was not terminated by a semicolon"),e)}))};P.options={isAttributeValue:!1,strict:!1};var A={version:"1.2.0",encode:D,decode:P,escape:function(e){return e.replace(h,(function(e){return d[e]}))},unescape:P};if(s&&!s.nodeType)if(n)n.exports=A;else for(var M in A)S(A,M)&&(s[M]=A[M]);else i.he=A}(ea)}(Zl,Zl.exports);var Xl=Zl.exports;function Kl(e){let t=Xl.decode(e);return t=t.replace(/<\/?[^>]+(>|$)/g,""),t}function Jl(e){document.querySelectorAll(".js-keyword-search-preview-autocomplete").forEach((t=>{!function(e,t){const i=new $l,s=e.querySelector("input"),n=e.querySelector(".o-combobox__submit"),r=t?t+"?keywords=":"/artwork-search?keywords=";i.init(e,{idPrefix:"n",endpoint:"/search/presearch/json",param:"keywords",permaParams:"&type[]=artist&type[]=artwork&type[]=group&not_creator=0",multiSelect:!1,resultItemClass:"o-combobox__result-item",handleSuggestionValues:e=>Yl(e)}),i.addEventListener("addResult",(e=>{const t=e.detail;s.value=Kl(t.item.title),window.location=r+s.value})),i.addEventListener("clearResults",(()=>{s.value=""})),s.addEventListener("keydown",(e=>{"Enter"===e.key&&(window.location=r+s.value)})),n.addEventListener("click",(()=>{window.location=r+s.value}))}(t,e)}))}function Ql(e){document.querySelectorAll(".js-global-search-header-form").forEach((t=>{!function(e,t){const i=new $l,s=e.querySelector("input"),n=e.querySelector(".o-combobox__submit"),r=location.protocol+"//"+location.host,o=t?r+t+"?keywords=":r+"/search?keywords=";i.init(e,{idPrefix:"n",endpoint:"/search/presearch/json",param:"keywords",multiSelect:!1,resultItemClass:"o-combobox__result-item",handleSuggestionValues:e=>Yl(e)}),i.addEventListener("addResult",(e=>{const t=e.detail;s.value=Kl(t.item.title),window.location.href=o+s.value})),i.addEventListener("clearResults",(()=>{s.value=""})),s.addEventListener("keydown",(e=>{if(e.preventDefault,"Enter"===e.key){const e=Kl(s.value);window.location.href=o+e}})),n.addEventListener("click",(()=>{const e=Kl(s.value);window.location.href=o+e}))}(t,e)}))}!function(e,t,i,s){t.behaviors.nga_artwork_search_preview={attach:function(e,t){e.querySelector(".js-keyword-search-preview-autocomplete")&&i("aws-search-preview-init",".js-keyword-search-preview-autocomplete").forEach((function(){Jl(t.artwork_search.path)}))}}}(jQuery,Drupal,once),function(e,t,i,s){t.behaviors.nga_global_search_header={attach:function(e,t){e.querySelector(".js-global-search-header-form")&&i("global-search-header-init",".js-global-search-header-form").forEach((function(){Ql(t.nga_search.routes.global_search_page)}))}}}(jQuery,Drupal,once);class ec extends HTMLElement{#Rt=!1;#It=null;#Ot;#Nt;#Bt;#Ht;#Ft;#qt=null;#zt=null;constructor(){super()}connectedCallback(){this.#Ft=window.matchMedia("(min-width: 950px)"),this.#Ot=this.querySelector(".c-scrolling-list__list-item:first-child:has(.c-small-card)"),this.#Nt=this.querySelectorAll(".c-scrolling-list__list-item:not(:first-child:has(.c-small-card))"),this.#Bt=this.querySelectorAll('[data-part="featured-item"] [data-part="image"]'),this.#Ht=this.querySelector(".c-scrolling-list__list"),this.#qt=new AbortController,nn.subscribe((e=>{e?this.#Vt():this.#Rt||this.#jt()}),{immediate:!0,signal:this.#qt.signal})}disconnectedCallback(){this.#qt.abort()}#jt(){this.#zt=new AbortController,this.#Ft.addEventListener("change",(e=>{this.#Ut(e.matches)}),{signal:AbortSignal.any([this.#qt.signal,this.#zt.signal])}),this.#Ut(this.#Ft.matches)}#Vt(){this.#It?.(),this.#zt?.abort(),Es([this.#Ot,...this.#Nt].filter(Boolean),{translateY:0,top:0,position:"static"},{duration:0}),Es(this.#Bt,{width:"100%"},{duration:0})}#Ut(e){this.#Rt||(this.#Gt(e),e?this.#It=function(e,t,{root:i,margin:s,amount:n="some"}={}){const r=V(e),o=new WeakMap,a=new IntersectionObserver((e=>{e.forEach((e=>{const i=o.get(e.target);if(e.isIntersecting!==Boolean(i))if(e.isIntersecting){const i=t(e);"function"==typeof i?o.set(e.target,i):a.unobserve(e.target)}else i&&(i(e),o.delete(e.target))}))}),{root:i,rootMargin:s,threshold:"number"==typeof n?n:tn[n]});return r.forEach((e=>a.observe(e))),()=>a.disconnect()}(this,(()=>{this.#Rt=!0;let e=null;const t=this.#Wt(),i=setTimeout((()=>{e=this.#Yt()}),300);this.#zt.signal.addEventListener("abort",(()=>{clearTimeout(i),t?.complete(),e?.complete()}))}),{margin:"0px 0px -80% 0px"}):this.#It?.())}#Gt(e){if(Es(this.#Bt,{width:e?"100vw":"100%"},{duration:0}),this.#Ot){const t=this.querySelector('[data-part="featured-item"] .c-scrolling-list__ftd-content'),i=window.getComputedStyle(t).paddingBottom,s=this.#Ot.getBoundingClientRect().height;Es(this.#Ot,{position:e?"sticky":"static",top:e?`calc(100vh - ${s+parseInt(i,10)}px)`:"auto"},{duration:0})}Es(this.#Nt,{translateY:e?"100vw":"0"},{duration:0}),this.classList.add("js-initialized")}#Wt(){return Es(this.#Bt,{width:"100%"},{type:"spring",damping:40,mass:4,stiffness:80})}#Yt(){let e="90vh";if(this.#Ot){const t=this.#Ht.getBoundingClientRect().top,i=window.getComputedStyle(this.#Ht).paddingTop;e=this.#Ot.getBoundingClientRect().top-t-parseInt(i,10)}return Es([this.#Ot,...this.#Nt].filter(Boolean),{translateY:[e,0],top:[0,0],position:"static"},{type:"spring",damping:40,mass:6,stiffness:80,delay:sn(.1)})}}function tc(){function e(){const e=document.querySelector(".c-article-header__details--inner")||document.body,t=function(){const e=document.querySelector('[data-component="citation-button"]');if(e)return e.getAttribute("data-content");return""}(),i=function(){const e=new Date;return`(accessed ${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]} ${e.getDate()}, ${e.getFullYear()})`}(),s=(new DOMParser).parseFromString(t,"text/html"),n=s.body.querySelector("p")?.innerHTML||"",r=document.createElement("div");r.className="c-article-header__detail c-article-header__detail--text print-citation";const o=document.createElement("p");o.innerHTML=n?`<strong>To cite:</strong> ${n} ${i}`:i,r.appendChild(o),e.appendChild(r)}function t(){document.querySelectorAll('img[loading="lazy"]').forEach((e=>{e.setAttribute("loading","eager")})),function(){const e=document.querySelectorAll("img");e.forEach((e=>{e.dataset.src?e.src=e.dataset.src:e.dataset.srcset&&(e.srcset=e.dataset.srcset)}))}()}window.addEventListener("beforeprint",(()=>{t(),document.body.insertAdjacentHTML("afterbegin",'\n        <div id="print-logo">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 684 72" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M51.06 54.05H40.95c-1.95-2.46-4.26-5.2-7.23-8.45L19.13 29.78c0 19.72.14 21.1 2.89 23.26v1.01H3.08v-1.01c2.82-2.24 \n            2.89-3.61 2.89-23.92v-.51c0-12.07-.07-15.53-.29-24.42h11.63c.72.94 1.66 2.02 2.53 2.96l18.57 20.3c0-18.71-.14-20.09-2.89-22.25V4.19h18.93V5.2c-2.89 \n            2.31-2.67 3.76-2.96 20.66l-.43 28.18ZM94.69 53.04v1.01H79.16l-.79-5.71c-2.02 4.05-4.91 6.36-9.9 6.36-7.59 0-13.15-7.08-13.15-16.26 0-13.01 9.1-19.72 \n            18.28-19.72 4.33 0 8.09 1.08 12.14 3.54l6.21-3.76.29.14V37.5c0 11.92.22 13.58 2.46 15.53Zm-18.35-7.95c.51 0 1.01-.14 1.52-.29V28.4c-.79-.36-1.37-.51-2.38-.51-2.75 \n            0-5.2 3.18-5.2 9.03s2.46 8.16 6.07 8.16ZM121.5 19.52v9.1h-8.16v12.14c0 2.96 1.16 4.05 3.25 4.05 1.16 0 2.82-.65 4.41-1.81l.29.14-.58 9.46c-2.89 1.23-5.85 \n            2.24-10.19 2.24-7.44 0-11.99-3.18-11.99-11.56V28.61H95.5v-7.08c5.06-2.96 11.2-7.44 17.27-12.79h.58v10.77h8.16ZM143.39 53.04v1.01h-19.72v-1.01c2.24-1.95 \n            2.46-3.61 2.46-15.75v-1.01c0-12.14-.22-13.8-2.46-15.75v-1.01h17.27v17.99c0 11.92.22 13.58 2.46 15.53Zm-1.66-43.5c0 4.41-3.76 7.88-8.74 7.88-5.27 0-8.24-3.54-8.24-7.73 \n            0-4.41 3.76-7.88 8.74-7.88 5.27 0 8.24 3.54 8.24 7.73ZM144.83 36.71c0-11.13 8.6-18.35 19-18.35s18.86 7.23 18.86 18.5-8.6 18.35-19 18.35-18.86-7.22-18.86-18.5Zm22.91.43c0-6.14-1.37-9.61-4.19-9.61-2.24 \n            0-3.76 2.38-3.76 8.89 0 6.14 1.37 9.61 4.19 9.61 2.24 0 3.76-2.38 3.76-8.89ZM184.21 53.04c2.24-1.95 2.46-3.61 2.46-15.75v-2.24c0-10.91-.22-12.57-2.46-14.52v-1.01h17.27v5.92l.29.07c1.95-3.9 5.56-6.72 \n            10.26-6.72 7.3 0 9.75 4.33 9.75 11.2v7.3c0 12.14.22 13.8 2.46 15.75v1.01h-18.93v-1.01c1.44-1.45 1.66-3.61 1.66-14.88v-5.71c0-2.6-1.16-3.68-2.6-3.68-1.66 0-2.89 1.01-2.89 3.68v5.71c0 11.27.22 13.44 \n            1.66 14.88v1.01h-18.93v-1.01ZM264.98 53.04v1.01h-15.53l-.79-5.71c-2.02 4.05-4.91 6.36-9.9 6.36-7.59 0-13.15-7.08-13.15-16.26 0-13.01 9.1-19.72 18.28-19.72 \n            4.33 0 8.09 1.08 12.14 3.54l6.21-3.76.29.14V37.5c0 11.92.22 13.58 2.46 15.53Zm-18.35-7.95c.51 0 1.01-.14 1.52-.29V28.4c-.79-.36-1.37-.51-2.38-.51-2.75 0-5.2 \n            3.18-5.2 9.03s2.46 8.16 6.07 8.16ZM266.14 54.05v-1.01c2.24-1.95 2.46-3.61 2.46-15.39V20.6c0-11.63-.22-13.44-2.46-15.39V4.2h17.27v33.45c0 11.78.22 13.44 2.46 \n            15.39v1.01h-19.72ZM333.26 31.73v-1.01h15.46v1.01c-1.88.65-2.67 1.66-2.67 5.71v5.92c0 1.73 0 3.9.36 4.77-7.73 4.7-14.09 7.08-21.17 7.08-13.87 \n            0-26.23-9.75-26.23-24.93S312.3 3.26 326.68 3.26c7.95 0 13.51 2.6 18.79 5.35-.29 2.02-.36 4.62-.36 7.66v1.81h-1.08c-2.82-8.02-9.1-12.64-18.13-12.64-10.91 \n            0-19.15 10.12-19.15 23.48 0 14.45 8.02 24.13 19.72 24.13 5.06 0 9.75-1.95 11.92-4.12 1.23-1.3 1.37-2.89 1.37-6.07v-5.71c0-3.61-.79-4.55-6.5-5.42ZM389.04 \n            53.04v1.01h-9.18l-.36-5.64c-3.32 4.48-7.15 6.65-11.78 6.65-7.44 0-14.31-6.14-14.31-15.9 0-11.7 8.96-18.71 17.41-18.71 3.32 0 6.07.79 9.39 2.75l4.7-2.67.29.14v26.81c0 \n            4.05.65 4.7 3.83 5.56Zm-19.3-.87c3.47 0 6.5-2.02 9.54-6.29V25.29c-2.75-1.88-5.06-2.67-8.16-2.67-6.14 0-11.05 6.07-11.05 15.46 0 8.89 4.34 14.09 9.68 14.09ZM391.2 \n            54.05v-1.01c3.54-.87 4.19-1.52 4.19-5.56V10.77c0-4.05-.65-4.7-4.19-5.56V4.2h10.12v43.28c0 4.05.79 4.7 4.41 5.56v1.01h-14.52ZM407.89 54.05v-1.01c3.61-.87 4.41-1.52 \n            4.41-5.56V10.77c0-4.05-.65-4.7-4.19-5.56V4.2h10.12v43.28c0 4.05.65 4.7 4.19 5.56v1.01H407.9ZM442.57 20.09c8.45 0 14.16 5.71 14.59 15.97h-24.85v.65c0 9.32 \n            4.48 16.47 11.34 16.47 4.12 0 8.16-2.38 11.34-7.51l.51.14c-.29 1.88-.29 3.61-.29 5.13-3.54 2.46-7.95 4.19-12.72 4.19-9.61 0-16.69-6.07-16.69-16.83 0-11.34 \n            8.02-18.21 16.76-18.21Zm-10.11 14.02h17.85c-.14-6.65-2.31-12.21-8.17-12.21-5.49 0-9.03 4.77-9.68 12.21ZM475.16 53.04v1.01h-14.52v-1.01c3.54-.87 4.19-1.52 \n            4.19-5.56V28.04c0-4.05-.58-4.7-4.19-5.78v-1.01h10.12v6.36c4.55-4.7 6.43-6.5 8.67-6.5.51 0 1.23.07 1.73.14v5.78c-4.7-.22-6.5-.14-10.4 2.1v18.35c0 4.05.87 \n            4.7 4.41 5.56ZM488.45 68.86v-.94c4.41-1.73 6.14-3.4 8.38-8.45l2.24-5.13-11.42-27.09c-1.66-3.9-2.31-4.48-3.97-4.99v-1.01h13v1.01c-2.67.51-3.47 1.3-3.47 2.46 \n            0 .51.29 1.59.72 2.75l8.16 20.09 7.95-19.87c.58-1.44.79-2.24.79-2.96.07-1.16-.72-1.95-3.4-2.46v-1.01h10.76v1.01c-2.53.72-3.47 1.44-5.06 5.13l-13.8 32.8c-2.09 \n            4.99-2.82 6.72-3.25 8.67h-7.66ZM525.15 37.79c0-10.48 8.96-17.7 17.56-17.7s17.56 7.01 17.56 17.41-8.96 17.7-17.56 17.7-17.56-7.01-17.56-17.41Zm28.47.58c0-9.46-4.26-16.33-10.91-16.33-6.21 \n            0-10.91 5.85-10.91 14.88s4.26 16.33 10.91 16.33c6.21 0 10.91-5.85 10.91-14.88ZM577.89 53.04v1.01h-14.52v-1.01c3.54-.87 4.19-1.52 4.19-5.56v-24.2h-4.19v-2.02h4.19c.36-10.84 6.72-17.77 \n            13.22-17.77 1.73 0 3.68.29 5.35.72l-.58 4.62-.29.07c-2.82-1.16-5.13-1.95-6.72-1.95-2.6 0-5.06.94-5.06 6.94v7.37h8.16v2.02h-8.16v24.2c0 4.05.87 4.7 4.41 5.56ZM601.23 54.05h-11.78v-1.01c2.38-.65 \n            3.18-1.73 6-7.95l14.81-32.51c1.59-3.47 2.75-6.21 3.83-8.89h2.17c1.08 2.67 2.24 5.42 3.68 8.89l14.88 35.26c1.45 3.32 2.24 4.55 4.62 5.2v1.01h-14.81v-1.01c3.18-.58 4.26-1.23 4.26-2.53 0-.87-.51-2.17-1.08-3.61l-3.9-9.61h-21.68l-3.47 7.88c-1.08 2.38-1.81 4.12-1.81 5.35 0 1.3 1.08 1.95 4.26 2.53v1.01Zm21.74-18.93-9.54-22.83-10.19 22.83h19.72ZM654.55 53.04v1.01h-12.93v-1.01c2.17-.58 2.6-1.52 2.6-5.56V28.04c0-4.05-.58-4.7-4.19-5.78v-1.01h10.12v6.36c4.55-4.7 6.43-6.5 8.67-6.5.51 0 1.23.07 1.73.14v5.78c-4.7-.22-6.5-.14-10.4 2.1v18.35c0 4.05.87 4.7 4.41 5.56ZM681.78 21.25v2.02h-9.25V46.9c0 4.19 1.59 6 3.76 6 1.73 0 3.25-1.08 5.27-3.83l.58.22c-.22 1.3-.36 2.67-.36 3.76-1.52 1.01-4.55 1.81-6.43 1.81-4.33 0-8.74-1.59-8.74-8.38V23.29h-3.4v-1.01c2.89-2.02 5.49-4.48 8.74-8.74h.58v7.73h9.25Z"/>\n          </svg> \n        </div>\n      '.trim()),e(),function(){const e=document.querySelector("#main-content");e&&e.querySelectorAll("a[href]").forEach((e=>{const t=e.textContent.trim(),i=e.href.trim(),s=null!==e.querySelector("img");(t===i||s)&&e.classList.add("hide-url-print")}))}()})),window.addEventListener("afterprint",(()=>{document.getElementById("print-logo").remove(),function(){const e=document.querySelector(".print-citation");e&&e.remove()}()}))}customElements.get("nga-scrolling-list")||customElements.define("nga-scrolling-list",ec);class ic{constructor(e){this.listWrapper=e,this.list=e.querySelector(".js-truncated-list__list"),this.items=this.list.querySelectorAll(".js-truncated-list__item"),this.showMoreButton=e.querySelector(".js-truncated-list__more-btn"),this.init()}init(){this.listWrapper.addEventListener("click",(e=>{const t=e.target.closest(".js-truncated-list__more-btn");t&&this.listWrapper.contains(t)&&this.showMore(t)}))}showMore(e=null){e&&(this.showMoreButton=e);const t=this.showMoreButton.getAttribute("data-ajax-trigger");this.showMoreButton&&!this.showMoreButton.classList.contains("ajax-is-triggered")&&t&&this.triggerAjax()}triggerAjax(){const e=this.showMoreButton.getAttribute("data-ajax-trigger");this.showMoreButton.classList.add("ajax-is-triggered"),Drupal.ajax({url:e,httpMethod:"GET"}).execute()}}function sc(e=null){null===e&&(e=document);e.querySelectorAll(".js-truncated-list").forEach((e=>{new ic(e)})),e.classList&&e.classList.contains("js-truncated-list")&&new ic(e)}function nc(){new gn,document.querySelectorAll(".js-scroll-image-header").forEach((e=>{new on(e)})),document.querySelectorAll('[data-component="content-card"]').forEach((e=>{new wn(e)})),new fn,new vn,document.querySelectorAll('[data-component="image-compare-slider"]').forEach((e=>{new yn(e)})),document.querySelectorAll('[data-component="inline-audio"]').forEach((e=>{new Ao(e)})),function(){const e=document.querySelectorAll('[data-component="inline-video"]'),t=document.getElementById("modal-video");if(t&&e){const i=new Uo(t);e.forEach((e=>{new Wo(e,i,t)}))}document.querySelectorAll(".js-plyr").forEach((e=>{new Yo(e)})),document.querySelectorAll(".js-video-embed").forEach((e=>{e.closest(".js-modal")&&new $o(e)}))}(),function(){const e=document.querySelectorAll('[data-component="note"]'),t=document.getElementById("modal-notes");if(t&&e){const i=new Uo(t);e.forEach((e=>{new Zo(e,i,t)}))}}(),document.querySelectorAll(".js-moving-label").forEach((e=>new Ko(e))),document.querySelectorAll(".js-citation-button").forEach((e=>{new Qo(e)})),document.querySelectorAll(".js-zoom-modal").forEach((e=>{new na(e)})),document.querySelectorAll(".js-ambient-video").forEach((e=>new ra(e))),document.querySelectorAll(".js-artwork-grid").forEach((e=>{new la(e)})),ua(),document.querySelectorAll(".js-full-width-video").forEach((e=>new ha(e))),new Sa,Wl(),tc(),sc(),initCustomSelect()}!function(e,t,i,s){t.behaviors.truncatedList={attach:function(e){sc(e)}}}(jQuery,Drupal,once),document.addEventListener("DOMContentLoaded",(()=>{nc()}))}();;
(function(Drupal,drupalSettings,once){const sitewideAlertsSelector='[data-sitewide-alert]';const shouldShowOnThisPage=(pages=[],negate=true)=>{if(pages.length===0)return true;let pagePathMatches=false;const currentPath=window.location.pathname;for(let i=0;i<pages.length;i++){const baseUrl=drupalSettings.path.baseUrl.slice(0,-1);const page=baseUrl+pages[i];if(page.charAt(page.length-1)==='*'){if(currentPath.startsWith(page.substring(0,page.length-1))){pagePathMatches=true;break;}}else{if(page===currentPath){pagePathMatches=true;break;}}}return negate?!pagePathMatches:pagePathMatches;};const alertWasDismissed=(alert)=>{if(!(`alert-dismissed-${alert.uuid}` in window.localStorage))return false;const dismissedAtTimestamp=Number(window.localStorage.getItem(`alert-dismissed-${alert.uuid}`));return dismissedAtTimestamp>=alert.dismissalIgnoreBefore;};const removeAlert=(alert)=>{alert.dispatchEvent(new CustomEvent('sitewide-alert-removed',{bubbles:true,composed:true}));alert.remove();};const dismissAlert=(alert)=>{window.localStorage.setItem(`alert-dismissed-${alert.uuid}`,String(Math.round(new Date().getTime()/1000)));document.querySelectorAll(`[data-uuid="${alert.uuid}"]`).forEach((alert)=>{alert.dispatchEvent(new CustomEvent('sitewide-alert-dismissed',{bubbles:true,composed:true}));removeAlert(alert);});};const buildAlertElement=(alert)=>{const alertElement=document.createElement('div');alertElement.innerHTML=alert.renderedAlert;if(alert.dismissible){const dismissButtons=alertElement.getElementsByClassName('js-dismiss-button');for(let i=0;i<dismissButtons.length;i++)dismissButtons[i].addEventListener('click',()=>dismissAlert(alert));}return alertElement.firstElementChild;};const fetchAlerts=()=>{return fetch(`${window.location.origin+drupalSettings.path.baseUrl+drupalSettings.path.pathPrefix}sitewide_alert/load`).then((res)=>res.json()).then((result)=>result.sitewideAlerts,(error)=>{console.error(error);});};const removeStaleAlerts=(alerts)=>{const roots=document.querySelectorAll(sitewideAlertsSelector);roots.forEach((root)=>{const existingAlerts=root.querySelectorAll('[data-uuid]');const alertsToBeRemoved=Array.from(existingAlerts).filter((alert)=>!alerts.includes(alert.getAttribute('data-uuid')));alertsToBeRemoved.forEach((alert)=>removeAlert(alert));});};const initAlerts=()=>{const roots=document.querySelectorAll(sitewideAlertsSelector);fetchAlerts().then((alerts)=>{removeStaleAlerts(alerts.map((alert)=>alert.uuid));alerts.forEach((alert)=>{const dismissed=alertWasDismissed(alert);const showOnThisPage=shouldShowOnThisPage(alert.showOnPages,alert.negateShowOnPages);roots.forEach((root)=>{const existingAlertElement=root.querySelector(`[data-uuid="${alert.uuid}"]`);if(showOnThisPage&&!dismissed){if(existingAlertElement&&existingAlertElement.dataset.changed===alert.changed)return;const renderableAlertElement=buildAlertElement(alert);if(existingAlertElement)root.replaceChild(renderableAlertElement,existingAlertElement);else root.appendChild(renderableAlertElement);renderableAlertElement.dispatchEvent(new CustomEvent('sitewide-alert-rendered',{bubbles:true,composed:true}));Drupal.attachBehaviors();return;}if((dismissed||!showOnThisPage)&&existingAlertElement)removeAlert(existingAlertElement);});});});};const supportsHistoryPushState=()=>{return 'pushState' in window.history&&window.history.pushState!==null;};const supportsHistoryReplaceState=()=>{return ('replaceState' in window.history&&window.history.replaceState!==null);};const triggerHistoryEvent=(thisArg,argArray)=>{const event=new CustomEvent('sitewidealerts.popstate',{detail:{state:thisArg,options:argArray}});window.dispatchEvent(event);};const proxyPushState=()=>{if(supportsHistoryPushState())window.history.pushState=new Proxy(window.history.pushState,{apply(target,thisArg,argArray){triggerHistoryEvent(thisArg,argArray);return target.apply(thisArg,argArray);}});if(supportsHistoryReplaceState())window.history.replaceState=new Proxy(window.history.replaceState,{apply(target,thisArg,argArray){triggerHistoryEvent(thisArg,argArray);return target.apply(thisArg,argArray);}});};function debounce(func,wait,immediate){let timeout;return function(...args){const context=this;const later=function(){timeout=null;if(!immediate)func.apply(context,args);};const callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args);};}const historyListener=()=>{const debounced=debounce(initAlerts,2000);window.addEventListener('sitewidealerts.popstate',debounced);window.addEventListener('popstate',debounced);};Drupal.behaviors.sitewide_alert_init={attach:(context)=>{once('sitewide_alerts_init','html',context).forEach(()=>{initAlerts();proxyPushState();historyListener();if(drupalSettings.sitewideAlert.automaticRefresh===true){const interval=setInterval(()=>initAlerts(),drupalSettings.sitewideAlert.refreshInterval<1000?1000:drupalSettings.sitewideAlert.refreshInterval);if(!drupalSettings.sitewideAlert.automaticRefresh)clearInterval(interval);}});}};})(Drupal,drupalSettings,once);;
